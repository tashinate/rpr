var fb=Object.defineProperty;var kf=t=>{throw TypeError(t)};var mb=(t,e,r)=>e in t?fb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Z=(t,e,r)=>mb(t,typeof e!="symbol"?e+"":e,r),wc=(t,e,r)=>e.has(t)||kf("Cannot "+r);var L=(t,e,r)=>(wc(t,e,"read from private field"),r?r.call(t):e.get(t)),me=(t,e,r)=>e.has(t)?kf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),oe=(t,e,r,n)=>(wc(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Xe=(t,e,r)=>(wc(t,e,"access private method"),r);var eo=(t,e,r,n)=>({set _(s){oe(t,e,s,r)},get _(){return L(t,e,n)}});function pb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ip={exports:{}},Rl={},op={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=Symbol.for("react.element"),xb=Symbol.for("react.portal"),yb=Symbol.for("react.fragment"),vb=Symbol.for("react.strict_mode"),bb=Symbol.for("react.profiler"),wb=Symbol.for("react.provider"),jb=Symbol.for("react.context"),_b=Symbol.for("react.forward_ref"),Nb=Symbol.for("react.suspense"),Sb=Symbol.for("react.memo"),kb=Symbol.for("react.lazy"),Ef=Symbol.iterator;function Eb(t){return t===null||typeof t!="object"?null:(t=Ef&&t[Ef]||t["@@iterator"],typeof t=="function"?t:null)}var lp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cp=Object.assign,dp={};function ka(t,e,r){this.props=t,this.context=e,this.refs=dp,this.updater=r||lp}ka.prototype.isReactComponent={};ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function up(){}up.prototype=ka.prototype;function Ku(t,e,r){this.props=t,this.context=e,this.refs=dp,this.updater=r||lp}var qu=Ku.prototype=new up;qu.constructor=Ku;cp(qu,ka.prototype);qu.isPureReactComponent=!0;var Cf=Array.isArray,hp=Object.prototype.hasOwnProperty,Qu={current:null},fp={key:!0,ref:!0,__self:!0,__source:!0};function mp(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hp.call(e,n)&&!fp.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Vi,type:t,key:i,ref:o,props:s,_owner:Qu.current}}function Cb(t,e){return{$$typeof:Vi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vi}function Tb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Tf=/\/+/g;function jc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tb(""+t.key):e.toString(36)}function Co(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vi:case xb:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+jc(o,0):n,Cf(s)?(r="",t!=null&&(r=t.replace(Tf,"$&/")+"/"),Co(s,e,r,"",function(d){return d})):s!=null&&(Yu(s)&&(s=Cb(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Cf(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+jc(i,l);o+=Co(i,e,r,c,s)}else if(c=Eb(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+jc(i,l++),o+=Co(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function to(t,e,r){if(t==null)return t;var n=[],s=0;return Co(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Pb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},To={transition:null},Ab={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:To,ReactCurrentOwner:Qu};function pp(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:to,forEach:function(t,e,r){to(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return to(t,function(){e++}),e},toArray:function(t){return to(t,function(e){return e})||[]},only:function(t){if(!Yu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=ka;de.Fragment=yb;de.Profiler=bb;de.PureComponent=Ku;de.StrictMode=vb;de.Suspense=Nb;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ab;de.act=pp;de.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hp.call(e,c)&&!fp.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Vi,type:t.type,key:s,ref:i,props:n,_owner:o}};de.createContext=function(t){return t={$$typeof:jb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wb,_context:t},t.Consumer=t};de.createElement=mp;de.createFactory=function(t){var e=mp.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:_b,render:t}};de.isValidElement=Yu;de.lazy=function(t){return{$$typeof:kb,_payload:{_status:-1,_result:t},_init:Pb}};de.memo=function(t,e){return{$$typeof:Sb,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=To.transition;To.transition={};try{t()}finally{To.transition=e}};de.unstable_act=pp;de.useCallback=function(t,e){return ut.current.useCallback(t,e)};de.useContext=function(t){return ut.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};de.useEffect=function(t,e){return ut.current.useEffect(t,e)};de.useId=function(){return ut.current.useId()};de.useImperativeHandle=function(t,e,r){return ut.current.useImperativeHandle(t,e,r)};de.useInsertionEffect=function(t,e){return ut.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return ut.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return ut.current.useMemo(t,e)};de.useReducer=function(t,e,r){return ut.current.useReducer(t,e,r)};de.useRef=function(t){return ut.current.useRef(t)};de.useState=function(t){return ut.current.useState(t)};de.useSyncExternalStore=function(t,e,r){return ut.current.useSyncExternalStore(t,e,r)};de.useTransition=function(){return ut.current.useTransition()};de.version="18.3.1";op.exports=de;var p=op.exports;const B=ap(p),gp=pb({__proto__:null,default:B},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb=p,Ib=Symbol.for("react.element"),Lb=Symbol.for("react.fragment"),Mb=Object.prototype.hasOwnProperty,Ob=Rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$b={key:!0,ref:!0,__self:!0,__source:!0};function xp(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Mb.call(e,n)&&!$b.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Ib,type:t,key:i,ref:o,props:s,_owner:Ob.current}}Rl.Fragment=Lb;Rl.jsx=xp;Rl.jsxs=xp;ip.exports=Rl;var a=ip.exports,yp={exports:{}},At={},vp={exports:{}},bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,R){var z=A.length;A.push(R);e:for(;0<z;){var U=z-1>>>1,H=A[U];if(0<s(H,R))A[U]=R,A[z]=H,z=U;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var R=A[0],z=A.pop();if(z!==R){A[0]=z;e:for(var U=0,H=A.length,ee=H>>>1;U<ee;){var te=2*(U+1)-1,Ke=A[te],ne=te+1,_e=A[ne];if(0>s(Ke,z))ne<H&&0>s(_e,Ke)?(A[U]=_e,A[ne]=z,U=ne):(A[U]=Ke,A[te]=z,U=te);else if(ne<H&&0>s(_e,z))A[U]=_e,A[ne]=z,U=ne;else break e}}return R}function s(A,R){var z=A.sortIndex-R.sortIndex;return z!==0?z:A.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var R=r(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=A)n(d),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(d)}}function j(A){if(v=!1,b(A),!g)if(r(c)!==null)g=!0,G(_);else{var R=r(d);R!==null&&re(j,R.startTime-A)}}function _(A,R){g=!1,v&&(v=!1,y(k),k=-1),m=!0;var z=f;try{for(b(R),h=r(c);h!==null&&(!(h.expirationTime>R)||A&&!O());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var H=U(h.expirationTime<=R);R=t.unstable_now(),typeof H=="function"?h.callback=H:h===r(c)&&n(c),b(R)}else n(c);h=r(c)}if(h!==null)var ee=!0;else{var te=r(d);te!==null&&re(j,te.startTime-R),ee=!1}return ee}finally{h=null,f=z,m=!1}}var N=!1,S=null,k=-1,E=5,T=-1;function O(){return!(t.unstable_now()-T<E)}function P(){if(S!==null){var A=t.unstable_now();T=A;var R=!0;try{R=S(!0,A)}finally{R?I():(N=!1,S=null)}}else N=!1}var I;if(typeof x=="function")I=function(){x(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Q=M.port2;M.port1.onmessage=P,I=function(){Q.postMessage(null)}}else I=function(){w(P,0)};function G(A){S=A,N||(N=!0,I())}function re(A,R){k=w(function(){A(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,G(_))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var z=f;f=R;try{return A()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,R){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var z=f;f=A;try{return R()}finally{f=z}},t.unstable_scheduleCallback=function(A,R,z){var U=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?U+z:U):z=U,A){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,A={id:u++,callback:R,priorityLevel:A,startTime:z,expirationTime:H,sortIndex:-1},z>U?(A.sortIndex=z,e(d,A),r(c)===null&&A===r(d)&&(v?(y(k),k=-1):v=!0,re(j,z-U))):(A.sortIndex=H,e(c,A),g||m||(g=!0,G(_))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var R=f;return function(){var z=f;f=R;try{return A.apply(this,arguments)}finally{f=z}}}})(bp);vp.exports=bp;var Ub=vp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=p,Pt=Ub;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wp=new Set,ui={};function ys(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(ui[t]=e,t=0;t<e.length;t++)wp.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,zb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pf={},Af={};function Fb(t){return hd.call(Af,t)?!0:hd.call(Pf,t)?!1:zb.test(t)?Af[t]=!0:(Pf[t]=!0,!1)}function Bb(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vb(t,e,r,n){if(e===null||typeof e>"u"||Bb(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ht(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ju=/[\-:]([a-z])/g;function Xu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ju,Xu);Je[e]=new ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ju,Xu);Je[e]=new ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ju,Xu);Je[e]=new ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zu(t,e,r,n){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vb(e,r,s,n)&&(r=null),n||s===null?Fb(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fr=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ro=Symbol.for("react.element"),Os=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),eh=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),_p=Symbol.for("react.context"),th=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),pd=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),Np=Symbol.for("react.offscreen"),Rf=Symbol.iterator;function Oa(t){return t===null||typeof t!="object"?null:(t=Rf&&t[Rf]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,_c;function qa(t){if(_c===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_c=e&&e[1]||""}return`
`+_c+t}var Nc=!1;function Sc(t,e){if(!t||Nc)return"";Nc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?qa(t):""}function Hb(t){switch(t.tag){case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return t=Sc(t.type,!1),t;case 11:return t=Sc(t.type.render,!1),t;case 1:return t=Sc(t.type,!0),t;default:return""}}function gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Os:return"Portal";case fd:return"Profiler";case eh:return"StrictMode";case md:return"Suspense";case pd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _p:return(t.displayName||"Context")+".Consumer";case jp:return(t._context.displayName||"Context")+".Provider";case th:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rh:return e=t.displayName||null,e!==null?e:gd(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return gd(t(e))}catch{}}return null}function Gb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gd(e);case 8:return e===eh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wb(t){var e=Sp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function no(t){t._valueTracker||(t._valueTracker=Wb(t))}function kp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Sp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Go(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xd(t,e){var r=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function If(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ep(t,e){e=e.checked,e!=null&&Zu(t,"checked",e,!1)}function yd(t,e){Ep(t,e);var r=yn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vd(t,e.type,r):e.hasOwnProperty("defaultValue")&&vd(t,e.type,yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function vd(t,e,r){(e!=="number"||Go(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Qa=Array.isArray;function Qs(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(D(92));if(Qa(r)){if(1<r.length)throw Error(D(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yn(r)}}function Cp(t,e){var r=yn(e.value),n=yn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Of(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var so,Pp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=so.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kb=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(t){Kb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Za[e]=Za[t]})});function Ap(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Za.hasOwnProperty(t)&&Za[t]?(""+e).trim():e+"px"}function Rp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ap(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var qb=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(t,e){if(e){if(qb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function _d(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=null;function nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sd=null,Ys=null,Js=null;function $f(t){if(t=Wi(t)){if(typeof Sd!="function")throw Error(D(280));var e=t.stateNode;e&&(e=$l(e),Sd(t.stateNode,t.type,e))}}function Ip(t){Ys?Js?Js.push(t):Js=[t]:Ys=t}function Lp(){if(Ys){var t=Ys,e=Js;if(Js=Ys=null,$f(t),e)for(t=0;t<e.length;t++)$f(e[t])}}function Mp(t,e){return t(e)}function Op(){}var kc=!1;function $p(t,e,r){if(kc)return t(e,r);kc=!0;try{return Mp(t,e,r)}finally{kc=!1,(Ys!==null||Js!==null)&&(Op(),Lp())}}function fi(t,e){var r=t.stateNode;if(r===null)return null;var n=$l(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(D(231,e,typeof r));return r}var kd=!1;if(Mr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){kd=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{kd=!1}function Qb(t,e,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var ei=!1,Wo=null,Ko=!1,Ed=null,Yb={onError:function(t){ei=!0,Wo=t}};function Jb(t,e,r,n,s,i,o,l,c){ei=!1,Wo=null,Qb.apply(Yb,arguments)}function Xb(t,e,r,n,s,i,o,l,c){if(Jb.apply(this,arguments),ei){if(ei){var d=Wo;ei=!1,Wo=null}else throw Error(D(198));Ko||(Ko=!0,Ed=d)}}function vs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Up(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uf(t){if(vs(t)!==t)throw Error(D(188))}function Zb(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(D(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Uf(s),t;if(i===n)return Uf(s),e;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?t:e}function Dp(t){return t=Zb(t),t!==null?zp(t):null}function zp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zp(t);if(e!==null)return e;t=t.sibling}return null}var Fp=Pt.unstable_scheduleCallback,Df=Pt.unstable_cancelCallback,ew=Pt.unstable_shouldYield,tw=Pt.unstable_requestPaint,Me=Pt.unstable_now,rw=Pt.unstable_getCurrentPriorityLevel,sh=Pt.unstable_ImmediatePriority,Bp=Pt.unstable_UserBlockingPriority,qo=Pt.unstable_NormalPriority,nw=Pt.unstable_LowPriority,Vp=Pt.unstable_IdlePriority,Il=null,vr=null;function sw(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Il,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:ow,aw=Math.log,iw=Math.LN2;function ow(t){return t>>>=0,t===0?32:31-(aw(t)/iw|0)|0}var ao=64,io=4194304;function Ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ya(l):(i&=o,i!==0&&(n=Ya(i)))}else o=r&~s,o!==0?n=Ya(o):i!==0&&(n=Ya(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-tr(e),s=1<<r,n|=t[r],e&=~s;return n}function lw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=lw(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Cd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hp(){var t=ao;return ao<<=1,!(ao&4194240)&&(ao=64),t}function Ec(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hi(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=r}function dw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-tr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ah(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-tr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var xe=0;function Gp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wp,ih,Kp,qp,Qp,Td=!1,oo=[],dn=null,un=null,hn=null,mi=new Map,pi=new Map,Xr=[],uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zf(t,e){switch(t){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":mi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pi.delete(e.pointerId)}}function Ua(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wi(e),e!==null&&ih(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hw(t,e,r,n,s){switch(e){case"focusin":return dn=Ua(dn,t,e,r,n,s),!0;case"dragenter":return un=Ua(un,t,e,r,n,s),!0;case"mouseover":return hn=Ua(hn,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return mi.set(i,Ua(mi.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,pi.set(i,Ua(pi.get(i)||null,t,e,r,n,s)),!0}return!1}function Yp(t){var e=ts(t.target);if(e!==null){var r=vs(e);if(r!==null){if(e=r.tag,e===13){if(e=Up(r),e!==null){t.blockedOn=e,Qp(t.priority,function(){Kp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Pd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Nd=n,r.target.dispatchEvent(n),Nd=null}else return e=Wi(r),e!==null&&ih(e),t.blockedOn=r,!1;e.shift()}return!0}function Ff(t,e,r){Po(t)&&r.delete(e)}function fw(){Td=!1,dn!==null&&Po(dn)&&(dn=null),un!==null&&Po(un)&&(un=null),hn!==null&&Po(hn)&&(hn=null),mi.forEach(Ff),pi.forEach(Ff)}function Da(t,e){t.blockedOn===e&&(t.blockedOn=null,Td||(Td=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,fw)))}function gi(t){function e(s){return Da(s,t)}if(0<oo.length){Da(oo[0],t);for(var r=1;r<oo.length;r++){var n=oo[r];n.blockedOn===t&&(n.blockedOn=null)}}for(dn!==null&&Da(dn,t),un!==null&&Da(un,t),hn!==null&&Da(hn,t),mi.forEach(e),pi.forEach(e),r=0;r<Xr.length;r++)n=Xr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Xr.length&&(r=Xr[0],r.blockedOn===null);)Yp(r),r.blockedOn===null&&Xr.shift()}var Xs=Fr.ReactCurrentBatchConfig,Yo=!0;function mw(t,e,r,n){var s=xe,i=Xs.transition;Xs.transition=null;try{xe=1,oh(t,e,r,n)}finally{xe=s,Xs.transition=i}}function pw(t,e,r,n){var s=xe,i=Xs.transition;Xs.transition=null;try{xe=4,oh(t,e,r,n)}finally{xe=s,Xs.transition=i}}function oh(t,e,r,n){if(Yo){var s=Pd(t,e,r,n);if(s===null)$c(t,e,n,Jo,r),zf(t,n);else if(hw(s,t,e,r,n))n.stopPropagation();else if(zf(t,n),e&4&&-1<uw.indexOf(t)){for(;s!==null;){var i=Wi(s);if(i!==null&&Wp(i),i=Pd(t,e,r,n),i===null&&$c(t,e,n,Jo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else $c(t,e,n,null,r)}}var Jo=null;function Pd(t,e,r,n){if(Jo=null,t=nh(n),t=ts(t),t!==null)if(e=vs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Up(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jo=t,null}function Jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rw()){case sh:return 1;case Bp:return 4;case qo:case nw:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var on=null,lh=null,Ao=null;function Xp(){if(Ao)return Ao;var t,e=lh,r=e.length,n,s="value"in on?on.value:on.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ao=s.slice(t,1<n?1-n:void 0)}function Ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lo(){return!0}function Bf(){return!1}function Rt(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lo:Bf,this.isPropagationStopped=Bf,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Rt(Ea),Gi=Re({},Ea,{view:0,detail:0}),gw=Rt(Gi),Cc,Tc,za,Ll=Re({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(Cc=t.screenX-za.screenX,Tc=t.screenY-za.screenY):Tc=Cc=0,za=t),Cc)},movementY:function(t){return"movementY"in t?t.movementY:Tc}}),Vf=Rt(Ll),xw=Re({},Ll,{dataTransfer:0}),yw=Rt(xw),vw=Re({},Gi,{relatedTarget:0}),Pc=Rt(vw),bw=Re({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),ww=Rt(bw),jw=Re({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_w=Rt(jw),Nw=Re({},Ea,{data:0}),Hf=Rt(Nw),Sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ew[t])?!!e[t]:!1}function dh(){return Cw}var Tw=Re({},Gi,{key:function(t){if(t.key){var e=Sw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pw=Rt(Tw),Aw=Re({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=Rt(Aw),Rw=Re({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),Iw=Rt(Rw),Lw=Re({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mw=Rt(Lw),Ow=Re({},Ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$w=Rt(Ow),Uw=[9,13,27,32],uh=Mr&&"CompositionEvent"in window,ti=null;Mr&&"documentMode"in document&&(ti=document.documentMode);var Dw=Mr&&"TextEvent"in window&&!ti,Zp=Mr&&(!uh||ti&&8<ti&&11>=ti),Wf=" ",Kf=!1;function eg(t,e){switch(t){case"keyup":return Uw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function zw(t,e){switch(t){case"compositionend":return tg(e);case"keypress":return e.which!==32?null:(Kf=!0,Wf);case"textInput":return t=e.data,t===Wf&&Kf?null:t;default:return null}}function Fw(t,e){if(Us)return t==="compositionend"||!uh&&eg(t,e)?(t=Xp(),Ao=lh=on=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zp&&e.locale!=="ko"?null:e.data;default:return null}}var Bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bw[t.type]:e==="textarea"}function rg(t,e,r,n){Ip(n),e=Xo(e,"onChange"),0<e.length&&(r=new ch("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ri=null,xi=null;function Vw(t){fg(t,0)}function Ml(t){var e=Fs(t);if(kp(e))return t}function Hw(t,e){if(t==="change")return e}var ng=!1;if(Mr){var Ac;if(Mr){var Rc="oninput"in document;if(!Rc){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),Rc=typeof Qf.oninput=="function"}Ac=Rc}else Ac=!1;ng=Ac&&(!document.documentMode||9<document.documentMode)}function Yf(){ri&&(ri.detachEvent("onpropertychange",sg),xi=ri=null)}function sg(t){if(t.propertyName==="value"&&Ml(xi)){var e=[];rg(e,xi,t,nh(t)),$p(Vw,e)}}function Gw(t,e,r){t==="focusin"?(Yf(),ri=e,xi=r,ri.attachEvent("onpropertychange",sg)):t==="focusout"&&Yf()}function Ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ml(xi)}function Kw(t,e){if(t==="click")return Ml(e)}function qw(t,e){if(t==="input"||t==="change")return Ml(e)}function Qw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:Qw;function yi(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!hd.call(e,s)||!sr(t[s],e[s]))return!1}return!0}function Jf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xf(t,e){var r=Jf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jf(r)}}function ag(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ag(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ig(){for(var t=window,e=Go();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Go(t.document)}return e}function hh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yw(t){var e=ig(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ag(r.ownerDocument.documentElement,r)){if(n!==null&&hh(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Xf(r,i);var o=Xf(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jw=Mr&&"documentMode"in document&&11>=document.documentMode,Ds=null,Ad=null,ni=null,Rd=!1;function Zf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rd||Ds==null||Ds!==Go(n)||(n=Ds,"selectionStart"in n&&hh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ni&&yi(ni,n)||(ni=n,n=Xo(Ad,"onSelect"),0<n.length&&(e=new ch("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ds)))}function co(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zs={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Ic={},og={};Mr&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ol(t){if(Ic[t])return Ic[t];if(!zs[t])return t;var e=zs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in og)return Ic[t]=e[r];return t}var lg=Ol("animationend"),cg=Ol("animationiteration"),dg=Ol("animationstart"),ug=Ol("transitionend"),hg=new Map,e0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(t,e){hg.set(t,e),ys(e,[t])}for(var Lc=0;Lc<e0.length;Lc++){var Mc=e0[Lc],Xw=Mc.toLowerCase(),Zw=Mc[0].toUpperCase()+Mc.slice(1);Cn(Xw,"on"+Zw)}Cn(lg,"onAnimationEnd");Cn(cg,"onAnimationIteration");Cn(dg,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(ug,"onTransitionEnd");fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function t0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Xb(n,e,void 0,t),t.currentTarget=null}function fg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;t0(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;t0(s,l,d),i=c}}}if(Ko)throw t=Ed,Ko=!1,Ed=null,t}function Ee(t,e){var r=e[$d];r===void 0&&(r=e[$d]=new Set);var n=t+"__bubble";r.has(n)||(mg(e,t,2,!1),r.add(n))}function Oc(t,e,r){var n=0;e&&(n|=4),mg(r,t,n,e)}var uo="_reactListening"+Math.random().toString(36).slice(2);function vi(t){if(!t[uo]){t[uo]=!0,wp.forEach(function(r){r!=="selectionchange"&&(e1.has(r)||Oc(r,!1,t),Oc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uo]||(e[uo]=!0,Oc("selectionchange",!1,e))}}function mg(t,e,r,n){switch(Jp(e)){case 1:var s=mw;break;case 4:s=pw;break;default:s=oh}r=s.bind(null,e,r,t),s=void 0,!kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function $c(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ts(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}$p(function(){var d=i,u=nh(r),h=[];e:{var f=hg.get(t);if(f!==void 0){var m=ch,g=t;switch(t){case"keypress":if(Ro(r)===0)break e;case"keydown":case"keyup":m=Pw;break;case"focusin":g="focus",m=Pc;break;case"focusout":g="blur",m=Pc;break;case"beforeblur":case"afterblur":m=Pc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Iw;break;case lg:case cg:case dg:m=ww;break;case ug:m=Mw;break;case"scroll":m=gw;break;case"wheel":m=$w;break;case"copy":case"cut":case"paste":m=_w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gf}var v=(e&4)!==0,w=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=d,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=fi(x,y),j!=null&&v.push(bi(x,j,b)))),w)break;x=x.return}0<v.length&&(f=new m(f,g,null,r,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==Nd&&(g=r.relatedTarget||r.fromElement)&&(ts(g)||g[Or]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=d,g=g?ts(g):null,g!==null&&(w=vs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(v=Vf,j="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=Gf,j="onPointerLeave",y="onPointerEnter",x="pointer"),w=m==null?f:Fs(m),b=g==null?f:Fs(g),f=new v(j,x+"leave",m,r,u),f.target=w,f.relatedTarget=b,j=null,ts(u)===d&&(v=new v(y,x+"enter",g,r,u),v.target=b,v.relatedTarget=w,j=v),w=j,m&&g)t:{for(v=m,y=g,x=0,b=v;b;b=ks(b))x++;for(b=0,j=y;j;j=ks(j))b++;for(;0<x-b;)v=ks(v),x--;for(;0<b-x;)y=ks(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=ks(v),y=ks(y)}v=null}else v=null;m!==null&&r0(h,f,m,v,!1),g!==null&&w!==null&&r0(h,w,g,v,!0)}}e:{if(f=d?Fs(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=Hw;else if(qf(f))if(ng)_=qw;else{_=Ww;var N=Gw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=Kw);if(_&&(_=_(t,d))){rg(h,_,r,u);break e}N&&N(t,f,d),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&vd(f,"number",f.value)}switch(N=d?Fs(d):window,t){case"focusin":(qf(N)||N.contentEditable==="true")&&(Ds=N,Ad=d,ni=null);break;case"focusout":ni=Ad=Ds=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Zf(h,r,u);break;case"selectionchange":if(Jw)break;case"keydown":case"keyup":Zf(h,r,u)}var S;if(uh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Us?eg(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Zp&&r.locale!=="ko"&&(Us||k!=="onCompositionStart"?k==="onCompositionEnd"&&Us&&(S=Xp()):(on=u,lh="value"in on?on.value:on.textContent,Us=!0)),N=Xo(d,k),0<N.length&&(k=new Hf(k,t,null,r,u),h.push({event:k,listeners:N}),S?k.data=S:(S=tg(r),S!==null&&(k.data=S)))),(S=Dw?zw(t,r):Fw(t,r))&&(d=Xo(d,"onBeforeInput"),0<d.length&&(u=new Hf("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=S))}fg(h,e)})}function bi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Xo(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fi(t,r),i!=null&&n.unshift(bi(t,i,s)),i=fi(t,e),i!=null&&n.push(bi(t,i,s))),t=t.return}return n}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r0(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=fi(r,i),c!=null&&o.unshift(bi(r,c,l))):s||(c=fi(r,i),c!=null&&o.push(bi(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var t1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(t1,`
`).replace(r1,"")}function ho(t,e,r){if(e=n0(e),n0(t)!==e&&r)throw Error(D(425))}function Zo(){}var Id=null,Ld=null;function Md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,s1=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(t){return s0.resolve(null).then(t).catch(a1)}:Od;function a1(t){setTimeout(function(){throw t})}function Uc(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),gi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gi(e)}function fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),yr="__reactFiber$"+Ca,wi="__reactProps$"+Ca,Or="__reactContainer$"+Ca,$d="__reactEvents$"+Ca,i1="__reactListeners$"+Ca,o1="__reactHandles$"+Ca;function ts(t){var e=t[yr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Or]||r[yr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=a0(t);t!==null;){if(r=t[yr])return r;t=a0(t)}return e}t=r,r=t.parentNode}return null}function Wi(t){return t=t[yr]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function $l(t){return t[wi]||null}var Ud=[],Bs=-1;function Tn(t){return{current:t}}function Ce(t){0>Bs||(t.current=Ud[Bs],Ud[Bs]=null,Bs--)}function je(t,e){Bs++,Ud[Bs]=t.current,t.current=e}var vn={},at=Tn(vn),yt=Tn(!1),hs=vn;function ma(t,e){var r=t.type.contextTypes;if(!r)return vn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vt(t){return t=t.childContextTypes,t!=null}function el(){Ce(yt),Ce(at)}function i0(t,e,r){if(at.current!==vn)throw Error(D(168));je(at,e),je(yt,r)}function pg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(D(108,Gb(t)||"Unknown",s));return Re({},r,n)}function tl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vn,hs=at.current,je(at,t),je(yt,yt.current),!0}function o0(t,e,r){var n=t.stateNode;if(!n)throw Error(D(169));r?(t=pg(t,e,hs),n.__reactInternalMemoizedMergedChildContext=t,Ce(yt),Ce(at),je(at,t)):Ce(yt),je(yt,r)}var Tr=null,Ul=!1,Dc=!1;function gg(t){Tr===null?Tr=[t]:Tr.push(t)}function l1(t){Ul=!0,gg(t)}function Pn(){if(!Dc&&Tr!==null){Dc=!0;var t=0,e=xe;try{var r=Tr;for(xe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Tr=null,Ul=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(t+1)),Fp(sh,Pn),s}finally{xe=e,Dc=!1}}return null}var Vs=[],Hs=0,rl=null,nl=0,Lt=[],Mt=0,fs=null,Ar=1,Rr="";function zn(t,e){Vs[Hs++]=nl,Vs[Hs++]=rl,rl=t,nl=e}function xg(t,e,r){Lt[Mt++]=Ar,Lt[Mt++]=Rr,Lt[Mt++]=fs,fs=t;var n=Ar;t=Rr;var s=32-tr(n)-1;n&=~(1<<s),r+=1;var i=32-tr(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ar=1<<32-tr(e)+s|r<<s|n,Rr=i+t}else Ar=1<<i|r<<s|n,Rr=t}function fh(t){t.return!==null&&(zn(t,1),xg(t,1,0))}function mh(t){for(;t===rl;)rl=Vs[--Hs],Vs[Hs]=null,nl=Vs[--Hs],Vs[Hs]=null;for(;t===fs;)fs=Lt[--Mt],Lt[Mt]=null,Rr=Lt[--Mt],Lt[Mt]=null,Ar=Lt[--Mt],Lt[Mt]=null}var Et=null,kt=null,Te=!1,Xt=null;function yg(t,e){var r=Dt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function l0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Et=t,kt=fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Et=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=fs!==null?{id:Ar,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Dt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Et=t,kt=null,!0):!1;default:return!1}}function Dd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zd(t){if(Te){var e=kt;if(e){var r=e;if(!l0(t,e)){if(Dd(t))throw Error(D(418));e=fn(r.nextSibling);var n=Et;e&&l0(t,e)?yg(n,r):(t.flags=t.flags&-4097|2,Te=!1,Et=t)}}else{if(Dd(t))throw Error(D(418));t.flags=t.flags&-4097|2,Te=!1,Et=t}}}function c0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function fo(t){if(t!==Et)return!1;if(!Te)return c0(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Md(t.type,t.memoizedProps)),e&&(e=kt)){if(Dd(t))throw vg(),Error(D(418));for(;e;)yg(t,e),e=fn(e.nextSibling)}if(c0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){kt=fn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=Et?fn(t.stateNode.nextSibling):null;return!0}function vg(){for(var t=kt;t;)t=fn(t.nextSibling)}function pa(){kt=Et=null,Te=!1}function ph(t){Xt===null?Xt=[t]:Xt.push(t)}var c1=Fr.ReactCurrentBatchConfig;function Fa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,t))}return t}function mo(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d0(t){var e=t._init;return e(t._payload)}function bg(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=xn(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,x,b,j){return x===null||x.tag!==6?(x=Wc(b,y.mode,j),x.return=y,x):(x=s(x,b),x.return=y,x)}function c(y,x,b,j){var _=b.type;return _===$s?u(y,x,b.props.children,j,b.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yr&&d0(_)===x.type)?(j=s(x,b.props),j.ref=Fa(y,x,b),j.return=y,j):(j=Do(b.type,b.key,b.props,null,y.mode,j),j.ref=Fa(y,x,b),j.return=y,j)}function d(y,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Kc(b,y.mode,j),x.return=y,x):(x=s(x,b.children||[]),x.return=y,x)}function u(y,x,b,j,_){return x===null||x.tag!==7?(x=ds(b,y.mode,j,_),x.return=y,x):(x=s(x,b),x.return=y,x)}function h(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wc(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ro:return b=Do(x.type,x.key,x.props,null,y.mode,b),b.ref=Fa(y,null,x),b.return=y,b;case Os:return x=Kc(x,y.mode,b),x.return=y,x;case Yr:var j=x._init;return h(y,j(x._payload),b)}if(Qa(x)||Oa(x))return x=ds(x,y.mode,b,null),x.return=y,x;mo(y,x)}return null}function f(y,x,b,j){var _=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ro:return b.key===_?c(y,x,b,j):null;case Os:return b.key===_?d(y,x,b,j):null;case Yr:return _=b._init,f(y,x,_(b._payload),j)}if(Qa(b)||Oa(b))return _!==null?null:u(y,x,b,j,null);mo(y,b)}return null}function m(y,x,b,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(x,y,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ro:return y=y.get(j.key===null?b:j.key)||null,c(x,y,j,_);case Os:return y=y.get(j.key===null?b:j.key)||null,d(x,y,j,_);case Yr:var N=j._init;return m(y,x,b,N(j._payload),_)}if(Qa(j)||Oa(j))return y=y.get(b)||null,u(x,y,j,_,null);mo(x,j)}return null}function g(y,x,b,j){for(var _=null,N=null,S=x,k=x=0,E=null;S!==null&&k<b.length;k++){S.index>k?(E=S,S=null):E=S.sibling;var T=f(y,S,b[k],j);if(T===null){S===null&&(S=E);break}t&&S&&T.alternate===null&&e(y,S),x=i(T,x,k),N===null?_=T:N.sibling=T,N=T,S=E}if(k===b.length)return r(y,S),Te&&zn(y,k),_;if(S===null){for(;k<b.length;k++)S=h(y,b[k],j),S!==null&&(x=i(S,x,k),N===null?_=S:N.sibling=S,N=S);return Te&&zn(y,k),_}for(S=n(y,S);k<b.length;k++)E=m(S,y,k,b[k],j),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?k:E.key),x=i(E,x,k),N===null?_=E:N.sibling=E,N=E);return t&&S.forEach(function(O){return e(y,O)}),Te&&zn(y,k),_}function v(y,x,b,j){var _=Oa(b);if(typeof _!="function")throw Error(D(150));if(b=_.call(b),b==null)throw Error(D(151));for(var N=_=null,S=x,k=x=0,E=null,T=b.next();S!==null&&!T.done;k++,T=b.next()){S.index>k?(E=S,S=null):E=S.sibling;var O=f(y,S,T.value,j);if(O===null){S===null&&(S=E);break}t&&S&&O.alternate===null&&e(y,S),x=i(O,x,k),N===null?_=O:N.sibling=O,N=O,S=E}if(T.done)return r(y,S),Te&&zn(y,k),_;if(S===null){for(;!T.done;k++,T=b.next())T=h(y,T.value,j),T!==null&&(x=i(T,x,k),N===null?_=T:N.sibling=T,N=T);return Te&&zn(y,k),_}for(S=n(y,S);!T.done;k++,T=b.next())T=m(S,y,k,T.value,j),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?k:T.key),x=i(T,x,k),N===null?_=T:N.sibling=T,N=T);return t&&S.forEach(function(P){return e(y,P)}),Te&&zn(y,k),_}function w(y,x,b,j){if(typeof b=="object"&&b!==null&&b.type===$s&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ro:e:{for(var _=b.key,N=x;N!==null;){if(N.key===_){if(_=b.type,_===$s){if(N.tag===7){r(y,N.sibling),x=s(N,b.props.children),x.return=y,y=x;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yr&&d0(_)===N.type){r(y,N.sibling),x=s(N,b.props),x.ref=Fa(y,N,b),x.return=y,y=x;break e}r(y,N);break}else e(y,N);N=N.sibling}b.type===$s?(x=ds(b.props.children,y.mode,j,b.key),x.return=y,y=x):(j=Do(b.type,b.key,b.props,null,y.mode,j),j.ref=Fa(y,x,b),j.return=y,y=j)}return o(y);case Os:e:{for(N=b.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=s(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=Kc(b,y.mode,j),x.return=y,y=x}return o(y);case Yr:return N=b._init,w(y,x,N(b._payload),j)}if(Qa(b))return g(y,x,b,j);if(Oa(b))return v(y,x,b,j);mo(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,b),x.return=y,y=x):(r(y,x),x=Wc(b,y.mode,j),x.return=y,y=x),o(y)):r(y,x)}return w}var ga=bg(!0),wg=bg(!1),sl=Tn(null),al=null,Gs=null,gh=null;function xh(){gh=Gs=al=null}function yh(t){var e=sl.current;Ce(sl),t._currentValue=e}function Fd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zs(t,e){al=t,gh=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function Bt(t){var e=t._currentValue;if(gh!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(al===null)throw Error(D(308));Gs=t,al.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var rs=null;function vh(t){rs===null?rs=[t]:rs.push(t)}function jg(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,vh(e)):(r.next=s.next,s.next=r),e.interleaved=r,$r(t,n)}function $r(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Jr=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,$r(t,r)}return s=n.interleaved,s===null?(e.next=e,vh(n)):(e.next=s.next,s.next=e),n.interleaved=e,$r(t,r)}function Io(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ah(t,r)}}function u0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function il(t,e,r,n){var s=t.updateQueue;Jr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(f=e,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Re({},h,f);break e;case 2:Jr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=h),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ps|=o,t.lanes=o,t.memoizedState=h}}function h0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var Ki={},br=Tn(Ki),ji=Tn(Ki),_i=Tn(Ki);function ns(t){if(t===Ki)throw Error(D(174));return t}function wh(t,e){switch(je(_i,e),je(ji,t),je(br,Ki),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wd(e,t)}Ce(br),je(br,e)}function xa(){Ce(br),Ce(ji),Ce(_i)}function Ng(t){ns(_i.current);var e=ns(br.current),r=wd(e,t.type);e!==r&&(je(ji,t),je(br,r))}function jh(t){ji.current===t&&(Ce(br),Ce(ji))}var Pe=Tn(0);function ol(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zc=[];function _h(){for(var t=0;t<zc.length;t++)zc[t]._workInProgressVersionPrimary=null;zc.length=0}var Lo=Fr.ReactCurrentDispatcher,Fc=Fr.ReactCurrentBatchConfig,ms=0,Ae=null,De=null,Ge=null,ll=!1,si=!1,Ni=0,d1=0;function Ze(){throw Error(D(321))}function Nh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!sr(t[r],e[r]))return!1;return!0}function Sh(t,e,r,n,s,i){if(ms=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lo.current=t===null||t.memoizedState===null?m1:p1,t=r(n,s),si){i=0;do{if(si=!1,Ni=0,25<=i)throw Error(D(301));i+=1,Ge=De=null,e.updateQueue=null,Lo.current=g1,t=r(n,s)}while(si)}if(Lo.current=cl,e=De!==null&&De.next!==null,ms=0,Ge=De=Ae=null,ll=!1,e)throw Error(D(300));return t}function kh(){var t=Ni!==0;return Ni=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ae.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Vt(){if(De===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=Ge===null?Ae.memoizedState:Ge.next;if(e!==null)Ge=e,De=t;else{if(t===null)throw Error(D(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ge===null?Ae.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Si(t,e){return typeof e=="function"?e(t):e}function Bc(t){var e=Vt(),r=e.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=t;var n=De,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ms&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Ae.lanes|=u,ps|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,sr(n,e.memoizedState)||(xt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,ps|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vc(t){var e=Vt(),r=e.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);sr(i,e.memoizedState)||(xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Sg(){}function kg(t,e){var r=Ae,n=Vt(),s=e(),i=!sr(n.memoizedState,s);if(i&&(n.memoizedState=s,xt=!0),n=n.queue,Eh(Tg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,ki(9,Cg.bind(null,r,n,s,e),void 0,null),We===null)throw Error(D(349));ms&30||Eg(r,e,s)}return s}function Eg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Cg(t,e,r,n){e.value=r,e.getSnapshot=n,Pg(e)&&Ag(t)}function Tg(t,e,r){return r(function(){Pg(e)&&Ag(t)})}function Pg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!sr(t,r)}catch{return!0}}function Ag(t){var e=$r(t,1);e!==null&&rr(e,t,1,-1)}function f0(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},e.queue=t,t=t.dispatch=f1.bind(null,Ae,t),[e.memoizedState,t]}function ki(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Rg(){return Vt().memoizedState}function Mo(t,e,r,n){var s=mr();Ae.flags|=t,s.memoizedState=ki(1|e,r,void 0,n===void 0?null:n)}function Dl(t,e,r,n){var s=Vt();n=n===void 0?null:n;var i=void 0;if(De!==null){var o=De.memoizedState;if(i=o.destroy,n!==null&&Nh(n,o.deps)){s.memoizedState=ki(e,r,i,n);return}}Ae.flags|=t,s.memoizedState=ki(1|e,r,i,n)}function m0(t,e){return Mo(8390656,8,t,e)}function Eh(t,e){return Dl(2048,8,t,e)}function Ig(t,e){return Dl(4,2,t,e)}function Lg(t,e){return Dl(4,4,t,e)}function Mg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Og(t,e,r){return r=r!=null?r.concat([t]):null,Dl(4,4,Mg.bind(null,e,t),r)}function Ch(){}function $g(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ug(t,e){var r=Vt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Nh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Dg(t,e,r){return ms&21?(sr(r,e)||(r=Hp(),Ae.lanes|=r,ps|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=r)}function u1(t,e){var r=xe;xe=r!==0&&4>r?r:4,t(!0);var n=Fc.transition;Fc.transition={};try{t(!1),e()}finally{xe=r,Fc.transition=n}}function zg(){return Vt().memoizedState}function h1(t,e,r){var n=gn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Fg(t))Bg(e,r);else if(r=jg(t,e,r,n),r!==null){var s=dt();rr(r,t,n,s),Vg(r,e,n)}}function f1(t,e,r){var n=gn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fg(t))Bg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,sr(l,o)){var c=e.interleaved;c===null?(s.next=s,vh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=jg(t,e,s,n),r!==null&&(s=dt(),rr(r,t,n,s),Vg(r,e,n))}}function Fg(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function Bg(t,e){si=ll=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Vg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ah(t,r)}}var cl={readContext:Bt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},m1={readContext:Bt,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Bt,useEffect:m0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Mo(4194308,4,Mg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Mo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mo(4,2,t,e)},useMemo:function(t,e){var r=mr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=mr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=h1.bind(null,Ae,t),[n.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:f0,useDebugValue:Ch,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=f0(!1),e=t[0];return t=u1.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ae,s=mr();if(Te){if(r===void 0)throw Error(D(407));r=r()}else{if(r=e(),We===null)throw Error(D(349));ms&30||Eg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,m0(Tg.bind(null,n,i,t),[t]),n.flags|=2048,ki(9,Cg.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=mr(),e=We.identifierPrefix;if(Te){var r=Rr,n=Ar;r=(n&~(1<<32-tr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ni++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=d1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p1={readContext:Bt,useCallback:$g,useContext:Bt,useEffect:Eh,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Lg,useMemo:Ug,useReducer:Bc,useRef:Rg,useState:function(){return Bc(Si)},useDebugValue:Ch,useDeferredValue:function(t){var e=Vt();return Dg(e,De.memoizedState,t)},useTransition:function(){var t=Bc(Si)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:Sg,useSyncExternalStore:kg,useId:zg,unstable_isNewReconciler:!1},g1={readContext:Bt,useCallback:$g,useContext:Bt,useEffect:Eh,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Lg,useMemo:Ug,useReducer:Vc,useRef:Rg,useState:function(){return Vc(Si)},useDebugValue:Ch,useDeferredValue:function(t){var e=Vt();return De===null?e.memoizedState=t:Dg(e,De.memoizedState,t)},useTransition:function(){var t=Vc(Si)[0],e=Vt().memoizedState;return[t,e]},useMutableSource:Sg,useSyncExternalStore:kg,useId:zg,unstable_isNewReconciler:!1};function Kt(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Bd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Re({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zl={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=dt(),s=gn(t),i=Ir(n,s);i.payload=e,r!=null&&(i.callback=r),e=mn(t,i,s),e!==null&&(rr(e,t,s,n),Io(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=dt(),s=gn(t),i=Ir(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=mn(t,i,s),e!==null&&(rr(e,t,s,n),Io(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=dt(),n=gn(t),s=Ir(r,n);s.tag=2,e!=null&&(s.callback=e),e=mn(t,s,n),e!==null&&(rr(e,t,n,r),Io(e,t,n))}};function p0(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!yi(r,n)||!yi(s,i):!0}function Hg(t,e,r){var n=!1,s=vn,i=e.contextType;return typeof i=="object"&&i!==null?i=Bt(i):(s=vt(e)?hs:at.current,n=e.contextTypes,i=(n=n!=null)?ma(t,s):vn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function g0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zl.enqueueReplaceState(e,e.state,null)}function Vd(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},bh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bt(i):(i=vt(e)?hs:at.current,s.context=ma(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bd(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zl.enqueueReplaceState(s,s.state,null),il(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e){try{var r="",n=e;do r+=Hb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var x1=typeof WeakMap=="function"?WeakMap:Map;function Gg(t,e,r){r=Ir(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ul||(ul=!0,eu=n),Hd(t,e)},r}function Wg(t,e,r){r=Ir(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Hd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Hd(t,e),typeof n!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function x0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new x1;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=A1.bind(null,t,e,r),e.then(t,t))}function y0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function v0(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ir(-1,1),e.tag=2,mn(r,e,1))),r.lanes|=1),t)}var y1=Fr.ReactCurrentOwner,xt=!1;function ot(t,e,r,n){e.child=t===null?wg(e,null,r,n):ga(e,t.child,r,n)}function b0(t,e,r,n,s){r=r.render;var i=e.ref;return Zs(e,s),n=Sh(t,e,r,n,i,s),r=kh(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Te&&r&&fh(e),e.flags|=1,ot(t,e,n,s),e.child)}function w0(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Oh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Kg(t,e,i,n,s)):(t=Do(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yi,r(o,n)&&t.ref===e.ref)return Ur(t,e,s)}return e.flags|=1,t=xn(i,n),t.ref=e.ref,t.return=e,e.child=t}function Kg(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(yi(i,n)&&t.ref===e.ref)if(xt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,Ur(t,e,s)}return Gd(t,e,r,n,s)}function qg(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ks,Nt),Nt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Ks,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,je(Ks,Nt),Nt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,je(Ks,Nt),Nt|=n;return ot(t,e,s,r),e.child}function Qg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Gd(t,e,r,n,s){var i=vt(r)?hs:at.current;return i=ma(e,i),Zs(e,s),r=Sh(t,e,r,n,i,s),n=kh(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ur(t,e,s)):(Te&&n&&fh(e),e.flags|=1,ot(t,e,r,s),e.child)}function j0(t,e,r,n,s){if(vt(r)){var i=!0;tl(e)}else i=!1;if(Zs(e,s),e.stateNode===null)Oo(t,e),Hg(e,r,n),Vd(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=vt(r)?hs:at.current,d=ma(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&g0(e,o,n,d),Jr=!1;var f=e.memoizedState;o.state=f,il(e,n,o,s),c=e.memoizedState,l!==n||f!==c||yt.current||Jr?(typeof u=="function"&&(Bd(e,r,u,n),c=e.memoizedState),(l=Jr||p0(e,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_g(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Kt(e.type,l),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=vt(r)?hs:at.current,c=ma(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&g0(e,o,n,c),Jr=!1,f=e.memoizedState,o.state=f,il(e,n,o,s);var g=e.memoizedState;l!==h||f!==g||yt.current||Jr?(typeof m=="function"&&(Bd(e,r,m,n),g=e.memoizedState),(d=Jr||p0(e,r,d,n,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Wd(t,e,r,n,i,s)}function Wd(t,e,r,n,s,i){Qg(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&o0(e,r,!1),Ur(t,e,i);n=e.stateNode,y1.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ga(e,t.child,null,i),e.child=ga(e,null,l,i)):ot(t,e,l,i),e.memoizedState=n.state,s&&o0(e,r,!0),e.child}function Yg(t){var e=t.stateNode;e.pendingContext?i0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i0(t,e.context,!1),wh(t,e.containerInfo)}function _0(t,e,r,n,s){return pa(),ph(s),e.flags|=256,ot(t,e,r,n),e.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function qd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jg(t,e,r){var n=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Pe,s&1),t===null)return zd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vl(o,n,0,null),t=ds(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qd(r),e.memoizedState=Kd,t):Th(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return v1(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=xn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=xn(l,i):(i=ds(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?qd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Kd,n}return i=t.child,t=i.sibling,n=xn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Th(t,e){return e=Vl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function po(t,e,r,n){return n!==null&&ph(n),ga(e,t.child,null,r),t=Th(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v1(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Hc(Error(D(422))),po(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Vl({mode:"visible",children:n.children},s,0,null),i=ds(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ga(e,t.child,null,o),e.child.memoizedState=qd(o),e.memoizedState=Kd,i);if(!(e.mode&1))return po(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(D(419)),n=Hc(i,n,void 0),po(t,e,o,n)}if(l=(o&t.childLanes)!==0,xt||l){if(n=We,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$r(t,s),rr(n,t,s,-1))}return Mh(),n=Hc(Error(D(421))),po(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=R1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,kt=fn(s.nextSibling),Et=e,Te=!0,Xt=null,t!==null&&(Lt[Mt++]=Ar,Lt[Mt++]=Rr,Lt[Mt++]=fs,Ar=t.id,Rr=t.overflow,fs=e),e=Th(e,n.children),e.flags|=4096,e)}function N0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fd(t.return,e,r)}function Gc(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Xg(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ot(t,e,n.children,r),n=Pe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N0(t,r,e);else if(t.tag===19)N0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(je(Pe,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ol(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Gc(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ol(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Gc(e,!0,r,null,i);break;case"together":Gc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ur(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ps|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,r=xn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=xn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function b1(t,e,r){switch(e.tag){case 3:Yg(e),pa();break;case 5:Ng(e);break;case 1:vt(e.type)&&tl(e);break;case 4:wh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;je(sl,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(je(Pe,Pe.current&1),e.flags|=128,null):r&e.child.childLanes?Jg(t,e,r):(je(Pe,Pe.current&1),t=Ur(t,e,r),t!==null?t.sibling:null);je(Pe,Pe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Xg(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Pe,Pe.current),n)break;return null;case 22:case 23:return e.lanes=0,qg(t,e,r)}return Ur(t,e,r)}var Zg,Qd,ex,tx;Zg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qd=function(){};ex=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ns(br.current);var i=null;switch(r){case"input":s=xd(t,s),n=xd(t,n),i=[];break;case"select":s=Re({},s,{value:void 0}),n=Re({},n,{value:void 0}),i=[];break;case"textarea":s=bd(t,s),n=bd(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Zo)}jd(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ui.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ui.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};tx=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ba(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function w1(t,e,r){var n=e.pendingProps;switch(mh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return vt(e.type)&&el(),et(e),null;case 3:return n=e.stateNode,xa(),Ce(yt),Ce(at),_h(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(nu(Xt),Xt=null))),Qd(t,e),et(e),null;case 5:jh(e);var s=ns(_i.current);if(r=e.type,t!==null&&e.stateNode!=null)ex(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(D(166));return et(e),null}if(t=ns(br.current),fo(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[yr]=e,n[wi]=i,t=(e.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(s=0;s<Ja.length;s++)Ee(Ja[s],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":If(n,i),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",n);break;case"textarea":Mf(n,i),Ee("invalid",n)}jd(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ho(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ho(n.textContent,l,t),s=["children",""+l]):ui.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",n)}switch(r){case"input":no(n),Lf(n,i,!0);break;case"textarea":no(n),Of(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Zo)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[yr]=e,t[wi]=n,Zg(t,e,!1,!1),e.stateNode=t;e:{switch(o=_d(r,n),r){case"dialog":Ee("cancel",t),Ee("close",t),s=n;break;case"iframe":case"object":case"embed":Ee("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ja.length;s++)Ee(Ja[s],t);s=n;break;case"source":Ee("error",t),s=n;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),s=n;break;case"details":Ee("toggle",t),s=n;break;case"input":If(t,n),s=xd(t,n),Ee("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Re({},n,{value:void 0}),Ee("invalid",t);break;case"textarea":Mf(t,n),s=bd(t,n),Ee("invalid",t);break;default:s=n}jd(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Rp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pp(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hi(t,c):typeof c=="number"&&hi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ui.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",t):c!=null&&Zu(t,i,c,o))}switch(r){case"input":no(t),Lf(t,n,!1);break;case"textarea":no(t),Of(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Qs(t,!!n.multiple,i,!1):n.defaultValue!=null&&Qs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)tx(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(D(166));if(r=ns(_i.current),ns(br.current),fo(e)){if(n=e.stateNode,r=e.memoizedProps,n[yr]=e,(i=n.nodeValue!==r)&&(t=Et,t!==null))switch(t.tag){case 3:ho(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yr]=e,e.stateNode=n}return et(e),null;case 13:if(Ce(Pe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&kt!==null&&e.mode&1&&!(e.flags&128))vg(),pa(),e.flags|=98560,i=!1;else if(i=fo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[yr]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),i=!1}else Xt!==null&&(nu(Xt),Xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?ze===0&&(ze=3):Mh())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return xa(),Qd(t,e),t===null&&vi(e.stateNode.containerInfo),et(e),null;case 10:return yh(e.type._context),et(e),null;case 17:return vt(e.type)&&el(),et(e),null;case 19:if(Ce(Pe),i=e.memoizedState,i===null)return et(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Ba(i,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ol(t),o!==null){for(e.flags|=128,Ba(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return je(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Me()>va&&(e.flags|=128,n=!0,Ba(i,!1),e.lanes=4194304)}else{if(!n)if(t=ol(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return et(e),null}else 2*Me()-i.renderingStartTime>va&&r!==1073741824&&(e.flags|=128,n=!0,Ba(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Me(),e.sibling=null,r=Pe.current,je(Pe,n?r&1|2:r&1),e):(et(e),null);case 22:case 23:return Lh(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Nt&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function j1(t,e){switch(mh(e),e.tag){case 1:return vt(e.type)&&el(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),Ce(yt),Ce(at),_h(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jh(e),null;case 13:if(Ce(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Pe),null;case 4:return xa(),null;case 10:return yh(e.type._context),null;case 22:case 23:return Lh(),null;case 24:return null;default:return null}}var go=!1,nt=!1,_1=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ws(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Le(t,e,n)}else r.current=null}function Yd(t,e,r){try{r()}catch(n){Le(t,e,n)}}var S0=!1;function N1(t,e){if(Id=Yo,t=ig(),hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===s&&(l=o),f===i&&++u===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ld={focusedElem:t,selectionRange:r},Yo=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Kt(e.type,v),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Le(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return g=S0,S0=!1,g}function ai(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yd(e,r,i)}s=s.next}while(s!==n)}}function Fl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rx(t){var e=t.alternate;e!==null&&(t.alternate=null,rx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[wi],delete e[$d],delete e[i1],delete e[o1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nx(t){return t.tag===5||t.tag===3||t.tag===4}function k0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Zo));else if(n!==4&&(t=t.child,t!==null))for(Xd(t,e,r),t=t.sibling;t!==null;)Xd(t,e,r),t=t.sibling}function Zd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Zd(t,e,r),t=t.sibling;t!==null;)Zd(t,e,r),t=t.sibling}var qe=null,Yt=!1;function Hr(t,e,r){for(r=r.child;r!==null;)sx(t,e,r),r=r.sibling}function sx(t,e,r){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Il,r)}catch{}switch(r.tag){case 5:nt||Ws(r,e);case 6:var n=qe,s=Yt;qe=null,Hr(t,e,r),qe=n,Yt=s,qe!==null&&(Yt?(t=qe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Yt?(t=qe,r=r.stateNode,t.nodeType===8?Uc(t.parentNode,r):t.nodeType===1&&Uc(t,r),gi(t)):Uc(qe,r.stateNode));break;case 4:n=qe,s=Yt,qe=r.stateNode.containerInfo,Yt=!0,Hr(t,e,r),qe=n,Yt=s;break;case 0:case 11:case 14:case 15:if(!nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yd(r,e,o),s=s.next}while(s!==n)}Hr(t,e,r);break;case 1:if(!nt&&(Ws(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Le(r,e,l)}Hr(t,e,r);break;case 21:Hr(t,e,r);break;case 22:r.mode&1?(nt=(n=nt)||r.memoizedState!==null,Hr(t,e,r),nt=n):Hr(t,e,r);break;default:Hr(t,e,r)}}function E0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _1),e.forEach(function(n){var s=I1.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Gt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qe=l.stateNode,Yt=!1;break e;case 3:qe=l.stateNode.containerInfo,Yt=!0;break e;case 4:qe=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(qe===null)throw Error(D(160));sx(i,o,s),qe=null,Yt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Le(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ax(e,t),e=e.sibling}function ax(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),hr(t),n&4){try{ai(3,t,t.return),Fl(3,t)}catch(v){Le(t,t.return,v)}try{ai(5,t,t.return)}catch(v){Le(t,t.return,v)}}break;case 1:Gt(e,t),hr(t),n&512&&r!==null&&Ws(r,r.return);break;case 5:if(Gt(e,t),hr(t),n&512&&r!==null&&Ws(r,r.return),t.flags&32){var s=t.stateNode;try{hi(s,"")}catch(v){Le(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ep(s,i),_d(l,o);var d=_d(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?Rp(s,h):u==="dangerouslySetInnerHTML"?Pp(s,h):u==="children"?hi(s,h):Zu(s,u,h,d)}switch(l){case"input":yd(s,i);break;case"textarea":Cp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Qs(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qs(s,!!i.multiple,i.defaultValue,!0):Qs(s,!!i.multiple,i.multiple?[]:"",!1))}s[wi]=i}catch(v){Le(t,t.return,v)}}break;case 6:if(Gt(e,t),hr(t),n&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Le(t,t.return,v)}}break;case 3:if(Gt(e,t),hr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gi(e.containerInfo)}catch(v){Le(t,t.return,v)}break;case 4:Gt(e,t),hr(t);break;case 13:Gt(e,t),hr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rh=Me())),n&4&&E0(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(nt=(d=nt)||u,Gt(e,t),nt=d):Gt(e,t),hr(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(W=t,u=t.child;u!==null;){for(h=W=u;W!==null;){switch(f=W,m=f.child,f.tag){case 0:case 11:case 14:case 15:ai(4,f,f.return);break;case 1:Ws(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Le(n,r,v)}}break;case 5:Ws(f,f.return);break;case 22:if(f.memoizedState!==null){T0(h);continue}}m!==null?(m.return=f,W=m):T0(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ap("display",o))}catch(v){Le(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){Le(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gt(e,t),hr(t),n&4&&E0(t);break;case 21:break;default:Gt(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nx(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(hi(s,""),n.flags&=-33);var i=k0(t);Zd(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=k0(t);Xd(t,l,o);break;default:throw Error(D(161))}}catch(c){Le(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S1(t,e,r){W=t,ix(t)}function ix(t,e,r){for(var n=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||go;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||nt;l=go;var d=nt;if(go=o,(nt=c)&&!d)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?P0(s):c!==null?(c.return=o,W=c):P0(s);for(;i!==null;)W=i,ix(i),i=i.sibling;W=s,go=l,nt=d}C0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):C0(t)}}function C0(t){for(;W!==null;){var e=W;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||Fl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!nt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Kt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&h0(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}h0(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&gi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}nt||e.flags&512&&Jd(e)}catch(f){Le(e,e.return,f)}}if(e===t){W=null;break}if(r=e.sibling,r!==null){r.return=e.return,W=r;break}W=e.return}}function T0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var r=e.sibling;if(r!==null){r.return=e.return,W=r;break}W=e.return}}function P0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fl(4,e)}catch(c){Le(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Le(e,s,c)}}var i=e.return;try{Jd(e)}catch(c){Le(e,i,c)}break;case 5:var o=e.return;try{Jd(e)}catch(c){Le(e,o,c)}}}catch(c){Le(e,e.return,c)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var k1=Math.ceil,dl=Fr.ReactCurrentDispatcher,Ph=Fr.ReactCurrentOwner,zt=Fr.ReactCurrentBatchConfig,fe=0,We=null,$e=null,Ye=0,Nt=0,Ks=Tn(0),ze=0,Ei=null,ps=0,Bl=0,Ah=0,ii=null,mt=null,Rh=0,va=1/0,kr=null,ul=!1,eu=null,pn=null,xo=!1,ln=null,hl=0,oi=0,tu=null,$o=-1,Uo=0;function dt(){return fe&6?Me():$o!==-1?$o:$o=Me()}function gn(t){return t.mode&1?fe&2&&Ye!==0?Ye&-Ye:c1.transition!==null?(Uo===0&&(Uo=Hp()),Uo):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Jp(t.type)),t):1}function rr(t,e,r,n){if(50<oi)throw oi=0,tu=null,Error(D(185));Hi(t,r,n),(!(fe&2)||t!==We)&&(t===We&&(!(fe&2)&&(Bl|=r),ze===4&&Zr(t,Ye)),bt(t,n),r===1&&fe===0&&!(e.mode&1)&&(va=Me()+500,Ul&&Pn()))}function bt(t,e){var r=t.callbackNode;cw(t,e);var n=Qo(t,t===We?Ye:0);if(n===0)r!==null&&Df(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Df(r),e===1)t.tag===0?l1(A0.bind(null,t)):gg(A0.bind(null,t)),s1(function(){!(fe&6)&&Pn()}),r=null;else{switch(Gp(n)){case 1:r=sh;break;case 4:r=Bp;break;case 16:r=qo;break;case 536870912:r=Vp;break;default:r=qo}r=mx(r,ox.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ox(t,e){if($o=-1,Uo=0,fe&6)throw Error(D(327));var r=t.callbackNode;if(ea()&&t.callbackNode!==r)return null;var n=Qo(t,t===We?Ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fl(t,n);else{e=n;var s=fe;fe|=2;var i=cx();(We!==t||Ye!==e)&&(kr=null,va=Me()+500,cs(t,e));do try{T1();break}catch(l){lx(t,l)}while(!0);xh(),dl.current=i,fe=s,$e!==null?e=0:(We=null,Ye=0,e=ze)}if(e!==0){if(e===2&&(s=Cd(t),s!==0&&(n=s,e=ru(t,s))),e===1)throw r=Ei,cs(t,0),Zr(t,n),bt(t,Me()),r;if(e===6)Zr(t,n);else{if(s=t.current.alternate,!(n&30)&&!E1(s)&&(e=fl(t,n),e===2&&(i=Cd(t),i!==0&&(n=i,e=ru(t,i))),e===1))throw r=Ei,cs(t,0),Zr(t,n),bt(t,Me()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(D(345));case 2:Fn(t,mt,kr);break;case 3:if(Zr(t,n),(n&130023424)===n&&(e=Rh+500-Me(),10<e)){if(Qo(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Od(Fn.bind(null,t,mt,kr),e);break}Fn(t,mt,kr);break;case 4:if(Zr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-tr(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k1(n/1960))-n,10<n){t.timeoutHandle=Od(Fn.bind(null,t,mt,kr),n);break}Fn(t,mt,kr);break;case 5:Fn(t,mt,kr);break;default:throw Error(D(329))}}}return bt(t,Me()),t.callbackNode===r?ox.bind(null,t):null}function ru(t,e){var r=ii;return t.current.memoizedState.isDehydrated&&(cs(t,e).flags|=256),t=fl(t,e),t!==2&&(e=mt,mt=r,e!==null&&nu(e)),t}function nu(t){mt===null?mt=t:mt.push.apply(mt,t)}function E1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!sr(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~Ah,e&=~Bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-tr(e),n=1<<r;t[r]=-1,e&=~n}}function A0(t){if(fe&6)throw Error(D(327));ea();var e=Qo(t,0);if(!(e&1))return bt(t,Me()),null;var r=fl(t,e);if(t.tag!==0&&r===2){var n=Cd(t);n!==0&&(e=n,r=ru(t,n))}if(r===1)throw r=Ei,cs(t,0),Zr(t,e),bt(t,Me()),r;if(r===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fn(t,mt,kr),bt(t,Me()),null}function Ih(t,e){var r=fe;fe|=1;try{return t(e)}finally{fe=r,fe===0&&(va=Me()+500,Ul&&Pn())}}function gs(t){ln!==null&&ln.tag===0&&!(fe&6)&&ea();var e=fe;fe|=1;var r=zt.transition,n=xe;try{if(zt.transition=null,xe=1,t)return t()}finally{xe=n,zt.transition=r,fe=e,!(fe&6)&&Pn()}}function Lh(){Nt=Ks.current,Ce(Ks)}function cs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,n1(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(mh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&el();break;case 3:xa(),Ce(yt),Ce(at),_h();break;case 5:jh(n);break;case 4:xa();break;case 13:Ce(Pe);break;case 19:Ce(Pe);break;case 10:yh(n.type._context);break;case 22:case 23:Lh()}r=r.return}if(We=t,$e=t=xn(t.current,null),Ye=Nt=e,ze=0,Ei=null,Ah=Bl=ps=0,mt=ii=null,rs!==null){for(e=0;e<rs.length;e++)if(r=rs[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}rs=null}return t}function lx(t,e){do{var r=$e;try{if(xh(),Lo.current=cl,ll){for(var n=Ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ll=!1}if(ms=0,Ge=De=Ae=null,si=!1,Ni=0,Ph.current=null,r===null||r.return===null){ze=1,Ei=e,$e=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=Ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=y0(o);if(m!==null){m.flags&=-257,v0(m,o,l,i,e),m.mode&1&&x0(i,d,e),e=m,c=d;var g=e.updateQueue;if(g===null){var v=new Set;v.add(c),e.updateQueue=v}else g.add(c);break e}else{if(!(e&1)){x0(i,d,e),Mh();break e}c=Error(D(426))}}else if(Te&&l.mode&1){var w=y0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),v0(w,o,l,i,e),ph(ya(c,l));break e}}i=c=ya(c,l),ze!==4&&(ze=2),ii===null?ii=[i]:ii.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Gg(i,c,e);u0(i,y);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(pn===null||!pn.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=Wg(i,l,e);u0(i,j);break e}}i=i.return}while(i!==null)}ux(r)}catch(_){e=_,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function cx(){var t=dl.current;return dl.current=cl,t===null?cl:t}function Mh(){(ze===0||ze===3||ze===2)&&(ze=4),We===null||!(ps&268435455)&&!(Bl&268435455)||Zr(We,Ye)}function fl(t,e){var r=fe;fe|=2;var n=cx();(We!==t||Ye!==e)&&(kr=null,cs(t,e));do try{C1();break}catch(s){lx(t,s)}while(!0);if(xh(),fe=r,dl.current=n,$e!==null)throw Error(D(261));return We=null,Ye=0,ze}function C1(){for(;$e!==null;)dx($e)}function T1(){for(;$e!==null&&!ew();)dx($e)}function dx(t){var e=fx(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?ux(t):$e=e,Ph.current=null}function ux(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=j1(r,e),r!==null){r.flags&=32767,$e=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,$e=null;return}}else if(r=w1(r,e,Nt),r!==null){$e=r;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);ze===0&&(ze=5)}function Fn(t,e,r){var n=xe,s=zt.transition;try{zt.transition=null,xe=1,P1(t,e,r,n)}finally{zt.transition=s,xe=n}return null}function P1(t,e,r,n){do ea();while(ln!==null);if(fe&6)throw Error(D(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(dw(t,i),t===We&&($e=We=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xo||(xo=!0,mx(qo,function(){return ea(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var o=xe;xe=1;var l=fe;fe|=4,Ph.current=null,N1(t,r),ax(r,t),Yw(Ld),Yo=!!Id,Ld=Id=null,t.current=r,S1(r),tw(),fe=l,xe=o,zt.transition=i}else t.current=r;if(xo&&(xo=!1,ln=t,hl=s),i=t.pendingLanes,i===0&&(pn=null),sw(r.stateNode),bt(t,Me()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ul)throw ul=!1,t=eu,eu=null,t;return hl&1&&t.tag!==0&&ea(),i=t.pendingLanes,i&1?t===tu?oi++:(oi=0,tu=t):oi=0,Pn(),null}function ea(){if(ln!==null){var t=Gp(hl),e=zt.transition,r=xe;try{if(zt.transition=null,xe=16>t?16:t,ln===null)var n=!1;else{if(t=ln,ln=null,hl=0,fe&6)throw Error(D(331));var s=fe;for(fe|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:ai(8,u,i)}var h=u.child;if(h!==null)h.return=u,W=h;else for(;W!==null;){u=W;var f=u.sibling,m=u.return;if(rx(u),u===d){W=null;break}if(f!==null){f.return=m,W=f;break}W=m}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ai(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,W=y;break e}W=i.return}}var x=t.current;for(W=x;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=x;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fl(9,l)}}catch(_){Le(l,l.return,_)}if(l===o){W=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,W=j;break e}W=l.return}}if(fe=s,Pn(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Il,t)}catch{}n=!0}return n}finally{xe=r,zt.transition=e}}return!1}function R0(t,e,r){e=ya(r,e),e=Gg(t,e,1),t=mn(t,e,1),e=dt(),t!==null&&(Hi(t,1,e),bt(t,e))}function Le(t,e,r){if(t.tag===3)R0(t,t,r);else for(;e!==null;){if(e.tag===3){R0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pn===null||!pn.has(n))){t=ya(r,t),t=Wg(e,t,1),e=mn(e,t,1),t=dt(),e!==null&&(Hi(e,1,t),bt(e,t));break}}e=e.return}}function A1(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&r,We===t&&(Ye&r)===r&&(ze===4||ze===3&&(Ye&130023424)===Ye&&500>Me()-Rh?cs(t,0):Ah|=r),bt(t,e)}function hx(t,e){e===0&&(t.mode&1?(e=io,io<<=1,!(io&130023424)&&(io=4194304)):e=1);var r=dt();t=$r(t,e),t!==null&&(Hi(t,e,r),bt(t,r))}function R1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hx(t,r)}function I1(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(e),hx(t,r)}var fx;fx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)xt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xt=!1,b1(t,e,r);xt=!!(t.flags&131072)}else xt=!1,Te&&e.flags&1048576&&xg(e,nl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Oo(t,e),t=e.pendingProps;var s=ma(e,at.current);Zs(e,r),s=Sh(null,e,n,t,s,r);var i=kh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vt(n)?(i=!0,tl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bh(e),s.updater=zl,e.stateNode=s,s._reactInternals=e,Vd(e,n,t,r),e=Wd(null,e,n,!0,i,r)):(e.tag=0,Te&&i&&fh(e),ot(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Oo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=M1(n),t=Kt(n,t),s){case 0:e=Gd(null,e,n,t,r);break e;case 1:e=j0(null,e,n,t,r);break e;case 11:e=b0(null,e,n,t,r);break e;case 14:e=w0(null,e,n,Kt(n.type,t),r);break e}throw Error(D(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kt(n,s),Gd(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kt(n,s),j0(t,e,n,s,r);case 3:e:{if(Yg(e),t===null)throw Error(D(387));n=e.pendingProps,i=e.memoizedState,s=i.element,_g(t,e),il(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ya(Error(D(423)),e),e=_0(t,e,n,r,s);break e}else if(n!==s){s=ya(Error(D(424)),e),e=_0(t,e,n,r,s);break e}else for(kt=fn(e.stateNode.containerInfo.firstChild),Et=e,Te=!0,Xt=null,r=wg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pa(),n===s){e=Ur(t,e,r);break e}ot(t,e,n,r)}e=e.child}return e;case 5:return Ng(e),t===null&&zd(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Md(n,s)?o=null:i!==null&&Md(n,i)&&(e.flags|=32),Qg(t,e),ot(t,e,o,r),e.child;case 6:return t===null&&zd(e),null;case 13:return Jg(t,e,r);case 4:return wh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ga(e,null,n,r):ot(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kt(n,s),b0(t,e,n,s,r);case 7:return ot(t,e,e.pendingProps,r),e.child;case 8:return ot(t,e,e.pendingProps.children,r),e.child;case 12:return ot(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je(sl,n._currentValue),n._currentValue=o,i!==null)if(sr(i.value,o)){if(i.children===s.children&&!yt.current){e=Ur(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ir(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Fd(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fd(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ot(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Zs(e,r),s=Bt(s),n=n(s),e.flags|=1,ot(t,e,n,r),e.child;case 14:return n=e.type,s=Kt(n,e.pendingProps),s=Kt(n.type,s),w0(t,e,n,s,r);case 15:return Kg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Kt(n,s),Oo(t,e),e.tag=1,vt(n)?(t=!0,tl(e)):t=!1,Zs(e,r),Hg(e,n,s),Vd(e,n,s,r),Wd(null,e,n,!0,t,r);case 19:return Xg(t,e,r);case 22:return qg(t,e,r)}throw Error(D(156,e.tag))};function mx(t,e){return Fp(t,e)}function L1(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,r,n){return new L1(t,e,r,n)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M1(t){if(typeof t=="function")return Oh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===th)return 11;if(t===rh)return 14}return 2}function xn(t,e){var r=t.alternate;return r===null?(r=Dt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Do(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Oh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return ds(r.children,s,i,e);case eh:o=8,s|=8;break;case fd:return t=Dt(12,r,e,s|2),t.elementType=fd,t.lanes=i,t;case md:return t=Dt(13,r,e,s),t.elementType=md,t.lanes=i,t;case pd:return t=Dt(19,r,e,s),t.elementType=pd,t.lanes=i,t;case Np:return Vl(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jp:o=10;break e;case _p:o=9;break e;case th:o=11;break e;case rh:o=14;break e;case Yr:o=16,n=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Dt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ds(t,e,r,n){return t=Dt(7,t,n,e),t.lanes=r,t}function Vl(t,e,r,n){return t=Dt(22,t,n,e),t.elementType=Np,t.lanes=r,t.stateNode={isHidden:!1},t}function Wc(t,e,r){return t=Dt(6,t,null,e),t.lanes=r,t}function Kc(t,e,r){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function O1(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $h(t,e,r,n,s,i,o,l,c){return t=new O1(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(i),t}function $1(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function px(t){if(!t)return vn;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var r=t.type;if(vt(r))return pg(t,r,e)}return e}function gx(t,e,r,n,s,i,o,l,c){return t=$h(r,n,!0,t,s,i,o,l,c),t.context=px(null),r=t.current,n=dt(),s=gn(r),i=Ir(n,s),i.callback=e??null,mn(r,i,s),t.current.lanes=s,Hi(t,s,n),bt(t,n),t}function Hl(t,e,r,n){var s=e.current,i=dt(),o=gn(s);return r=px(r),e.context===null?e.context=r:e.pendingContext=r,e=Ir(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=mn(s,e,o),t!==null&&(rr(t,s,o,i),Io(t,s,o)),o}function ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Uh(t,e){I0(t,e),(t=t.alternate)&&I0(t,e)}function U1(){return null}var xx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dh(t){this._internalRoot=t}Gl.prototype.render=Dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Hl(t,e,null,null)};Gl.prototype.unmount=Dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gs(function(){Hl(null,t,null,null)}),e[Or]=null}};function Gl(t){this._internalRoot=t}Gl.prototype.unstable_scheduleHydration=function(t){if(t){var e=qp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Xr.length&&e!==0&&e<Xr[r].priority;r++);Xr.splice(r,0,t),r===0&&Yp(t)}};function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L0(){}function D1(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=ml(o);i.call(d)}}var o=gx(e,n,t,0,null,!1,!1,"",L0);return t._reactRootContainer=o,t[Or]=o.current,vi(t.nodeType===8?t.parentNode:t),gs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=ml(c);l.call(d)}}var c=$h(t,0,!1,null,null,!1,!1,"",L0);return t._reactRootContainer=c,t[Or]=c.current,vi(t.nodeType===8?t.parentNode:t),gs(function(){Hl(e,c,r,n)}),c}function Kl(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ml(o);l.call(c)}}Hl(e,o,t,s)}else o=D1(r,e,t,s,n);return ml(o)}Wp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ya(e.pendingLanes);r!==0&&(ah(e,r|1),bt(e,Me()),!(fe&6)&&(va=Me()+500,Pn()))}break;case 13:gs(function(){var n=$r(t,1);if(n!==null){var s=dt();rr(n,t,1,s)}}),Uh(t,1)}};ih=function(t){if(t.tag===13){var e=$r(t,134217728);if(e!==null){var r=dt();rr(e,t,134217728,r)}Uh(t,134217728)}};Kp=function(t){if(t.tag===13){var e=gn(t),r=$r(t,e);if(r!==null){var n=dt();rr(r,t,e,n)}Uh(t,e)}};qp=function(){return xe};Qp=function(t,e){var r=xe;try{return xe=t,e()}finally{xe=r}};Sd=function(t,e,r){switch(e){case"input":if(yd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=$l(n);if(!s)throw Error(D(90));kp(n),yd(n,s)}}}break;case"textarea":Cp(t,r);break;case"select":e=r.value,e!=null&&Qs(t,!!r.multiple,e,!1)}};Mp=Ih;Op=gs;var z1={usingClientEntryPoint:!1,Events:[Wi,Fs,$l,Ip,Lp,Ih]},Va={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F1={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dp(t),t===null?null:t.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||U1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Il=yo.inject(F1),vr=yo}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1;At.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(e))throw Error(D(200));return $1(t,e,null,r)};At.createRoot=function(t,e){if(!zh(t))throw Error(D(299));var r=!1,n="",s=xx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$h(t,1,!1,null,null,r,!1,n,s),t[Or]=e.current,vi(t.nodeType===8?t.parentNode:t),new Dh(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Dp(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return gs(t)};At.hydrate=function(t,e,r){if(!Wl(e))throw Error(D(200));return Kl(null,t,e,!0,r)};At.hydrateRoot=function(t,e,r){if(!zh(t))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=xx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=gx(e,null,t,1,r??null,s,!1,i,o),t[Or]=e.current,vi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Gl(e)};At.render=function(t,e,r){if(!Wl(e))throw Error(D(200));return Kl(null,t,e,!1,r)};At.unmountComponentAtNode=function(t){if(!Wl(t))throw Error(D(40));return t._reactRootContainer?(gs(function(){Kl(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};At.unstable_batchedUpdates=Ih;At.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wl(r))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Kl(t,e,r,!1,n)};At.version="18.3.1-next-f1338f8080-20240426";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(t){console.error(t)}}yx(),yp.exports=At;var qi=yp.exports;const vx=ap(qi);var bx,M0=qi;bx=M0.createRoot,M0.hydrateRoot;const B1=1,V1=1e6;let qc=0;function H1(){return qc=(qc+1)%Number.MAX_SAFE_INTEGER,qc.toString()}const Qc=new Map,O0=t=>{if(Qc.has(t))return;const e=setTimeout(()=>{Qc.delete(t),li({type:"REMOVE_TOAST",toastId:t})},V1);Qc.set(t,e)},G1=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,B1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?O0(r):t.toasts.forEach(n=>{O0(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},zo=[];let Fo={toasts:[]};function li(t){Fo=G1(Fo,t),zo.forEach(e=>{e(Fo)})}function W1({...t}){const e=H1(),r=s=>li({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>li({type:"DISMISS_TOAST",toastId:e});return li({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function An(){const[t,e]=p.useState(Fo);return p.useEffect(()=>(zo.push(e),()=>{const r=zo.indexOf(e);r>-1&&zo.splice(r,1)}),[t]),{...t,toast:W1,dismiss:r=>li({type:"DISMISS_TOAST",toastId:r})}}function ye(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function K1(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function wx(...t){return e=>t.forEach(r=>K1(r,e))}function Ht(...t){return p.useCallback(wx(...t),t)}function q1(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function d(h){const{scope:f,children:m,...g}=h,v=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Q1(s,...e)]}function Q1(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Ci=p.forwardRef((t,e)=>{const{children:r,...n}=t,s=p.Children.toArray(r),i=s.find(Y1);if(i){const o=i.props.children,l=s.map(c=>c===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return a.jsx(su,{...n,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return a.jsx(su,{...n,ref:e,children:r})});Ci.displayName="Slot";var su=p.forwardRef((t,e)=>{const{children:r,...n}=t;if(p.isValidElement(r)){const s=X1(r);return p.cloneElement(r,{...J1(n,r.props),ref:e?wx(e,s):s})}return p.Children.count(r)>1?p.Children.only(null):null});su.displayName="SlotClone";var jx=({children:t})=>a.jsx(a.Fragment,{children:t});function Y1(t){return p.isValidElement(t)&&t.type===jx}function J1(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function X1(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _x(t){const e=t+"CollectionProvider",[r,n]=q1(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:v}=m,w=B.useRef(null),y=B.useRef(new Map).current;return a.jsx(s,{scope:g,itemMap:y,collectionRef:w,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=B.forwardRef((m,g)=>{const{scope:v,children:w}=m,y=i(l,v),x=Ht(g,y.collectionRef);return a.jsx(Ci,{ref:x,children:w})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=B.forwardRef((m,g)=>{const{scope:v,children:w,...y}=m,x=B.useRef(null),b=Ht(g,x),j=i(d,v);return B.useEffect(()=>(j.itemMap.set(x,{ref:x,...y}),()=>void j.itemMap.delete(x))),a.jsx(Ci,{[u]:"",ref:b,children:w})});h.displayName=d;function f(m){const g=i(t+"CollectionConsumer",m);return B.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((j,_)=>y.indexOf(j.ref.current)-y.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,n]}function Fh(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:f,children:m,...g}=h,v=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})};d.displayName=i+"Provider";function u(h,f){var v;const m=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Z1(s,...e)]}function Z1(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var ej=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=ej.reduce((t,e)=>{const r=p.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?Ci:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Nx(t,e){t&&qi.flushSync(()=>t.dispatchEvent(e))}function ar(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function tj(t,e=globalThis==null?void 0:globalThis.document){const r=ar(t);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var rj="DismissableLayer",au="dismissableLayer.update",nj="dismissableLayer.pointerDownOutside",sj="dismissableLayer.focusOutside",$0,Sx=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bh=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=p.useContext(Sx),[u,h]=p.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),g=Ht(e,S=>h(S)),v=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(w),x=u?v.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=x>=y,_=ij(S=>{const k=S.target,E=[...d.branches].some(T=>T.contains(k));!j||E||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),N=oj(S=>{const k=S.target;[...d.branches].some(T=>T.contains(k))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return tj(S=>{x===d.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),p.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),U0(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$0)}},[u,f,r,d]),p.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),U0())},[u,d]),p.useEffect(()=>{const S=()=>m({});return document.addEventListener(au,S),()=>document.removeEventListener(au,S)},[]),a.jsx(Oe.div,{...c,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,N.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,_.onPointerDownCapture)})});Bh.displayName=rj;var aj="DismissableLayerBranch",kx=p.forwardRef((t,e)=>{const r=p.useContext(Sx),n=p.useRef(null),s=Ht(e,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Oe.div,{...t,ref:s})});kx.displayName=aj;function ij(t,e=globalThis==null?void 0:globalThis.document){const r=ar(t),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){Ex(nj,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function oj(t,e=globalThis==null?void 0:globalThis.document){const r=ar(t),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&Ex(sj,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function U0(){const t=new CustomEvent(au);document.dispatchEvent(t)}function Ex(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Nx(s,i):s.dispatchEvent(i)}var lj=Bh,cj=kx,bn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},dj="Portal",Cx=p.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=p.useState(!1);bn(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?vx.createPortal(a.jsx(Oe.div,{...n,ref:e}),o):null});Cx.displayName=dj;function uj(t,e){return p.useReducer((r,n)=>e[r][n]??r,t)}var ql=t=>{const{present:e,children:r}=t,n=hj(e),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Ht(n.ref,fj(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};ql.displayName="Presence";function hj(t){const[e,r]=p.useState(),n=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=uj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=vo(n.current);i.current=l==="mounted"?d:"none"},[l]),bn(()=>{const d=n.current,u=s.current;if(u!==t){const f=i.current,m=vo(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),bn(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=m=>{const v=vo(n.current).includes(m.animationName);if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=m=>{m.target===e&&(i.current=vo(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function vo(t){return(t==null?void 0:t.animationName)||"none"}function fj(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Vh({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=mj({defaultProp:e,onChange:r}),i=t!==void 0,o=i?t:n,l=ar(r),c=p.useCallback(d=>{if(i){const h=typeof d=="function"?d(t):d;h!==t&&l(h)}else s(d)},[i,t,s,l]);return[o,c]}function mj({defaultProp:t,onChange:e}){const r=p.useState(t),[n]=r,s=p.useRef(n),i=ar(e);return p.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var pj="VisuallyHidden",Ql=p.forwardRef((t,e)=>a.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ql.displayName=pj;var gj=Ql,Hh="ToastProvider",[Gh,xj,yj]=_x("Toast"),[Tx,SC]=Fh("Toast",[yj]),[vj,Yl]=Tx(Hh),Px=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[d,u]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hh}\`. Expected non-empty \`string\`.`),a.jsx(Gh.Provider,{scope:e,children:a.jsx(vj,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>u(m=>m+1),[]),onToastRemove:p.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Px.displayName=Hh;var Ax="ToastViewport",bj=["F8"],iu="toast.viewportPause",ou="toast.viewportResume",Rx=p.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=bj,label:s="Notifications ({hotkey})",...i}=t,o=Yl(Ax,r),l=xj(r),c=p.useRef(null),d=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=Ht(e,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;p.useEffect(()=>{const w=y=>{var b;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),p.useEffect(()=>{const w=c.current,y=h.current;if(g&&w&&y){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(iu);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(ou);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},j=N=>{!w.contains(N.relatedTarget)&&b()},_=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",j),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const j=b.ref.current,_=[j,...Ij(j)];return w==="forwards"?_:_.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return p.useEffect(()=>{const w=h.current;if(w){const y=x=>{var _,N,S;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const k=document.activeElement,E=x.shiftKey;if(x.target===w&&E){(_=d.current)==null||_.focus();return}const P=v({tabbingDirection:E?"backwards":"forwards"}),I=P.findIndex(M=>M===k);Yc(P.slice(I+1))?x.preventDefault():E?(N=d.current)==null||N.focus():(S=u.current)==null||S.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,v]),a.jsxs(cj,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&a.jsx(lu,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Yc(w)}}),a.jsx(Gh.Slot,{scope:r,children:a.jsx(Oe.ol,{tabIndex:-1,...i,ref:f})}),g&&a.jsx(lu,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Yc(w)}})]})});Rx.displayName=Ax;var Ix="ToastFocusProxy",lu=p.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Yl(Ix,r);return a.jsx(Ql,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});lu.displayName=Ix;var Jl="Toast",wj="toast.swipeStart",jj="toast.swipeMove",_j="toast.swipeCancel",Nj="toast.swipeEnd",Lx=p.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,c]=Vh({prop:n,defaultProp:s,onChange:i});return a.jsx(ql,{present:r||l,children:a.jsx(Ej,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:ar(t.onPause),onResume:ar(t.onResume),onSwipeStart:ye(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ye(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Lx.displayName=Jl;var[Sj,kj]=Tx(Jl,{onClose(){}}),Ej=p.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=t,v=Yl(Jl,r),[w,y]=p.useState(null),x=Ht(e,M=>y(M)),b=p.useRef(null),j=p.useRef(null),_=s||v.duration,N=p.useRef(0),S=p.useRef(_),k=p.useRef(0),{onToastAdd:E,onToastRemove:T}=v,O=ar(()=>{var Q;(w==null?void 0:w.contains(document.activeElement))&&((Q=v.viewport)==null||Q.focus()),o()}),P=p.useCallback(M=>{!M||M===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(O,M))},[O]);p.useEffect(()=>{const M=v.viewport;if(M){const Q=()=>{P(S.current),d==null||d()},G=()=>{const re=new Date().getTime()-N.current;S.current=S.current-re,window.clearTimeout(k.current),c==null||c()};return M.addEventListener(iu,G),M.addEventListener(ou,Q),()=>{M.removeEventListener(iu,G),M.removeEventListener(ou,Q)}}},[v.viewport,_,c,d,P]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&P(_)},[i,_,v.isClosePausedRef,P]),p.useEffect(()=>(E(),()=>T()),[E,T]);const I=p.useMemo(()=>w?Fx(w):null,[w]);return v.viewport?a.jsxs(a.Fragment,{children:[I&&a.jsx(Cj,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),a.jsx(Sj,{scope:r,onClose:O,children:qi.createPortal(a.jsx(Gh.ItemSlot,{scope:r,children:a.jsx(lj,{asChild:!0,onEscapeKeyDown:ye(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ye(t.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:ye(t.onPointerMove,M=>{if(!b.current)return;const Q=M.clientX-b.current.x,G=M.clientY-b.current.y,re=!!j.current,A=["left","right"].includes(v.swipeDirection),R=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,z=A?R(0,Q):0,U=A?0:R(0,G),H=M.pointerType==="touch"?10:2,ee={x:z,y:U},te={originalEvent:M,delta:ee};re?(j.current=ee,bo(jj,h,te,{discrete:!1})):D0(ee,v.swipeDirection,H)?(j.current=ee,bo(wj,u,te,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(Q)>H||Math.abs(G)>H)&&(b.current=null)}),onPointerUp:ye(t.onPointerUp,M=>{const Q=j.current,G=M.target;if(G.hasPointerCapture(M.pointerId)&&G.releasePointerCapture(M.pointerId),j.current=null,b.current=null,Q){const re=M.currentTarget,A={originalEvent:M,delta:Q};D0(Q,v.swipeDirection,v.swipeThreshold)?bo(Nj,m,A,{discrete:!0}):bo(_j,f,A,{discrete:!0}),re.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Cj=t=>{const{__scopeToast:e,children:r,...n}=t,s=Yl(Jl,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return Aj(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Cx,{asChild:!0,children:a.jsx(Ql,{...n,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},Tj="ToastTitle",Mx=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Oe.div,{...n,ref:e})});Mx.displayName=Tj;var Pj="ToastDescription",Ox=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Oe.div,{...n,ref:e})});Ox.displayName=Pj;var $x="ToastAction",Ux=p.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(zx,{altText:r,asChild:!0,children:a.jsx(Wh,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${$x}\`. Expected non-empty \`string\`.`),null)});Ux.displayName=$x;var Dx="ToastClose",Wh=p.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=kj(Dx,r);return a.jsx(zx,{asChild:!0,children:a.jsx(Oe.button,{type:"button",...n,ref:e,onClick:ye(t.onClick,s.onClose)})})});Wh.displayName=Dx;var zx=p.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Fx(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Rj(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Fx(n))}}),e}function bo(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Nx(s,i):s.dispatchEvent(i)}var D0=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function Aj(t=()=>{}){const e=ar(t);bn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Rj(t){return t.nodeType===t.ELEMENT_NODE}function Ij(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Yc(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Lj=Px,Bx=Rx,Vx=Lx,Hx=Mx,Gx=Ox,Wx=Ux,Kx=Wh;function qx(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=qx(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qx(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=qx(t))&&(n&&(n+=" "),n+=e);return n}const z0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,F0=Qx,Qi=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return F0(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const f=z0(u)||z0(h);return s[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(g=>{let[v,w]=g;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...d,h,f]:d},[]);return F0(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yx=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...Oj,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Yx("lucide",s),...l},[...o.map(([d,u])=>p.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,e)=>{const r=p.forwardRef(({className:n,...s},i)=>p.createElement($j,{ref:i,iconNode:e,className:Yx(`lucide-${Mj(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=X("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=X("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=X("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=X("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=X("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=X("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=X("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=X("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=X("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=X("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=X("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=X("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=X("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=X("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=X("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=X("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=X("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=X("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=X("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=X("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=X("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=X("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=X("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Yh="-",r_=t=>{const e=s_(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Yh);return l[0]===""&&l.length!==1&&l.shift(),sy(l,e)||n_(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},sy=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?sy(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Yh);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},G0=/^\[(.+)\]$/,n_=t=>{if(G0.test(t)){const e=G0.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},s_=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return i_(Object.entries(t.classGroups),r).forEach(([i,o])=>{du(o,n,i,e)}),n},du=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:W0(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(a_(s)){du(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{du(o,W0(e,i),r,n)})})},W0=(t,e)=>{let r=t;return e.split(Yh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},a_=t=>t.isThemeGetter,i_=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,s]}):t,o_=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},ay="!",l_=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let y=l[w];if(d===0){if(y===s&&(n||l.slice(w,w+i)===e)){c.push(l.slice(u,w)),u=w+i;continue}if(y==="/"){h=w;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(ay),g=m?f.substring(1):f,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},c_=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},d_=t=>({cache:o_(t.cacheSize),parseClassName:l_(t),...r_(t)}),u_=/\s+/,h_=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(u_);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(d);let g=!!m,v=n(g?f.substring(0,m):f);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=n(f),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const w=c_(u).join(":"),y=h?w+ay:w,x=y+v;if(i.includes(x))continue;i.push(x);const b=s(v,g);for(let j=0;j<b.length;++j){const _=b[j];i.push(y+_)}l=d+(l.length>0?" "+l:l)}return l};function f_(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=iy(e))&&(n&&(n+=" "),n+=r);return n}const iy=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=iy(t[n]))&&(r&&(r+=" "),r+=e);return r};function m_(t,...e){let r,n,s,i=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return r=d_(d),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=h_(c,r);return s(c,u),u}return function(){return i(f_.apply(null,arguments))}}const ke=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},oy=/^\[(?:([a-z-]+):)?(.+)\]$/i,p_=/^\d+\/\d+$/,g_=new Set(["px","full","screen"]),x_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,b_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>ra(t)||g_.has(t)||p_.test(t),Gr=t=>Ta(t,"length",T_),ra=t=>!!t&&!Number.isNaN(Number(t)),Jc=t=>Ta(t,"number",ra),Ha=t=>!!t&&Number.isInteger(Number(t)),j_=t=>t.endsWith("%")&&ra(t.slice(0,-1)),ie=t=>oy.test(t),Wr=t=>x_.test(t),__=new Set(["length","size","percentage"]),N_=t=>Ta(t,__,ly),S_=t=>Ta(t,"position",ly),k_=new Set(["image","url"]),E_=t=>Ta(t,k_,A_),C_=t=>Ta(t,"",P_),Ga=()=>!0,Ta=(t,e,r)=>{const n=oy.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},T_=t=>y_.test(t)&&!v_.test(t),ly=()=>!1,P_=t=>b_.test(t),A_=t=>w_.test(t),R_=()=>{const t=ke("colors"),e=ke("spacing"),r=ke("blur"),n=ke("brightness"),s=ke("borderColor"),i=ke("borderRadius"),o=ke("borderSpacing"),l=ke("borderWidth"),c=ke("contrast"),d=ke("grayscale"),u=ke("hueRotate"),h=ke("invert"),f=ke("gap"),m=ke("gradientColorStops"),g=ke("gradientColorStopPositions"),v=ke("inset"),w=ke("margin"),y=ke("opacity"),x=ke("padding"),b=ke("saturate"),j=ke("scale"),_=ke("sepia"),N=ke("skew"),S=ke("space"),k=ke("translate"),E=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",ie,e],P=()=>[ie,e],I=()=>["",_r,Gr],M=()=>["auto",ra,ie],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ie],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[ra,ie];return{cacheSize:500,separator:":",theme:{colors:[Ga],spacing:[_r,Gr],blur:["none","",Wr,ie],brightness:U(),borderColor:[t],borderRadius:["none","","full",Wr,ie],borderSpacing:P(),borderWidth:I(),contrast:U(),grayscale:R(),hueRotate:U(),invert:R(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[j_,Gr],inset:O(),margin:O(),opacity:U(),padding:P(),saturate:U(),scale:U(),sepia:R(),skew:U(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ie]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),ie]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ha,ie]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ie]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Ha,ie]}],"grid-cols":[{"grid-cols":[Ga]}],"col-start-end":[{col:["auto",{span:["full",Ha,ie]},ie]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Ga]}],"row-start-end":[{row:["auto",{span:[Ha,ie]},ie]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ie]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ie,e]}],"min-w":[{"min-w":[ie,e,"min","max","fit"]}],"max-w":[{"max-w":[ie,e,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jc]}],"font-family":[{font:[Ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ie]}],"line-clamp":[{"line-clamp":["none",ra,Jc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,ie]}],"list-image":[{"list-image":["none",ie]}],"list-style-type":[{list:["none","disc","decimal",ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,Gr]}],"underline-offset":[{"underline-offset":["auto",_r,ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),S_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},E_]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[_r,ie]}],"outline-w":[{outline:[_r,Gr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[_r,Gr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wr,C_]}],"shadow-color":[{shadow:[Ga]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Wr,ie]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ie]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ie]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ha,ie]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_r,Gr,Jc]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},I_=m_(R_);function ge(...t){return I_(Qx(t))}const L_=Lj,cy=p.forwardRef(({className:t,...e},r)=>a.jsx(Bx,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cy.displayName=Bx.displayName;const M_=Qi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dy=p.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(Vx,{ref:n,className:ge(M_({variant:e}),t),...r}));dy.displayName=Vx.displayName;const O_=p.forwardRef(({className:t,...e},r)=>a.jsx(Wx,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));O_.displayName=Wx.displayName;const uy=p.forwardRef(({className:t,...e},r)=>a.jsx(Kx,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Qh,{className:"h-4 w-4"})}));uy.displayName=Kx.displayName;const hy=p.forwardRef(({className:t,...e},r)=>a.jsx(Hx,{ref:r,className:ge("text-sm font-semibold",t),...e}));hy.displayName=Hx.displayName;const fy=p.forwardRef(({className:t,...e},r)=>a.jsx(Gx,{ref:r,className:ge("text-sm opacity-90",t),...e}));fy.displayName=Gx.displayName;function $_(){const{toasts:t}=An();return a.jsxs(L_,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return a.jsxs(dy,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(hy,{children:r}),n&&a.jsx(fy,{children:n})]}),s,a.jsx(uy,{})]},e)}),a.jsx(cy,{})]})}var bl=["light","dark"],Jh="(prefers-color-scheme: dark)",U_=typeof window>"u",Xh=p.createContext(void 0),D_={setTheme:t=>{},themes:[]},z_=()=>{var t;return(t=p.useContext(Xh))!=null?t:D_},F_=t=>p.useContext(Xh)?t.children:p.createElement(V_,{...t}),B_=["light","dark"],V_=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:i=B_,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[h,f]=p.useState(()=>K0(s,o)),[m,g]=p.useState(()=>K0(s)),v=c?Object.values(c):i,w=p.useCallback(j=>{let _=j;if(!_)return;j==="system"&&r&&(_=q0());let N=c?c[_]:_,S=e?G_():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...v),N&&k.classList.add(N)):N?k.setAttribute(l,N):k.removeAttribute(l),n){let E=bl.includes(o)?o:null,T=bl.includes(_)?_:E;k.style.colorScheme=T}S==null||S()},[]),y=p.useCallback(j=>{let _=typeof j=="function"?j(j):j;f(_);try{localStorage.setItem(s,_)}catch{}},[t]),x=p.useCallback(j=>{let _=q0(j);g(_),h==="system"&&r&&!t&&w("system")},[h,t]);p.useEffect(()=>{let j=window.matchMedia(Jh);return j.addListener(x),x(j),()=>j.removeListener(x)},[x]),p.useEffect(()=>{let j=_=>{if(_.key!==s)return;let N=_.newValue||o;y(N)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[y]),p.useEffect(()=>{w(t??h)},[t,h]);let b=p.useMemo(()=>({theme:h,setTheme:y,forcedTheme:t,resolvedTheme:h==="system"?m:h,themes:r?[...i,"system"]:i,systemTheme:r?m:void 0}),[h,y,t,m,r,i]);return p.createElement(Xh.Provider,{value:b},p.createElement(H_,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:r,enableColorScheme:n,storageKey:s,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:v,nonce:u}),d)},H_=p.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?bl.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,v=!1,w=!0)=>{let y=o?o[g]:g,x=v?g+"|| ''":`'${y}'`,b="";return s&&w&&!v&&bl.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?v||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},m=t?`!function(){${u}${f(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${Jh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),K0=(t,e)=>{if(U_)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},G_=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},q0=t=>(t||(t=window.matchMedia(Jh)),t.matches?"dark":"light"),W_=t=>{switch(t){case"success":return Q_;case"info":return J_;case"warning":return Y_;case"error":return X_;default:return null}},K_=Array(12).fill(0),q_=({visible:t})=>B.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},B.createElement("div",{className:"sonner-spinner"},K_.map((e,r)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Q_=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Y_=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),J_=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),X_=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Z_=()=>{let[t,e]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},uu=1,eN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:uu++,i=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0;return n.then(async i=>{if(rN(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,l=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:r,type:"error",message:o,description:l})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,l=typeof e.description=="function"?await e.description(i):e.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=e.finally)==null||i.call(e)}),r},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||uu++;return this.create({jsx:t(r),id:r,...e}),r},this.subscribers=[],this.toasts=[]}},_t=new eN,tN=(t,e)=>{let r=(e==null?void 0:e.id)||uu++;return _t.addToast({title:t,...e,id:r}),r},rN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",nN=tN,sN=()=>_t.toasts,pe=Object.assign(nN,{success:_t.success,info:_t.info,warning:_t.warning,error:_t.error,custom:_t.custom,message:_t.message,promise:_t.promise,dismiss:_t.dismiss,loading:_t.loading},{getHistory:sN});function aN(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}aN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wo(t){return t.label!==void 0}var iN=3,oN="32px",lN=4e3,cN=356,dN=14,uN=20,hN=200;function fN(...t){return t.filter(Boolean).join(" ")}var mN=t=>{var e,r,n,s,i,o,l,c,d,u;let{invert:h,toast:f,unstyled:m,interacting:g,setHeights:v,visibleToasts:w,heights:y,index:x,toasts:b,expanded:j,removeToast:_,defaultRichColors:N,closeButton:S,style:k,cancelButtonStyle:E,actionButtonStyle:T,className:O="",descriptionClassName:P="",duration:I,position:M,gap:Q,loadingIcon:G,expandByDefault:re,classNames:A,icons:R,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:U,cn:H}=t,[ee,te]=B.useState(!1),[Ke,ne]=B.useState(!1),[_e,Ne]=B.useState(!1),[Ve,lr]=B.useState(!1),[ws,Br]=B.useState(0),[cr,In]=B.useState(0),js=B.useRef(null),C=B.useRef(null),V=x===0,F=x+1<=w,J=f.type,le=f.dismissible!==!1,wt=f.className||"",Ue=f.descriptionClassName||"",Ln=B.useMemo(()=>y.findIndex(ae=>ae.toastId===f.id)||0,[y,f.id]),yc=B.useMemo(()=>{var ae;return(ae=f.closeButton)!=null?ae:S},[f.closeButton,S]),_s=B.useMemo(()=>f.duration||I||lN,[f.duration,I]),vc=B.useRef(0),Ns=B.useRef(0),jf=B.useRef(0),Ss=B.useRef(null),[_f,cb]=M.split("-"),Nf=B.useMemo(()=>y.reduce((ae,Se,be)=>be>=Ln?ae:ae+Se.height,0),[y,Ln]),Sf=Z_(),db=f.invert||h,bc=J==="loading";Ns.current=B.useMemo(()=>Ln*Q+Nf,[Ln,Nf]),B.useEffect(()=>{te(!0)},[]),B.useLayoutEffect(()=>{if(!ee)return;let ae=C.current,Se=ae.style.height;ae.style.height="auto";let be=ae.getBoundingClientRect().height;ae.style.height=Se,In(be),v(dr=>dr.find(ur=>ur.toastId===f.id)?dr.map(ur=>ur.toastId===f.id?{...ur,height:be}:ur):[{toastId:f.id,height:be,position:f.position},...dr])},[ee,f.title,f.description,v,f.id]);let Vr=B.useCallback(()=>{ne(!0),Br(Ns.current),v(ae=>ae.filter(Se=>Se.toastId!==f.id)),setTimeout(()=>{_(f)},hN)},[f,_,v,Ns]);B.useEffect(()=>{if(f.promise&&J==="loading"||f.duration===1/0||f.type==="loading")return;let ae,Se=_s;return j||g||U&&Sf?(()=>{if(jf.current<vc.current){let be=new Date().getTime()-vc.current;Se=Se-be}jf.current=new Date().getTime()})():Se!==1/0&&(vc.current=new Date().getTime(),ae=setTimeout(()=>{var be;(be=f.onAutoClose)==null||be.call(f,f),Vr()},Se)),()=>clearTimeout(ae)},[j,g,re,f,_s,Vr,f.promise,J,U,Sf]),B.useEffect(()=>{let ae=C.current;if(ae){let Se=ae.getBoundingClientRect().height;return In(Se),v(be=>[{toastId:f.id,height:Se,position:f.position},...be]),()=>v(be=>be.filter(dr=>dr.toastId!==f.id))}},[v,f.id]),B.useEffect(()=>{f.delete&&Vr()},[Vr,f.delete]);function ub(){return R!=null&&R.loading?B.createElement("div",{className:"sonner-loader","data-visible":J==="loading"},R.loading):G?B.createElement("div",{className:"sonner-loader","data-visible":J==="loading"},G):B.createElement(q_,{visible:J==="loading"})}return B.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:C,className:H(O,wt,A==null?void 0:A.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,A==null?void 0:A.default,A==null?void 0:A[J],(r=f==null?void 0:f.classNames)==null?void 0:r[J]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:N,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":ee,"data-promise":!!f.promise,"data-removed":Ke,"data-visible":F,"data-y-position":_f,"data-x-position":cb,"data-index":x,"data-front":V,"data-swiping":_e,"data-dismissible":le,"data-type":J,"data-invert":db,"data-swipe-out":Ve,"data-expanded":!!(j||re&&ee),style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${Ke?ws:Ns.current}px`,"--initial-height":re?"auto":`${cr}px`,...k,...f.style},onPointerDown:ae=>{bc||!le||(js.current=new Date,Br(Ns.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Ne(!0),Ss.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Se,be,dr;if(Ve||!le)return;Ss.current=null;let ur=Number(((ae=C.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Zi=new Date().getTime()-((Se=js.current)==null?void 0:Se.getTime()),hb=Math.abs(ur)/Zi;if(Math.abs(ur)>=uN||hb>.11){Br(Ns.current),(be=f.onDismiss)==null||be.call(f,f),Vr(),lr(!0);return}(dr=C.current)==null||dr.style.setProperty("--swipe-amount","0px"),Ne(!1)},onPointerMove:ae=>{var Se;if(!Ss.current||!le)return;let be=ae.clientY-Ss.current.y,dr=ae.clientX-Ss.current.x,ur=(_f==="top"?Math.min:Math.max)(0,be),Zi=ae.pointerType==="touch"?10:2;Math.abs(ur)>Zi?(Se=C.current)==null||Se.style.setProperty("--swipe-amount",`${be}px`):Math.abs(dr)>Zi&&(Ss.current=null)}},yc&&!f.jsx?B.createElement("button",{"aria-label":z,"data-disabled":bc,"data-close-button":!0,onClick:bc||!le?()=>{}:()=>{var ae;Vr(),(ae=f.onDismiss)==null||ae.call(f,f)},className:H(A==null?void 0:A.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||B.isValidElement(f.title)?f.jsx||f.title:B.createElement(B.Fragment,null,J||f.icon||f.promise?B.createElement("div",{"data-icon":"",className:H(A==null?void 0:A.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||ub():null,f.type!=="loading"?f.icon||(R==null?void 0:R[J])||W_(J):null):null,B.createElement("div",{"data-content":"",className:H(A==null?void 0:A.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:H(A==null?void 0:A.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?B.createElement("div",{"data-description":"",className:H(P,Ue,A==null?void 0:A.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),B.isValidElement(f.cancel)?f.cancel:f.cancel&&wo(f.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:ae=>{var Se,be;wo(f.cancel)&&le&&((be=(Se=f.cancel).onClick)==null||be.call(Se,ae),Vr())},className:H(A==null?void 0:A.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,B.isValidElement(f.action)?f.action:f.action&&wo(f.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:ae=>{var Se,be;wo(f.action)&&(ae.defaultPrevented||((be=(Se=f.action).onClick)==null||be.call(Se,ae),Vr()))},className:H(A==null?void 0:A.actionButton,(u=f==null?void 0:f.classNames)==null?void 0:u.actionButton)},f.action.label):null))};function Q0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var pN=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:h,visibleToasts:f=iN,toastOptions:m,dir:g=Q0(),gap:v=dN,loadingIcon:w,icons:y,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:b,cn:j=fN}=t,[_,N]=B.useState([]),S=B.useMemo(()=>Array.from(new Set([r].concat(_.filter(U=>U.position).map(U=>U.position)))),[_,r]),[k,E]=B.useState([]),[T,O]=B.useState(!1),[P,I]=B.useState(!1),[M,Q]=B.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=B.useRef(null),re=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=B.useRef(null),R=B.useRef(!1),z=B.useCallback(U=>{var H;(H=_.find(ee=>ee.id===U.id))!=null&&H.delete||_t.dismiss(U.id),N(ee=>ee.filter(({id:te})=>te!==U.id))},[_]);return B.useEffect(()=>_t.subscribe(U=>{if(U.dismiss){N(H=>H.map(ee=>ee.id===U.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{vx.flushSync(()=>{N(H=>{let ee=H.findIndex(te=>te.id===U.id);return ee!==-1?[...H.slice(0,ee),{...H[ee],...U},...H.slice(ee+1)]:[U,...H]})})})}),[]),B.useEffect(()=>{if(c!=="system"){Q(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{Q(U?"dark":"light")})},[c]),B.useEffect(()=>{_.length<=1&&O(!1)},[_]),B.useEffect(()=>{let U=H=>{var ee,te;n.every(Ke=>H[Ke]||H.code===Ke)&&(O(!0),(ee=G.current)==null||ee.focus()),H.code==="Escape"&&(document.activeElement===G.current||(te=G.current)!=null&&te.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[n]),B.useEffect(()=>{if(G.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,R.current=!1)}},[G.current]),_.length?B.createElement("section",{"aria-label":`${x} ${re}`,tabIndex:-1},S.map((U,H)=>{var ee;let[te,Ke]=U.split("-");return B.createElement("ol",{key:U,dir:g==="auto"?Q0():g,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":te,"data-x-position":Ke,style:{"--front-toast-height":`${((ee=k[0])==null?void 0:ee.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||oN,"--width":`${cN}px`,"--gap":`${v}px`,...h},onBlur:ne=>{R.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(R.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||R.current||(R.current=!0,A.current=ne.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{P||O(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},_.filter(ne=>!ne.position&&H===0||ne.position===U).map((ne,_e)=>{var Ne,Ve;return B.createElement(mN,{key:ne.id,icons:y,index:_e,toast:ne,defaultRichColors:d,duration:(Ne=m==null?void 0:m.duration)!=null?Ne:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ve=m==null?void 0:m.closeButton)!=null?Ve:i,interacting:P,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:z,toasts:_.filter(lr=>lr.position==ne.position),heights:k.filter(lr=>lr.position==ne.position),setHeights:E,expandByDefault:s,gap:v,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:b,cn:j})}))})):null};const gN=({...t})=>{const{theme:e="system"}=z_();return a.jsx(pN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var xN=gp.useId||(()=>{}),yN=0;function my(t){const[e,r]=p.useState(xN());return bn(()=>{t||r(n=>n??String(yN++))},[t]),t||(e?`radix-${e}`:"")}const vN=["top","right","bottom","left"],Nn=Math.min,St=Math.max,wl=Math.round,jo=Math.floor,Sn=t=>({x:t,y:t}),bN={left:"right",right:"left",bottom:"top",top:"bottom"},wN={start:"end",end:"start"};function hu(t,e,r){return St(t,Nn(e,r))}function Dr(t,e){return typeof t=="function"?t(e):t}function zr(t){return t.split("-")[0]}function Pa(t){return t.split("-")[1]}function Zh(t){return t==="x"?"y":"x"}function ef(t){return t==="y"?"height":"width"}function kn(t){return["top","bottom"].includes(zr(t))?"y":"x"}function tf(t){return Zh(kn(t))}function jN(t,e,r){r===void 0&&(r=!1);const n=Pa(t),s=tf(t),i=ef(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=jl(o)),[o,jl(o)]}function _N(t){const e=jl(t);return[fu(t),e,fu(e)]}function fu(t){return t.replace(/start|end/g,e=>wN[e])}function NN(t,e,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?i:o;default:return[]}}function SN(t,e,r,n){const s=Pa(t);let i=NN(zr(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fu)))),i}function jl(t){return t.replace(/left|right|bottom|top/g,e=>bN[e])}function kN(t){return{top:0,right:0,bottom:0,left:0,...t}}function py(t){return typeof t!="number"?kN(t):{top:t,right:t,bottom:t,left:t}}function _l(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Y0(t,e,r){let{reference:n,floating:s}=t;const i=kn(e),o=tf(e),l=ef(o),c=zr(e),d=i==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Pa(e)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const EN=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=Y0(d,n,c),f=n,m={},g=0;for(let v=0;v<l.length;v++){const{name:w,fn:y}=l[v],{x,y:b,data:j,reset:_}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});u=x??u,h=b??h,m={...m,[w]:{...m[w],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:u,y:h}=Y0(d,f,c)),v=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:m}};async function Ri(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Dr(e,t),g=py(m),w=l[f?h==="floating"?"reference":"floating":h],y=_l(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=_l(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(y.top-_.top+g.top)/j.y,bottom:(_.bottom-y.bottom+g.bottom)/j.y,left:(y.left-_.left+g.left)/j.x,right:(_.right-y.right+g.right)/j.x}}const CN=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Dr(t,e)||{};if(d==null)return{};const h=py(u),f={x:r,y:n},m=tf(s),g=ef(m),v=await o.getDimensions(d),w=m==="y",y=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[m]-f[m]-i.floating[g],_=f[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=N?N[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[b]||i.floating[g]);const k=j/2-_/2,E=S/2-v[g]/2-1,T=Nn(h[y],E),O=Nn(h[x],E),P=T,I=S-v[g]-O,M=S/2-v[g]/2+k,Q=hu(P,M,I),G=!c.arrow&&Pa(s)!=null&&M!==Q&&i.reference[g]/2-(M<P?T:O)-v[g]/2<0,re=G?M<P?M-P:M-I:0;return{[m]:f[m]+re,data:{[m]:Q,centerOffset:M-Q-re,...G&&{alignmentOffset:re}},reset:G}}}),TN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...w}=Dr(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=zr(s),x=kn(l),b=zr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=f||(b||!v?[jl(l)]:_N(l)),N=g!=="none";!f&&N&&_.push(...SN(l,v,g,j));const S=[l,..._],k=await Ri(e,w),E=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&E.push(k[y]),h){const M=jN(s,o,j);E.push(k[M[0]],k[M[1]])}if(T=[...T,{placement:s,overflows:E}],!E.every(M=>M<=0)){var O,P;const M=(((O=i.flip)==null?void 0:O.index)||0)+1,Q=S[M];if(Q)return{data:{index:M,overflows:T},reset:{placement:Q}};let G=(P=T.filter(re=>re.overflows[0]<=0).sort((re,A)=>re.overflows[1]-A.overflows[1])[0])==null?void 0:P.placement;if(!G)switch(m){case"bestFit":{var I;const re=(I=T.filter(A=>{if(N){const R=kn(A.placement);return R===x||R==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(R=>R>0).reduce((R,z)=>R+z,0)]).sort((A,R)=>A[1]-R[1])[0])==null?void 0:I[0];re&&(G=re);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function J0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function X0(t){return vN.some(e=>t[e]>=0)}const PN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Dr(t,e);switch(n){case"referenceHidden":{const i=await Ri(e,{...s,elementContext:"reference"}),o=J0(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:X0(o)}}}case"escaped":{const i=await Ri(e,{...s,altBoundary:!0}),o=J0(i,r.floating);return{data:{escapedOffsets:o,escaped:X0(o)}}}default:return{}}}}};async function AN(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=zr(r),l=Pa(r),c=kn(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=Dr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const RN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await AN(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},IN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:x}=w;return{x:y,y:x}}},...c}=Dr(t,e),d={x:r,y:n},u=await Ri(e,c),h=kn(zr(s)),f=Zh(h);let m=d[f],g=d[h];if(i){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=m+u[w],b=m-u[y];m=hu(x,m,b)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=g+u[w],b=g-u[y];g=hu(x,g,b)}const v=l.fn({...e,[f]:m,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:i,[h]:o}}}}}},LN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Dr(t,e),u={x:r,y:n},h=kn(s),f=Zh(h);let m=u[f],g=u[h];const v=Dr(l,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=f==="y"?"height":"width",j=i.reference[f]-i.floating[b]+w.mainAxis,_=i.reference[f]+i.reference[b]-w.mainAxis;m<j?m=j:m>_&&(m=_)}if(d){var y,x;const b=f==="y"?"width":"height",j=["top","left"].includes(zr(s)),_=i.reference[h]-i.floating[b]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:w.crossAxis),N=i.reference[h]+i.reference[b]+(j?0:((x=o.offset)==null?void 0:x[h])||0)-(j?w.crossAxis:0);g<_?g=_:g>N&&(g=N)}return{[f]:m,[h]:g}}}},MN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Dr(t,e),u=await Ri(e,d),h=zr(s),f=Pa(s),m=kn(s)==="y",{width:g,height:v}=i.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,w=f==="end"?"top":"bottom");const x=v-u.top-u.bottom,b=g-u.left-u.right,j=Nn(v-u[w],x),_=Nn(g-u[y],b),N=!e.middlewareData.shift;let S=j,k=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(S=x),N&&!f){const T=St(u.left,0),O=St(u.right,0),P=St(u.top,0),I=St(u.bottom,0);m?k=g-2*(T!==0||O!==0?T+O:St(u.left,u.right)):S=v-2*(P!==0||I!==0?P+I:St(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:S});const E=await o.getDimensions(l.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function Zl(){return typeof window<"u"}function Aa(t){return gy(t)?(t.nodeName||"").toLowerCase():"#document"}function Tt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jr(t){var e;return(e=(gy(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gy(t){return Zl()?t instanceof Node||t instanceof Tt(t).Node:!1}function ir(t){return Zl()?t instanceof Element||t instanceof Tt(t).Element:!1}function wr(t){return Zl()?t instanceof HTMLElement||t instanceof Tt(t).HTMLElement:!1}function Z0(t){return!Zl()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tt(t).ShadowRoot}function Yi(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=or(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function ON(t){return["table","td","th"].includes(Aa(t))}function ec(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function rf(t){const e=nf(),r=ir(t)?or(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function $N(t){let e=En(t);for(;wr(e)&&!_a(e);){if(rf(e))return e;if(ec(e))return null;e=En(e)}return null}function nf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _a(t){return["html","body","#document"].includes(Aa(t))}function or(t){return Tt(t).getComputedStyle(t)}function tc(t){return ir(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function En(t){if(Aa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Z0(t)&&t.host||jr(t);return Z0(e)?e.host:e}function xy(t){const e=En(t);return _a(e)?t.ownerDocument?t.ownerDocument.body:t.body:wr(e)&&Yi(e)?e:xy(e)}function Ii(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=xy(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Tt(s);if(i){const l=mu(o);return e.concat(o,o.visualViewport||[],Yi(s)?s:[],l&&r?Ii(l):[])}return e.concat(s,Ii(s,[],r))}function mu(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yy(t){const e=or(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=wr(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=wl(r)!==i||wl(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function sf(t){return ir(t)?t:t.contextElement}function na(t){const e=sf(t);if(!wr(e))return Sn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=yy(e);let o=(i?wl(r.width):r.width)/n,l=(i?wl(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const UN=Sn(0);function vy(t){const e=Tt(t);return!nf()||!e.visualViewport?UN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DN(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Tt(t)?!1:e}function xs(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=sf(t);let o=Sn(1);e&&(n?ir(n)&&(o=na(n)):o=na(t));const l=DN(i,r,n)?vy(i):Sn(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=Tt(i),m=n&&ir(n)?Tt(n):n;let g=f,v=mu(g);for(;v&&n&&m!==g;){const w=na(v),y=v.getBoundingClientRect(),x=or(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,j=y.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=b,d+=j,g=Tt(v),v=mu(g)}}return _l({width:u,height:h,x:c,y:d})}function zN(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=jr(n),l=e?ec(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Sn(1);const u=Sn(0),h=wr(n);if((h||!h&&!i)&&((Aa(n)!=="body"||Yi(o))&&(c=tc(n)),wr(n))){const f=xs(n);d=na(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function FN(t){return Array.from(t.getClientRects())}function pu(t,e){const r=tc(t).scrollLeft;return e?e.left+r:xs(jr(t)).left+r}function BN(t){const e=jr(t),r=tc(t),n=t.ownerDocument.body,s=St(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=St(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+pu(t);const l=-r.scrollTop;return or(n).direction==="rtl"&&(o+=St(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function VN(t,e){const r=Tt(t),n=jr(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=nf();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function HN(t,e){const r=xs(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=wr(t)?na(t):Sn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function em(t,e,r){let n;if(e==="viewport")n=VN(t,r);else if(e==="document")n=BN(jr(t));else if(ir(e))n=HN(e,r);else{const s=vy(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return _l(n)}function by(t,e){const r=En(t);return r===e||!ir(r)||_a(r)?!1:or(r).position==="fixed"||by(r,e)}function GN(t,e){const r=e.get(t);if(r)return r;let n=Ii(t,[],!1).filter(l=>ir(l)&&Aa(l)!=="body"),s=null;const i=or(t).position==="fixed";let o=i?En(t):t;for(;ir(o)&&!_a(o);){const l=or(o),c=rf(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Yi(o)&&!c&&by(t,o))?n=n.filter(u=>u!==o):s=l,o=En(o)}return e.set(t,n),n}function WN(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?ec(e)?[]:GN(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=em(e,u,s);return d.top=St(h.top,d.top),d.right=Nn(h.right,d.right),d.bottom=Nn(h.bottom,d.bottom),d.left=St(h.left,d.left),d},em(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KN(t){const{width:e,height:r}=yy(t);return{width:e,height:r}}function qN(t,e,r){const n=wr(e),s=jr(e),i=r==="fixed",o=xs(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Sn(0);if(n||!n&&!i)if((Aa(e)!=="body"||Yi(s))&&(l=tc(e)),n){const m=xs(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=pu(s));let d=0,u=0;if(s&&!n&&!i){const m=s.getBoundingClientRect();u=m.top+l.scrollTop,d=m.left+l.scrollLeft-pu(s,m)}const h=o.left+l.scrollLeft-c.x-d,f=o.top+l.scrollTop-c.y-u;return{x:h,y:f,width:o.width,height:o.height}}function Xc(t){return or(t).position==="static"}function tm(t,e){if(!wr(t)||or(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return jr(t)===r&&(r=r.ownerDocument.body),r}function wy(t,e){const r=Tt(t);if(ec(t))return r;if(!wr(t)){let s=En(t);for(;s&&!_a(s);){if(ir(s)&&!Xc(s))return s;s=En(s)}return r}let n=tm(t,e);for(;n&&ON(n)&&Xc(n);)n=tm(n,e);return n&&_a(n)&&Xc(n)&&!rf(n)?r:n||$N(t)||r}const QN=async function(t){const e=this.getOffsetParent||wy,r=this.getDimensions,n=await r(t.floating);return{reference:qN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function YN(t){return or(t).direction==="rtl"}const JN={convertOffsetParentRelativeRectToViewportRelativeRect:zN,getDocumentElement:jr,getClippingRect:WN,getOffsetParent:wy,getElementRects:QN,getClientRects:FN,getDimensions:KN,getScale:na,isElement:ir,isRTL:YN};function XN(t,e){let r=null,n;const s=jr(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const m=jo(u),g=jo(s.clientWidth-(d+h)),v=jo(s.clientHeight-(u+f)),w=jo(d),x={rootMargin:-m+"px "+-g+"px "+-v+"px "+-w+"px",threshold:St(0,Nn(1,c))||1};let b=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!b)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(t)}return o(!0),i}function ZN(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=sf(t),u=s||i?[...d?Ii(d):[],...Ii(e)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?XN(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[x]=y;x&&x.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),r()}),d&&!c&&m.observe(d),m.observe(e));let g,v=c?xs(t):null;c&&w();function w(){const y=xs(t);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&r(),v=y,g=requestAnimationFrame(w)}return r(),()=>{var y;u.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const eS=RN,tS=IN,rS=TN,nS=MN,sS=PN,rm=CN,aS=LN,iS=(t,e,r)=>{const n=new Map,s={platform:JN,...r},i={...s.platform,_c:n};return EN(t,e,{...s,platform:i})};var Ho=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Nl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Nl(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Nl(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jy(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nm(t,e){const r=jy(t);return Math.round(e*r)/r}function Zc(t){const e=p.useRef(t);return Ho(()=>{e.current=t}),e}function oS(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=p.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(n);Nl(f,n)||m(n);const[g,v]=p.useState(null),[w,y]=p.useState(null),x=p.useCallback(A=>{A!==N.current&&(N.current=A,v(A))},[]),b=p.useCallback(A=>{A!==S.current&&(S.current=A,y(A))},[]),j=i||g,_=o||w,N=p.useRef(null),S=p.useRef(null),k=p.useRef(u),E=c!=null,T=Zc(c),O=Zc(s),P=Zc(d),I=p.useCallback(()=>{if(!N.current||!S.current)return;const A={placement:e,strategy:r,middleware:f};O.current&&(A.platform=O.current),iS(N.current,S.current,A).then(R=>{const z={...R,isPositioned:P.current!==!1};M.current&&!Nl(k.current,z)&&(k.current=z,qi.flushSync(()=>{h(z)}))})},[f,e,r,O,P]);Ho(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(A=>({...A,isPositioned:!1})))},[d]);const M=p.useRef(!1);Ho(()=>(M.current=!0,()=>{M.current=!1}),[]),Ho(()=>{if(j&&(N.current=j),_&&(S.current=_),j&&_){if(T.current)return T.current(j,_,I);I()}},[j,_,I,T,E]);const Q=p.useMemo(()=>({reference:N,floating:S,setReference:x,setFloating:b}),[x,b]),G=p.useMemo(()=>({reference:j,floating:_}),[j,_]),re=p.useMemo(()=>{const A={position:r,left:0,top:0};if(!G.floating)return A;const R=nm(G.floating,u.x),z=nm(G.floating,u.y);return l?{...A,transform:"translate("+R+"px, "+z+"px)",...jy(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:z}},[r,l,G.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:I,refs:Q,elements:G,floatingStyles:re}),[u,I,Q,G,re])}const lS=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?rm({element:n.current,padding:s}).fn(r):{}:n?rm({element:n,padding:s}).fn(r):{}}}},cS=(t,e)=>({...eS(t),options:[t,e]}),dS=(t,e)=>({...tS(t),options:[t,e]}),uS=(t,e)=>({...aS(t),options:[t,e]}),hS=(t,e)=>({...rS(t),options:[t,e]}),fS=(t,e)=>({...nS(t),options:[t,e]}),mS=(t,e)=>({...sS(t),options:[t,e]}),pS=(t,e)=>({...lS(t),options:[t,e]});var gS="Arrow",_y=p.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return a.jsx(Oe.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_y.displayName=gS;var xS=_y;function yS(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function d(h){const{scope:f,children:m,...g}=h,v=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,vS(s,...e)]}function vS(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function bS(t){const[e,r]=p.useState(void 0);return bn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ny="Popper",[Sy,ky]=yS(Ny),[kC,Ey]=Sy(Ny),Cy="PopperAnchor",Ty=p.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=Ey(Cy,r),o=p.useRef(null),l=Ht(e,o);return p.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Oe.div,{...s,ref:l})});Ty.displayName=Cy;var af="PopperContent",[wS,jS]=Sy(af),Py=p.forwardRef((t,e)=>{var _e,Ne,Ve,lr,ws,Br;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=t,w=Ey(af,r),[y,x]=p.useState(null),b=Ht(e,cr=>x(cr)),[j,_]=p.useState(null),N=bS(j),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,E=n+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],P=O.length>0,I={padding:T,boundary:O.filter(NS),altBoundary:P},{refs:M,floatingStyles:Q,placement:G,isPositioned:re,middlewareData:A}=oS({strategy:"fixed",placement:E,whileElementsMounted:(...cr)=>ZN(...cr,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[cS({mainAxis:s+k,alignmentAxis:o}),c&&dS({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?uS():void 0,...I}),c&&hS({...I}),fS({...I,apply:({elements:cr,rects:In,availableWidth:js,availableHeight:C})=>{const{width:V,height:F}=In.reference,J=cr.floating.style;J.setProperty("--radix-popper-available-width",`${js}px`),J.setProperty("--radix-popper-available-height",`${C}px`),J.setProperty("--radix-popper-anchor-width",`${V}px`),J.setProperty("--radix-popper-anchor-height",`${F}px`)}}),j&&pS({element:j,padding:l}),SS({arrowWidth:S,arrowHeight:k}),f&&mS({strategy:"referenceHidden",...I})]}),[R,z]=Iy(G),U=ar(g);bn(()=>{re&&(U==null||U())},[re,U]);const H=(_e=A.arrow)==null?void 0:_e.x,ee=(Ne=A.arrow)==null?void 0:Ne.y,te=((Ve=A.arrow)==null?void 0:Ve.centerOffset)!==0,[Ke,ne]=p.useState();return bn(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:re?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(lr=A.transformOrigin)==null?void 0:lr.x,(ws=A.transformOrigin)==null?void 0:ws.y].join(" "),...((Br=A.hide)==null?void 0:Br.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(wS,{scope:r,placedSide:R,onArrowChange:_,arrowX:H,arrowY:ee,shouldHideArrow:te,children:a.jsx(Oe.div,{"data-side":R,"data-align":z,...v,ref:b,style:{...v.style,animation:re?void 0:"none"}})})})});Py.displayName=af;var Ay="PopperArrow",_S={top:"bottom",right:"left",bottom:"top",left:"right"},Ry=p.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=jS(Ay,n),o=_S[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(xS,{...s,ref:r,style:{...s.style,display:"block"}})})});Ry.displayName=Ay;function NS(t){return t!==null}var SS=t=>({name:"transformOrigin",options:t,fn(e){var w,y,x;const{placement:r,rects:n,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=Iy(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=o?h:`${f}px`,v=`${-c}px`):d==="top"?(g=o?h:`${f}px`,v=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=o?h:`${m}px`):d==="left"&&(g=`${n.floating.width+c}px`,v=o?h:`${m}px`),{data:{x:g,y:v}}}});function Iy(t){const[e,r="center"]=t.split("-");return[e,r]}var kS=Ty,ES=Py,CS=Ry,[rc,EC]=Fh("Tooltip",[ky]),of=ky(),Ly="TooltipProvider",TS=700,sm="tooltip.open",[PS,My]=rc(Ly),Oy=t=>{const{__scopeTooltip:e,delayDuration:r=TS,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,[o,l]=p.useState(!0),c=p.useRef(!1),d=p.useRef(0);return p.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(PS,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:p.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};Oy.displayName=Ly;var $y="Tooltip",[CC,nc]=rc($y),gu="TooltipTrigger",AS=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=nc(gu,r),i=My(gu,r),o=of(r),l=p.useRef(null),c=Ht(e,l,s.onTriggerChange),d=p.useRef(!1),u=p.useRef(!1),h=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(kS,{asChild:!0,...o,children:a.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ye(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ye(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ye(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ye(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ye(t.onBlur,s.onClose),onClick:ye(t.onClick,s.onClose)})})});AS.displayName=gu;var RS="TooltipPortal",[TC,IS]=rc(RS,{forceMount:void 0}),Na="TooltipContent",Uy=p.forwardRef((t,e)=>{const r=IS(Na,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=nc(Na,t.__scopeTooltip);return a.jsx(ql,{present:n||o.open,children:o.disableHoverableContent?a.jsx(Dy,{side:s,...i,ref:e}):a.jsx(LS,{side:s,...i,ref:e})})}),LS=p.forwardRef((t,e)=>{const r=nc(Na,t.__scopeTooltip),n=My(Na,t.__scopeTooltip),s=p.useRef(null),i=Ht(e,s),[o,l]=p.useState(null),{trigger:c,onClose:d}=r,u=s.current,{onPointerInTransitChange:h}=n,f=p.useCallback(()=>{l(null),h(!1)},[h]),m=p.useCallback((g,v)=>{const w=g.currentTarget,y={x:g.clientX,y:g.clientY},x=US(y,w.getBoundingClientRect()),b=DS(y,x),j=zS(v.getBoundingClientRect()),_=BS([...b,...j]);l(_),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&u){const g=w=>m(w,u),v=w=>m(w,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[c,u,m,f]),p.useEffect(()=>{if(o){const g=v=>{const w=v.target,y={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),b=!FS(y,o);x?f():b&&(f(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,f]),a.jsx(Dy,{...t,ref:i})}),[MS,OS]=rc($y,{isInside:!1}),Dy=p.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=nc(Na,r),d=of(r),{onClose:u}=c;return p.useEffect(()=>(document.addEventListener(sm,u),()=>document.removeEventListener(sm,u)),[u]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),a.jsx(Bh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:a.jsxs(ES,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(jx,{children:n}),a.jsx(MS,{scope:r,isInside:!0,children:a.jsx(gj,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Uy.displayName=Na;var zy="TooltipArrow",$S=p.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=of(r);return OS(zy,r).isInside?null:a.jsx(CS,{...s,...n,ref:e})});$S.displayName=zy;function US(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function DS(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function zS(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function FS(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,u=e[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(s=!s)}return s}function BS(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),VS(e)}function VS(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var HS=Oy,Fy=Uy;const GS=HS,WS=p.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Fy,{ref:n,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));WS.displayName=Fy.displayName;var sc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ac=typeof window>"u"||"Deno"in globalThis;function qt(){}function KS(t,e){return typeof t=="function"?t(e):t}function qS(t){return typeof t=="number"&&t>=0&&t!==1/0}function QS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function am(t,e){return typeof t=="function"?t(e):t}function YS(t,e){return typeof t=="function"?t(e):t}function im(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==lf(o,e.options))return!1}else if(!Mi(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function om(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Li(e.options.mutationKey)!==Li(i))return!1}else if(!Mi(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function lf(t,e){return((e==null?void 0:e.queryKeyHashFn)||Li)(t)}function Li(t){return JSON.stringify(t,(e,r)=>xu(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Mi(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Mi(t[r],e[r])):!1}function By(t,e){if(t===e)return t;const r=lm(t)&&lm(e);if(r||xu(t)&&xu(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=By(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function lm(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xu(t){if(!cm(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!cm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cm(t){return Object.prototype.toString.call(t)==="[object Object]"}function JS(t){return new Promise(e=>{setTimeout(e,t)})}function XS(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?By(t,e):e}function ZS(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function e2(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cf=Symbol();function Vy(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var as,tn,sa,Jm,t2=(Jm=class extends sc{constructor(){super();me(this,as);me(this,tn);me(this,sa);oe(this,sa,e=>{if(!ac&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){L(this,tn)||this.setEventListener(L(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,tn))==null||e.call(this),oe(this,tn,void 0))}setEventListener(e){var r;oe(this,sa,e),(r=L(this,tn))==null||r.call(this),oe(this,tn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){L(this,as)!==e&&(oe(this,as,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof L(this,as)=="boolean"?L(this,as):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},as=new WeakMap,tn=new WeakMap,sa=new WeakMap,Jm),Hy=new t2,aa,rn,ia,Xm,r2=(Xm=class extends sc{constructor(){super();me(this,aa,!0);me(this,rn);me(this,ia);oe(this,ia,e=>{if(!ac&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){L(this,rn)||this.setEventListener(L(this,ia))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,rn))==null||e.call(this),oe(this,rn,void 0))}setEventListener(e){var r;oe(this,ia,e),(r=L(this,rn))==null||r.call(this),oe(this,rn,e(this.setOnline.bind(this)))}setOnline(e){L(this,aa)!==e&&(oe(this,aa,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return L(this,aa)}},aa=new WeakMap,rn=new WeakMap,ia=new WeakMap,Xm),Sl=new r2;function n2(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function s2(t){return Math.min(1e3*2**t,3e4)}function Gy(t){return(t??"online")==="online"?Sl.isOnline():!0}var Wy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ed(t){return t instanceof Wy}function Ky(t){let e=!1,r=0,n=!1,s;const i=n2(),o=v=>{var w;n||(f(new Wy(v)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Hy.isFocused()&&(t.networkMode==="always"||Sl.isOnline())&&t.canRun(),u=()=>Gy(t.networkMode)&&t.canRun(),h=v=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var w;s=y=>{(n||d())&&v(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;s=void 0,n||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(n)return;let v;const w=r===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var N;if(n)return;const x=t.retry??(ac?0:3),b=t.retryDelay??s2,j=typeof b=="function"?b(r,y):b,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!_){f(y);return}r++,(N=t.onFail)==null||N.call(t,r,y),JS(j).then(()=>d()?void 0:m()).then(()=>{e?f(y):g()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():m().then(g),i)}}function a2(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var lt=a2(),is,Zm,qy=(Zm=class{constructor(){me(this,is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qS(this.gcTime)&&oe(this,is,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ac?1/0:5*60*1e3))}clearGcTimeout(){L(this,is)&&(clearTimeout(L(this,is)),oe(this,is,void 0))}},is=new WeakMap,Zm),oa,la,It,rt,Fi,os,Qt,Nr,ep,i2=(ep=class extends qy{constructor(e){super();me(this,Qt);me(this,oa);me(this,la);me(this,It);me(this,rt);me(this,Fi);me(this,os);oe(this,os,!1),oe(this,Fi,e.defaultOptions),this.setOptions(e.options),this.observers=[],oe(this,It,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,oe(this,oa,l2(this.options)),this.state=e.state??L(this,oa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,rt))==null?void 0:e.promise}setOptions(e){this.options={...L(this,Fi),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,It).remove(this)}setData(e,r){const n=XS(this.state.data,e,this.options);return Xe(this,Qt,Nr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Xe(this,Qt,Nr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=L(this,rt))==null?void 0:n.promise;return(s=L(this,rt))==null||s.cancel(e),r?r.then(qt).catch(qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,oa))}isActive(){return this.observers.some(e=>YS(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!QS(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=L(this,rt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=L(this,rt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,It).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(L(this,rt)&&(L(this,os)?L(this,rt).cancel({revert:!0}):L(this,rt).cancelRetry()),this.scheduleGc()),L(this,It).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,Qt,Nr).call(this,{type:"invalidate"})}fetch(e,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(L(this,rt))return L(this,rt).continueRetry(),L(this,rt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(oe(this,os,!0),n.signal)})},i=()=>{const h=Vy(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),oe(this,os,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),oe(this,la,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Xe(this,Qt,Nr).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,m,g,v;ed(h)&&h.silent||Xe(this,Qt,Nr).call(this,{type:"error",error:h}),ed(h)||((m=(f=L(this,It).config).onError)==null||m.call(f,h,this),(v=(g=L(this,It).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return oe(this,rt,Ky({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,m,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(m=(f=L(this,It).config).onSuccess)==null||m.call(f,h,this),(v=(g=L(this,It).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Xe(this,Qt,Nr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Xe(this,Qt,Nr).call(this,{type:"pause"})},onContinue:()=>{Xe(this,Qt,Nr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),L(this,rt).start()}},oa=new WeakMap,la=new WeakMap,It=new WeakMap,rt=new WeakMap,Fi=new WeakMap,os=new WeakMap,Qt=new WeakSet,Nr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...o2(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ed(s)&&s.revert&&L(this,la)?{...L(this,la),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),lt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),L(this,It).notify({query:this,type:"updated",action:e})})},ep);function o2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function l2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var pr,tp,c2=(tp=class extends sc{constructor(e={}){super();me(this,pr);this.config=e,oe(this,pr,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??lf(s,r);let o=this.get(i);return o||(o=new i2({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){L(this,pr).has(e.queryHash)||(L(this,pr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=L(this,pr).get(e.queryHash);r&&(e.destroy(),r===e&&L(this,pr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,pr).get(e)}getAll(){return[...L(this,pr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>im(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>im(e,n)):r}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pr=new WeakMap,tp),gr,it,ls,xr,qr,rp,d2=(rp=class extends qy{constructor(e){super();me(this,xr);me(this,gr);me(this,it);me(this,ls);this.mutationId=e.mutationId,oe(this,it,e.mutationCache),oe(this,gr,[]),this.state=e.state||u2(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,gr).includes(e)||(L(this,gr).push(e),this.clearGcTimeout(),L(this,it).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){oe(this,gr,L(this,gr).filter(r=>r!==e)),this.scheduleGc(),L(this,it).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,gr).length||(this.state.status==="pending"?this.scheduleGc():L(this,it).remove(this))}continue(){var e;return((e=L(this,ls))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,l,c,d,u,h,f,m,g,v,w,y,x,b,j,_,N,S;oe(this,ls,Ky({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{Xe(this,xr,qr).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{Xe(this,xr,qr).call(this,{type:"pause"})},onContinue:()=>{Xe(this,xr,qr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,it).canRun(this)}));const r=this.state.status==="pending",n=!L(this,ls).canStart();try{if(!r){Xe(this,xr,qr).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=L(this,it).config).onMutate)==null?void 0:i.call(s,e,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));E!==this.state.context&&Xe(this,xr,qr).call(this,{type:"pending",context:E,variables:e,isPaused:n})}const k=await L(this,ls).start();return await((d=(c=L(this,it).config).onSuccess)==null?void 0:d.call(c,k,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,k,e,this.state.context)),await((m=(f=L(this,it).config).onSettled)==null?void 0:m.call(f,k,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,k,null,e,this.state.context)),Xe(this,xr,qr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(w=L(this,it).config).onError)==null?void 0:y.call(w,k,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,k,e,this.state.context)),await((_=(j=L(this,it).config).onSettled)==null?void 0:_.call(j,void 0,k,this.state.variables,this.state.context,this)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,void 0,k,e,this.state.context)),k}finally{Xe(this,xr,qr).call(this,{type:"error",error:k})}}finally{L(this,it).runNext(this)}}},gr=new WeakMap,it=new WeakMap,ls=new WeakMap,xr=new WeakSet,qr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lt.batch(()=>{L(this,gr).forEach(n=>{n.onMutationUpdate(e)}),L(this,it).notify({mutation:this,type:"updated",action:e})})},rp);function u2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jt,Bi,np,h2=(np=class extends sc{constructor(e={}){super();me(this,jt);me(this,Bi);this.config=e,oe(this,jt,new Map),oe(this,Bi,Date.now())}build(e,r,n){const s=new d2({mutationCache:this,mutationId:++eo(this,Bi)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=_o(e),n=L(this,jt).get(r)??[];n.push(e),L(this,jt).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=_o(e);if(L(this,jt).has(r)){const s=(n=L(this,jt).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?L(this,jt).delete(r):L(this,jt).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=L(this,jt).get(_o(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=L(this,jt).get(_o(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,jt).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>om(r,n))}findAll(e={}){return this.getAll().filter(r=>om(e,r))}notify(e){lt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return lt.batch(()=>Promise.all(e.map(r=>r.continue().catch(qt))))}},jt=new WeakMap,Bi=new WeakMap,np);function _o(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function dm(t){return{onFetch:(e,r)=>{var u,h,f,m,g;const n=e.options,s=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},y=Vy(e.options,e.fetchOptions),x=async(b,j,_)=>{if(v)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:e.queryKey,pageParam:j,direction:_?"backward":"forward",meta:e.options.meta};w(N);const S=await y(N),{maxPages:k}=e.options,E=_?e2:ZS;return{pages:E(b.pages,S,k),pageParams:E(b.pageParams,j,k)}};if(s&&i.length){const b=s==="backward",j=b?f2:um,_={pages:i,pageParams:o},N=j(n,_);l=await x(_,N,b)}else{const b=t??i.length;do{const j=c===0?o[0]??n.initialPageParam:um(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function um(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function f2(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ie,nn,sn,ca,da,an,ua,ha,sp,m2=(sp=class{constructor(t={}){me(this,Ie);me(this,nn);me(this,sn);me(this,ca);me(this,da);me(this,an);me(this,ua);me(this,ha);oe(this,Ie,t.queryCache||new c2),oe(this,nn,t.mutationCache||new h2),oe(this,sn,t.defaultOptions||{}),oe(this,ca,new Map),oe(this,da,new Map),oe(this,an,0)}mount(){eo(this,an)._++,L(this,an)===1&&(oe(this,ua,Hy.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,Ie).onFocus())})),oe(this,ha,Sl.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,Ie).onOnline())})))}unmount(){var t,e;eo(this,an)._--,L(this,an)===0&&((t=L(this,ua))==null||t.call(this),oe(this,ua,void 0),(e=L(this,ha))==null||e.call(this),oe(this,ha,void 0))}isFetching(t){return L(this,Ie).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,nn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=L(this,Ie).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=L(this,Ie).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(am(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return L(this,Ie).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=L(this,Ie).get(n.queryHash),i=s==null?void 0:s.state.data,o=KS(e,i);if(o!==void 0)return L(this,Ie).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return lt.batch(()=>L(this,Ie).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=L(this,Ie).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=L(this,Ie);lt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=L(this,Ie),n={type:"active",...t};return lt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=lt.batch(()=>L(this,Ie).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(qt).catch(qt)}invalidateQueries(t={},e={}){return lt.batch(()=>{if(L(this,Ie).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=lt.batch(()=>L(this,Ie).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(qt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(qt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=L(this,Ie).build(this,e);return r.isStaleByTime(am(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qt).catch(qt)}fetchInfiniteQuery(t){return t.behavior=dm(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qt).catch(qt)}ensureInfiniteQueryData(t){return t.behavior=dm(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Sl.isOnline()?L(this,nn).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,Ie)}getMutationCache(){return L(this,nn)}getDefaultOptions(){return L(this,sn)}setDefaultOptions(t){oe(this,sn,t)}setQueryDefaults(t,e){L(this,ca).set(Li(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,ca).values()];let r={};return e.forEach(n=>{Mi(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){L(this,da).set(Li(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,da).values()];let r={};return e.forEach(n=>{Mi(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,sn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lf(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===cf&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,sn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,Ie).clear(),L(this,nn).clear()}},Ie=new WeakMap,nn=new WeakMap,sn=new WeakMap,ca=new WeakMap,da=new WeakMap,an=new WeakMap,ua=new WeakMap,ha=new WeakMap,sp),p2=p.createContext(void 0),g2=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(p2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oi(){return Oi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oi.apply(this,arguments)}var cn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cn||(cn={}));const hm="popstate";function x2(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return yu("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Yy(s)}return v2(e,r,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y2(){return Math.random().toString(36).substr(2,8)}function fm(t,e){return{usr:t.state,key:t.key,idx:e}}function yu(t,e,r,n){return r===void 0&&(r=null),Oi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ra(e):e,{state:r,key:e&&e.key||n||y2()})}function Yy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ra(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function v2(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=cn.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Oi({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=cn.Pop;let w=u(),y=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:y})}function f(w,y){l=cn.Push;let x=yu(v.location,w,y);d=u()+1;let b=fm(x,d),j=v.createHref(x);try{o.pushState(b,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function m(w,y){l=cn.Replace;let x=yu(v.location,w,y);d=u();let b=fm(x,d),j=v.createHref(x);o.replaceState(b,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Yy(w);return x=x.replace(/ $/,"%20"),Be(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hm,h),c=w,()=>{s.removeEventListener(hm,h),c=null}},createHref(w){return e(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(w){return o.go(w)}};return v}var mm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mm||(mm={}));function b2(t,e,r){return r===void 0&&(r="/"),w2(t,e,r,!1)}function w2(t,e,r,n){let s=typeof e=="string"?Ra(e):e,i=Zy(s.pathname||"/",r);if(i==null)return null;let o=Jy(t);j2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=I2(i);l=A2(o[c],d,n)}return l}function Jy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=us([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Jy(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:T2(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Xy(i.path))s(i,o,c)}),e}function Xy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Xy(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function j2(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:P2(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _2=/^:[\w-]+$/,N2=3,S2=2,k2=1,E2=10,C2=-2,pm=t=>t==="*";function T2(t,e){let r=t.split("/"),n=r.length;return r.some(pm)&&(n+=C2),e&&(n+=S2),r.filter(s=>!pm(s)).reduce((s,i)=>s+(_2.test(i)?N2:i===""?k2:E2),n)}function P2(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function A2(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:us([i,h.pathname]),pathnameBase:D2(us([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=us([i,h.pathnameBase]))}return o}function gm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=R2(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function R2(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Qy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function I2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function L2(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ra(t):t;return{pathname:r?r.startsWith("/")?r:M2(r,e):e,search:z2(n),hash:F2(s)}}function M2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function td(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function $2(t,e){let r=O2(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function U2(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ra(t):(s=Oi({},t),Be(!s.pathname||!s.pathname.includes("?"),td("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),td("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),td("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=L2(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const us=t=>t.join("/").replace(/\/\/+/g,"/"),D2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ev=["post","put","patch","delete"];new Set(ev);const V2=["get",...ev];new Set(V2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$i.apply(this,arguments)}const df=p.createContext(null),H2=p.createContext(null),ic=p.createContext(null),oc=p.createContext(null),Ia=p.createContext({outlet:null,matches:[],isDataRoute:!1}),tv=p.createContext(null);function lc(){return p.useContext(oc)!=null}function uf(){return lc()||Be(!1),p.useContext(oc).location}function rv(t){p.useContext(ic).static||p.useLayoutEffect(t)}function nv(){let{isDataRoute:t}=p.useContext(Ia);return t?nk():G2()}function G2(){lc()||Be(!1);let t=p.useContext(df),{basename:e,future:r,navigator:n}=p.useContext(ic),{matches:s}=p.useContext(Ia),{pathname:i}=uf(),o=JSON.stringify($2(s,r.v7_relativeSplatPath)),l=p.useRef(!1);return rv(()=>{l.current=!0}),p.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=U2(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:us([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,o,i,t])}function W2(t,e){return K2(t,e)}function K2(t,e,r,n){lc()||Be(!1);let{navigator:s}=p.useContext(ic),{matches:i}=p.useContext(Ia),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=uf(),u;if(e){var h;let w=typeof e=="string"?Ra(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Be(!1),u=w}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=b2(t,{pathname:m}),v=X2(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:us([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:us([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&v?p.createElement(oc.Provider,{value:{location:$i({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:cn.Pop}},v):v}function q2(){let t=rk(),e=B2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),r?p.createElement("pre",{style:s},r):null,null)}const Q2=p.createElement(q2,null);class Y2 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?p.createElement(Ia.Provider,{value:this.props.routeContext},p.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J2(t){let{routeContext:e,match:r,children:n}=t,s=p.useContext(df);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Ia.Provider,{value:e},n)}function X2(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Be(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let m,g=!1,v=null,w=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Q2,c&&(d<0&&f===0?(g=!0,w=null):d===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),x=()=>{let b;return m?b=v:g?b=w:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,p.createElement(J2,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(Y2,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var sv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sv||{}),kl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kl||{});function Z2(t){let e=p.useContext(df);return e||Be(!1),e}function ek(t){let e=p.useContext(H2);return e||Be(!1),e}function tk(t){let e=p.useContext(Ia);return e||Be(!1),e}function av(t){let e=tk(),r=e.matches[e.matches.length-1];return r.route.id||Be(!1),r.route.id}function rk(){var t;let e=p.useContext(tv),r=ek(kl.UseRouteError),n=av(kl.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function nk(){let{router:t}=Z2(sv.UseNavigateStable),e=av(kl.UseNavigateStable),r=p.useRef(!1);return rv(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$i({fromRouteId:e},i)))},[t,e])}function Is(t){Be(!1)}function sk(t){let{basename:e="/",children:r=null,location:n,navigationType:s=cn.Pop,navigator:i,static:o=!1,future:l}=t;lc()&&Be(!1);let c=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:i,static:o,future:$i({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ra(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,v=p.useMemo(()=>{let w=Zy(u,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:g},navigationType:s}},[c,u,h,f,m,g,s]);return v==null?null:p.createElement(ic.Provider,{value:d},p.createElement(oc.Provider,{children:r,value:v}))}function ak(t){let{children:e,location:r}=t;return W2(vu(e),r)}new Promise(()=>{});function vu(t,e){e===void 0&&(e=[]);let r=[];return p.Children.forEach(t,(n,s)=>{if(!p.isValidElement(n))return;let i=[...e,s];if(n.type===p.Fragment){r.push.apply(r,vu(n.props.children,i));return}n.type!==Is&&Be(!1),!n.props.index||!n.props.children||Be(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vu(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ik="6";try{window.__reactRouterVersion=ik}catch{}const ok="startTransition",xm=gp[ok];function lk(t){let{basename:e,children:r,future:n,window:s}=t,i=p.useRef();i.current==null&&(i.current=x2({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=p.useCallback(h=>{d&&xm?xm(()=>c(h)):c(h)},[c,d]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.createElement(sk,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var ym;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ym||(ym={}));var vm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vm||(vm={}));const Qe=p.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Qe.displayName="Input";const ck=Qi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=p.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?Ci:"button";return a.jsx(o,{className:ge(ck({variant:e,size:r,className:t})),ref:i,...s})});K.displayName="Button";const dk=Qi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ve({className:t,variant:e,...r}){return a.jsx("div",{className:ge(dk({variant:e}),t),...r})}const uk=({timestamp:t,rotationCounter:e,encryptionMode:r,patternName:n,encryptedPreview:s,varietySeed:i,securityLevel:o=85})=>{const l=u=>{const h=new Date(u);return h.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})+"."+h.getMilliseconds().toString().padStart(3,"0")},c=u=>{switch(u){case"aes":return"bg-emerald-500/10 text-emerald-700 border-emerald-200";case"xor":return"bg-blue-500/10 text-blue-700 border-blue-200";case"hybrid":return"bg-purple-500/10 text-purple-700 border-purple-200";default:return"bg-gray-500/10 text-gray-700 border-gray-200"}},d=u=>!u||u.length<16?u:`${u.slice(0,8)}...${u.slice(-8)}`;return a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Fe,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Generation Metadata"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nr,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Generated"}),a.jsx("div",{className:"font-mono text-slate-700",children:l(t)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ty,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Rotation"}),a.jsxs("div",{className:"font-mono text-slate-700",children:["#",e]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Encryption"}),a.jsx(ve,{variant:"outline",className:`text-xs px-2 py-0.5 ${c(r)}`,children:r.toUpperCase()})]})]}),n&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ot,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Pattern"}),a.jsx("div",{className:"font-medium text-slate-700 truncate",children:n})]})]}),s&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vj,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Encrypted"}),a.jsx("div",{className:"font-mono text-xs text-slate-600 bg-slate-100 px-2 py-1 rounded",children:d(s)})]})]}),i&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fe,{className:"h-3 w-3 text-slate-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-500",children:"Variety"}),a.jsx("div",{className:"font-mono text-slate-700",children:i%1e4})]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-slate-500",children:"Security Level"}),a.jsxs("span",{className:"text-slate-700 font-semibold",children:[o,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${o}%`}})})]})]})},hk="modulepreload",fk=function(t){return"/"+t},bm={},$t=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=fk(c),c in bm)return;bm[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":hk,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Ui="23456789abcdefghijkmnpqrstuvwxyz",bu=Ui.length,iv="9";function wu(t){if(!t)return"";const e=new TextEncoder().encode(t);let r=0n;for(let i=0;i<e.length;i++)r=r*256n+BigInt(e[i]);if(r===0n)return Ui[0];let n="";for(;r>0n;)n=Ui[Number(r%BigInt(bu))]+n,r=r/BigInt(bu);const s=Math.ceil(n.length/4)*4;for(;n.length<s;)n+=iv;return n}function El(t){if(!t)return"";const e=t.replace(new RegExp(`${iv}+$`),"");let r=0n;for(let s=0;s<e.length;s++){const i=Ui.indexOf(e[s]);if(i===-1)throw new Error(`Invalid Base34 character: ${e[s]}`);r=r*BigInt(bu)+BigInt(i)}if(r===0n)return"";const n=[];for(;r>0n;)n.unshift(Number(r%256n)),r=r/256n;return new TextDecoder().decode(new Uint8Array(n))}function ju(t){if(!t||t.length<4)return!1;for(const e of t)if(!Ui.includes(e))return!1;return!0}const mk=async t=>{const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")},ov=async t=>{if(!t||t.length<8)throw new Error("License key required for deterministic key generation");const e=`${t}:phantom-deterministic:v2`,r=await mk(e);let n="";for(let s=0;s<32;s++){const i=r.substr(s*2,2),o=parseInt(i,16),l=String.fromCharCode(33+o%94);n+=l}return n},pk=t=>wu(t),gk=t=>El(t),Vn=async(t,e)=>{if(!t||typeof t!="string")throw new Error("Invalid input for XOR encryption");if(!e||e.length<8)throw new Error("Valid license key required for secure encryption");try{const r=await ov(e);let n="";for(let i=0;i<t.length;i++){const o=t.charCodeAt(i)^r.charCodeAt(i%r.length);n+=String.fromCharCode(o)}return pk(n)}catch(r){throw new Error(`XOR encryption failed: ${r instanceof Error?r.message:"Unknown error"}`)}},Cl=async(t,e)=>{if(!t||typeof t!="string")throw new Error("Invalid encrypted text for XOR decryption");if(!e||e.length<8)throw new Error("Valid license key required for decryption");try{const r=await ov(e);if(ju(t)){const n=gk(t);let s="";for(let i=0;i<n.length;i++){const o=n.charCodeAt(i)^r.charCodeAt(i%r.length);s+=String.fromCharCode(o)}if(xk(s))return s}throw new Error("Invalid encrypted data format or corrupted data")}catch(r){throw new Error(`XOR decryption failed: ${r instanceof Error?r.message:"Unknown error"}`)}},xk=t=>!t||t.length<4?!1:t.includes("http")||t.includes("://")||t.includes("www.")||t.includes(".")&&t.length>8&&/\.(com|org|net|edu|gov|io|co|app|ca|uk|de|fr|ly|me|ai|xyz)/.test(t),Wn=class Wn{constructor(){Z(this,"keyCache",new Map);Z(this,"masterKeyCache",null)}static getInstance(){return Wn.instance||(Wn.instance=new Wn),Wn.instance}generateSalt(){return crypto.getRandomValues(new Uint8Array(16))}generateNonce(){return crypto.getRandomValues(new Uint8Array(12))}getDayKey(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}async deriveMasterKey(e,r){const n=new TextEncoder,s=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async deriveTimeBasedKey(e,r){const n=new TextEncoder,s=this.getDayKey(),i=n.encode(`${r}-${s}`),o=await crypto.subtle.exportKey("raw",e),l=await crypto.subtle.importKey("raw",o,{name:"HKDF"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(32),info:i},l,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async getEncryptionKey(e,r="default"){const n=`${e}-${r}-${this.getDayKey()}`;if(this.keyCache.has(n))return this.keyCache.get(n);const s=this.generateSalt(),i=await this.deriveMasterKey(e,s),o=await this.deriveTimeBasedKey(i,r);return this.keyCache.set(n,o),setTimeout(()=>{this.keyCache.delete(n)},48*60*60*1e3),o}clearOldKeys(){this.keyCache.clear(),this.masterKeyCache=null}};Z(Wn,"instance");let _u=Wn;class yk{constructor(){Z(this,"keyManager",_u.getInstance())}toBase34(e){const r=new Uint8Array(e),n=String.fromCharCode(...r);return wu(n)}fromBase34(e){try{const r=El(e),n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n.buffer}catch(r){throw new Error(`Failed to decode Base34: ${r.message}`)}}toBase64Url(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}fromBase64Url(e){const r=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-r.length%4)%4),s=atob(r+n),i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o);return i.buffer}async encrypt(e,r,n="url"){try{const i=new TextEncoder().encode(e),o=await this.keyManager.getEncryptionKey(r,n),l=crypto.getRandomValues(new Uint8Array(12)),c=crypto.getRandomValues(new Uint8Array(16)),d=await crypto.subtle.encrypt({name:"AES-GCM",iv:l,additionalData:c},o,i),u={ciphertext:this.toBase34(d.slice(0,-16)),nonce:this.toBase34(l),salt:this.toBase34(c),timestamp:Date.now(),authTag:this.toBase34(d.slice(-16))},h=JSON.stringify(u);return wu(h)}catch(s){throw new Error(`AES encryption failed: ${s instanceof Error?s.message:"Unknown error"}`)}}async decrypt(e,r,n="url"){try{try{const s=El(e),i=JSON.parse(s),{ciphertext:o,nonce:l,salt:c,timestamp:d,authTag:u}=i,h=this.fromBase34(o),f=new Uint8Array(this.fromBase34(l)),m=new Uint8Array(this.fromBase34(c)),g=new Uint8Array(this.fromBase34(u)),v=7*24*60*60*1e3;if(Date.now()-d>v)return{plaintext:"",success:!1,error:"Encrypted data has expired"};const w=new Uint8Array(h.byteLength+g.length);w.set(new Uint8Array(h)),w.set(g,h.byteLength);let y=await this.keyManager.getEncryptionKey(r,n);try{const x=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},y,w);return{plaintext:new TextDecoder().decode(x),success:!0}}catch(x){const b=`${n}-prev`;try{const j=await this.keyManager.getEncryptionKey(r,b),_=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},j,w);return{plaintext:new TextDecoder().decode(_),success:!0}}catch{return{plaintext:"",success:!1,error:`Base34 decryption failed: ${x instanceof Error?x.message:"Authentication failed"}`}}}}catch(s){console.warn("Base34 decryption failed, trying legacy formats:",s);let i=e.split(".");if(i.length!==5)try{const b=this.fromBase64Url(e);i=new TextDecoder().decode(b).split(".")}catch{return{plaintext:"",success:!1,error:"Invalid encrypted data format - cannot decode"}}if(i.length!==5)return{plaintext:"",success:!1,error:"Invalid encrypted data format"};const[o,l,c,d,u]=i,h=this.fromBase64Url(o),f=new Uint8Array(this.fromBase64Url(l)),m=new Uint8Array(this.fromBase64Url(c)),g=parseInt(d),v=new Uint8Array(this.fromBase64Url(u)),w=7*24*60*60*1e3;if(Date.now()-g>w)return{plaintext:"",success:!1,error:"Encrypted data has expired"};const y=new Uint8Array(h.byteLength+v.length);y.set(new Uint8Array(h)),y.set(v,h.byteLength);let x=await this.keyManager.getEncryptionKey(r,n);try{const b=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},x,y);return{plaintext:new TextDecoder().decode(b),success:!0}}catch(b){const j=`${n}-prev`;try{const _=await this.keyManager.getEncryptionKey(r,j),N=await crypto.subtle.decrypt({name:"AES-GCM",iv:f,additionalData:m},_,y);return{plaintext:new TextDecoder().decode(N),success:!0}}catch{return{plaintext:"",success:!1,error:`Legacy decryption failed: ${b instanceof Error?b.message:"Authentication failed"}`}}}}}catch(s){return{plaintext:"",success:!1,error:`AES decryption failed: ${s instanceof Error?s.message:"Unknown error"}`}}}generateSecureKey(e=32){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=crypto.getRandomValues(new Uint8Array(e));return Array.from(n,s=>r[s%r.length]).join("")}cleanup(){this.keyManager.clearOldKeys()}}const wm=new yk;class vk{constructor(e){Z(this,"config");Z(this,"state");Z(this,"secureKeys",new Map);Z(this,"sessionTimer",null);Z(this,"keyRotationTimer",null);this.config={sessionTimeout:24*60*60*1e3,keyRotationInterval:60*60*1e3,enableAutoKeyClearing:!0,enableSecureStorage:!0,...e},this.state={isSecureSession:!1,lastActivityTime:Date.now(),encryptionKeysInMemory:!1,sessionValidUntil:0},this.initializeSecurityMonitoring()}startSecureSession(e,r){const n=new Date(r).getTime();this.state={isSecureSession:!0,lastActivityTime:Date.now(),encryptionKeysInMemory:!1,sessionValidUntil:n},this.config.enableSecureStorage&&this.setSecureItem("session_token",e),this.startSessionMonitoring(),console.log("[SecurityManager] Secure session started, expires:",new Date(n))}endSecureSession(){console.log("[SecurityManager] Ending secure session and clearing sensitive data"),this.clearAllEncryptionKeys(),this.clearSecureStorage(),this.sessionTimer&&(clearTimeout(this.sessionTimer),this.sessionTimer=null),this.keyRotationTimer&&(clearTimeout(this.keyRotationTimer),this.keyRotationTimer=null),this.state={isSecureSession:!1,lastActivityTime:0,encryptionKeysInMemory:!1,sessionValidUntil:0},typeof window<"u"&&window.gc&&window.gc()}storeEncryptionKey(e,r){this.secureKeys.set(e,r),this.state.encryptionKeysInMemory=!0,this.config.enableAutoKeyClearing&&setTimeout(()=>{this.clearEncryptionKey(e)},this.config.keyRotationInterval)}getEncryptionKey(e){return this.updateActivity(),this.secureKeys.get(e)||null}clearEncryptionKey(e){var r;if(this.secureKeys.has(e)){const n=this.generateRandomKey(((r=this.secureKeys.get(e))==null?void 0:r.length)||32);this.secureKeys.set(e,n),this.secureKeys.delete(e)}this.secureKeys.size===0&&(this.state.encryptionKeysInMemory=!1)}clearAllEncryptionKeys(){console.log("[SecurityManager] Clearing all encryption keys from memory");for(const[e,r]of this.secureKeys.entries()){const n=this.generateRandomKey(r.length);this.secureKeys.set(e,n)}this.secureKeys.clear(),this.state.encryptionKeysInMemory=!1}isSessionValid(){const e=Date.now();return this.state.isSecureSession&&e<this.state.sessionValidUntil&&e-this.state.lastActivityTime<this.config.sessionTimeout}updateActivity(){this.state.lastActivityTime=Date.now()}getSecurityState(){return{...this.state}}setSecureItem(e,r){if(this.config.enableSecureStorage)try{sessionStorage.setItem(`secure_${e}`,this.encodeSecureValue(r))}catch(n){console.warn("[SecurityManager] Failed to store secure item:",n)}}getSecureItem(e){if(!this.config.enableSecureStorage)return null;try{const r=sessionStorage.getItem(`secure_${e}`);return r?this.decodeSecureValue(r):null}catch(r){return console.warn("[SecurityManager] Failed to retrieve secure item:",r),null}}clearSecureStorage(){console.log("[SecurityManager] Clearing secure storage");try{for(let e=sessionStorage.length-1;e>=0;e--){const r=sessionStorage.key(e);r!=null&&r.startsWith("secure_")&&sessionStorage.removeItem(r)}}catch(e){console.warn("[SecurityManager] Failed to clear secure storage:",e)}}initializeSecurityMonitoring(){window.addEventListener("beforeunload",()=>{this.endSecureSession()}),document.addEventListener("visibilitychange",()=>{document.hidden&&this.config.enableAutoKeyClearing&&setTimeout(()=>{document.hidden&&this.clearAllEncryptionKeys()},5*60*1e3)})}startSessionMonitoring(){this.sessionTimer=setInterval(()=>{this.isSessionValid()||(console.log("[SecurityManager] Session expired, ending secure session"),this.endSecureSession())},60*1e3),this.config.enableAutoKeyClearing&&(this.keyRotationTimer=setInterval(()=>{console.log("[SecurityManager] Rotating encryption keys"),this.clearAllEncryptionKeys()},this.config.keyRotationInterval))}generateRandomKey(e){let r="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";for(let s=0;s<e;s++)r+=n.charAt(Math.floor(Math.random()*n.length));return r}encodeSecureValue(e){return btoa(encodeURIComponent(e))}decodeSecureValue(e){try{return decodeURIComponent(atob(e))}catch{return console.warn("[SecurityManager] Failed to decode secure value"),""}}}const No=new vk,Wa=(t,e,r="info",n)=>{console.log(`[Security] ${r.toUpperCase()}: ${t} - ${e}`,n)};class bk{constructor(){Z(this,"encryptionStats",{aesSuccessRate:.97,xorSuccessRate:.95,totalOperations:0,aesOperations:0,xorOperations:0})}async encryptUrl(e,r,n,s="auto"){try{if(!No.isSessionValid())throw Wa("encryption_attempt","Encryption attempted with invalid session","warning"),new Error("Invalid session for encryption operation");this.encryptionStats.totalOperations++,No.updateActivity();const i=`temp_encrypt_${Date.now()}`;No.storeEncryptionKey(i,r);try{if((s==="auto"?"xor":s)==="aes"&&r&&r.length>=12)try{const c=await wm.encrypt(e,r);if(this.encryptionStats.aesOperations++,c&&c.length>10)return Wa("encryption_success","AES encryption completed","info"),{encrypted:c,mode:"aes",context:"aes-primary"}}catch(c){Wa("encryption_fallback","AES failed, using XOR","info",{error:c.message})}const l=await Vn(e,r);if(this.encryptionStats.xorOperations++,!l||l.length<5)throw new Error("XOR encryption failed - no result");return Wa("encryption_success","XOR encryption completed","info"),{encrypted:l,mode:"xor",context:"xor-secure"}}finally{No.clearEncryptionKey(i)}}catch(i){throw Wa("encryption_failure","All encryption methods failed","error",{error:i.message}),new Error(`Encryption failure: ${i.message}`)}}selectOptimalEncryptionMode(e,r){if(r&&r.length>=16){const n=e.includes("bank")||e.includes("gov")||e.includes("secure"),s=e.length>100;if(n||s||this.encryptionStats.aesSuccessRate>.9)return"aes"}return"xor"}getEncryptionStats(){return{...this.encryptionStats,aesPercentage:this.encryptionStats.totalOperations>0?(this.encryptionStats.aesOperations/this.encryptionStats.totalOperations*100).toFixed(1):"0.0",xorPercentage:this.encryptionStats.totalOperations>0?(this.encryptionStats.xorOperations/this.encryptionStats.totalOperations*100).toFixed(1):"0.0"}}async decryptUrl(e,r,n){if(n==="aes")try{const s=await wm.decrypt(e,r);if(s.success)return s.plaintext;throw new Error("AES decryption failed")}catch{return Cl(e)}return Cl(e)}detectEncryptionMode(e){const{isBase34Encoded:r}=require("./base34Encoder");return r(e)?e.length>80&&e.includes("9")?"aes":"xor":e.length>100&&e.includes(".")?"aes":"xor"}}const Lr=new bk,wk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$t(async()=>{const{default:n}=await Promise.resolve().then(()=>La);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class hf extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class jk extends hf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jm extends hf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _m extends hf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nu||(Nu={}));var _k=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class Nk{constructor(e,{headers:r={},customFetch:n,region:s=Nu.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=wk(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return _k(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(v=>{throw new jk(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new jm(h);if(!h.ok)throw new _m(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield h.json():m==="application/octet-stream"?g=yield h.blob():m==="text/event-stream"?g=h:m==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof _m||s instanceof jm?s.context:void 0}}})}}var pt={},ff={},cc={},Ji={},dc={},uc={},Sk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sa=Sk();const kk=Sa.fetch,lv=Sa.fetch.bind(Sa),cv=Sa.Headers,Ek=Sa.Request,Ck=Sa.Response,La=Object.freeze(Object.defineProperty({__proto__:null,Headers:cv,Request:Ek,Response:Ck,default:lv,fetch:kk},Symbol.toStringTag,{value:"Module"})),Tk=gb(La);var hc={};Object.defineProperty(hc,"__esModule",{value:!0});let Pk=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};hc.default=Pk;var dv=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uc,"__esModule",{value:!0});const Ak=dv(Tk),Rk=dv(hc);let Ik=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ak.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,m="OK")}catch{i.status===404&&v===""?(f=204,m="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,m="OK"),d&&this.shouldThrowOnError)throw new Rk.default(d)}return{error:d,data:u,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};uc.default=Ik;var Lk=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dc,"__esModule",{value:!0});const Mk=Lk(uc);let Ok=class extends Mk.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};dc.default=Ok;var $k=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const Uk=$k(dc);let Dk=class extends Uk.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ji.default=Dk;var zk=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cc,"__esModule",{value:!0});const Ka=zk(Ji);let Fk=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ka.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ka.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ka.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ka.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ka.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};cc.default=Fk;var fc={},mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.version=void 0;mc.version="0.0.0-automated";Object.defineProperty(fc,"__esModule",{value:!0});fc.DEFAULT_HEADERS=void 0;const Bk=mc;fc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Bk.version}`};var uv=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ff,"__esModule",{value:!0});const Vk=uv(cc),Hk=uv(Ji),Gk=fc;let Wk=class hv{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Gk.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Vk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new Hk.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ff.default=Wk;var Ma=Ft&&Ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pt,"__esModule",{value:!0});pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const fv=Ma(ff);pt.PostgrestClient=fv.default;const mv=Ma(cc);pt.PostgrestQueryBuilder=mv.default;const pv=Ma(Ji);pt.PostgrestFilterBuilder=pv.default;const gv=Ma(dc);pt.PostgrestTransformBuilder=gv.default;const xv=Ma(uc);pt.PostgrestBuilder=xv.default;const yv=Ma(hc);pt.PostgrestError=yv.default;var Kk=pt.default={PostgrestClient:fv.default,PostgrestQueryBuilder:mv.default,PostgrestFilterBuilder:pv.default,PostgrestTransformBuilder:gv.default,PostgrestBuilder:xv.default,PostgrestError:yv.default};const{PostgrestClient:qk,PostgrestQueryBuilder:MC,PostgrestFilterBuilder:OC,PostgrestTransformBuilder:$C,PostgrestBuilder:UC,PostgrestError:DC}=Kk;function Qk(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Yk=Qk(),Jk="2.11.15",Xk=`realtime-js/${Jk}`,Zk="1.0.0",vv=1e4,eE=1e3;var ci;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ci||(ci={}));var tt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(tt||(tt={}));var Jt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jt||(Jt={}));var Su;(function(t){t.websocket="websocket"})(Su||(Su={}));var Gn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gn||(Gn={}));class tE{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class bv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(we||(we={}));const Nm=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=rE(o,t,e,s),i),{})},rE=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?wv(i,o):ku(o)},wv=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return iE(e,r)}switch(t){case we.bool:return nE(e);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return sE(e);case we.json:case we.jsonb:return aE(e);case we.timestamp:return oE(e);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return ku(e);default:return ku(e)}},ku=t=>t,nE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},sE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},iE=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>wv(e,l))}return t},oE=t=>typeof t=="string"?t.replace(" ","T"):t,jv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class rd{constructor(e,r,n={},s=vv){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sm||(Sm={}));class di{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=di.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=di.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),g=u.filter(w=>m.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(l[d]=g),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(m=>m.presence_ref),f=u.filter(m=>h.indexOf(m.presence_ref)<0);e[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,s(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var km;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(km||(km={}));var Em;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Em||(Em={}));var Er;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class mf{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rd(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new di(this),this.broadcastEndpointURL=jv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>e==null?void 0:e(Er.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Er.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Er.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<m;v++){const w=f[v],{filter:{event:y,schema:x,table:b,filter:j}}=w,_=u&&u[v];if(_&&_.event===y&&_.schema===x&&_.table===b&&_.filter===j)g.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=tt.errored,e==null||e(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Er.SUBSCRIBED);return}}).receive("error",u=>{this.state=tt.errored,e==null||e(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new rd(this,Jt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new rd(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Jt;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,v,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,v,w,y,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(x=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:w,commit_timestamp:y,type:x,errors:b}=g;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(f,n)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mf.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jt.close,{},e)}_onError(e){this._on(Jt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Nm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Nm(e.columns,e.old_record)),r}}const Cm=()=>{},lE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cE{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cm,this.ref=0,this.logger=Cm,this.conn=null,this.sendBuffer=[],this.serializer=new tE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>$t(async()=>{const{default:c}=await Promise.resolve().then(()=>La);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Su.websocket}`,this.httpEndpoint=jv(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Yk),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zk}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ci.connecting:return Gn.Connecting;case ci.open:return Gn.Open;case ci.closing:return Gn.Closing;default:return Gn.Closed}}isConnected(){return this.connectionState()===Gn.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new mf(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Xk};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Jt.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(eE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([lE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class pf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class dE extends pf{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eu extends pf{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var uE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const _v=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$t(async()=>{const{default:n}=await Promise.resolve().then(()=>La);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},hE=()=>uE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $t(()=>Promise.resolve().then(()=>La),void 0)).Response:Response}),Cu=t=>{if(Array.isArray(t))return t.map(r=>Cu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cu(n)}),e},fE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var bs=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const nd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mE=(t,e,r)=>bs(void 0,void 0,void 0,function*(){const n=yield hE();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new dE(nd(s),i,o))}).catch(s=>{e(new Eu(nd(s),s))}):e(new Eu(nd(t),t))}),pE=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(fE(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function Xi(t,e,r,n,s,i){return bs(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,pE(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>mE(c,l,n))})})}function Tl(t,e,r,n){return bs(this,void 0,void 0,function*(){return Xi(t,"GET",e,r,n)})}function Cr(t,e,r,n,s){return bs(this,void 0,void 0,function*(){return Xi(t,"POST",e,n,s,r)})}function Tu(t,e,r,n,s){return bs(this,void 0,void 0,function*(){return Xi(t,"PUT",e,n,s,r)})}function gE(t,e,r,n){return bs(this,void 0,void 0,function*(){return Xi(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nv(t,e,r,n,s){return bs(this,void 0,void 0,function*(){return Xi(t,"DELETE",e,n,s,r)})}var ft=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const xE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class yE{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=_v(s)}uploadOrUpdate(e,r,n,s){return ft(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Tm),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(e=="PUT"?Tu:Cr)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(He(i))return{data:null,error:i};throw i}})}upload(e,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ft(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Tm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Tu(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(He(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Cr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new pf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}update(e,r,n){return ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ft(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Cr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ft(this,void 0,void 0,function*(){try{const s=yield Cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}download(e,r){return ft(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Tl(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(He(l))return{data:null,error:l};throw l}})}info(e){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Tl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cu(n),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}exists(e){return ft(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield gE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(He(n)&&n instanceof Eu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return ft(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}list(e,r,n){return ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xE),r),{prefix:e||""});return{data:yield Cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(He(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const vE="2.10.4",bE={"X-Client-Info":`storage-js/${vE}`};var Es=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class wE{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},bE),r),this.fetch=_v(n)}listBuckets(){return Es(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(He(e))return{data:null,error:e};throw e}})}getBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Es(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Es(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}})}}class jE extends wE{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new yE(this.url,this.headers,e,this.fetch)}}const _E="2.53.0";let Xa="";typeof Deno<"u"?Xa="deno":typeof document<"u"?Xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xa="react-native":Xa="node";const NE={"X-Client-Info":`supabase-js-${Xa}/${_E}`},SE={headers:NE},kE={schema:"public"},EE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CE={};var TE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};const PE=t=>{let e;return t?e=t:typeof fetch>"u"?e=lv:e=fetch,(...r)=>e(...r)},AE=()=>typeof Headers>"u"?cv:Headers,RE=(t,e,r)=>{const n=PE(r),s=AE();return(i,o)=>TE(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var IE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};function LE(t){return t.endsWith("/")?t:t+"/"}function ME(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>IE(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Sv="2.71.1",Ls=30*1e3,Pu=3,sd=Pu*Ls,OE="http://localhost:9999",$E="supabase.auth.token",UE={"X-Client-Info":`gotrue-js/${Sv}`},Au="X-Supabase-Api-Version",kv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zE=10*60*1e3;class gf extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class FE extends gf{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function BE(t){return se(t)&&t.name==="AuthApiError"}class Ev extends gf{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Rn extends gf{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Qr extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VE(t){return se(t)&&t.name==="AuthSessionMissingError"}class So extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ko extends Rn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Eo extends Rn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function HE(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class Pm extends Rn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ru extends Rn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ad(t){return se(t)&&t.name==="AuthRetryableFetchError"}class Am extends Rn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Iu extends Rn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rm=` 	
\r=`.split(""),GE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rm.length;e+=1)t[Rm[e].charCodeAt(0)]=-2;for(let e=0;e<Pl.length;e+=1)t[Pl[e].charCodeAt(0)]=e;return t})();function Im(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pl[n]),e.queuedBits-=6}}function Cv(t,e,r){const n=GE[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lm(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qE(o,n,r)};for(let o=0;o<t.length;o+=1)Cv(t.charCodeAt(o),s,i);return e.join("")}function WE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function KE(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}WE(n,e)}}function qE(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function QE(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Cv(t.charCodeAt(s),r,n);return new Uint8Array(e)}function YE(t){const e=[];return KE(t,r=>e.push(r)),new Uint8Array(e)}function JE(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Im(s,r,n)),Im(null,r,n),e.join("")}function XE(t){return Math.round(Date.now()/1e3)+t}function ZE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Wt=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},Tv=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function e3(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Pv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$t(async()=>{const{default:n}=await Promise.resolve().then(()=>La);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},t3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ms=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},On=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kr=async(t,e)=>{await t.removeItem(e)};class pc{constructor(){this.promise=new pc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}pc.promiseConstructor=Promise;function id(t){const e=t.split(".");if(e.length!==3)throw new Iu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!DE.test(e[n]))throw new Iu("JWT not in base64url format");return{header:JSON.parse(Lm(e[0])),payload:JSON.parse(Lm(e[1])),signature:QE(e[2]),raw:{header:e[0],payload:e[1]}}}async function r3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function n3(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function s3(t){return("0"+t.toString(16)).substr(-2)}function a3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,s3).join("")}async function i3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function o3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await i3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cs(t,e,r=!1){const n=a3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ms(t,`${e}-code-verifier`,s);const i=await o3(n);return[i,n===i?"plain":"s256"]}const l3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function c3(t){const e=t.headers.get(Au);if(!e||!e.match(l3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function d3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function u3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const h3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ts(t){if(!h3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function od(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mm(t){return JSON.parse(JSON.stringify(t))}var f3=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Hn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),m3=[502,503,504];async function Om(t){var e;if(!t3(t))throw new Ru(Hn(t),0);if(m3.includes(t.status))throw new Ru(Hn(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ev(Hn(i),i)}let n;const s=c3(t);if(s&&s.getTime()>=kv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Am(Hn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Am(Hn(r),t.status,r.weak_password.reasons);throw new FE(Hn(r),t.status||500,n)}const p3=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ce(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Au]||(i[Au]=kv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await g3(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function g3(t,e,r,n,s,i){const o=p3(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Ru(Hn(c),0)}if(l.ok||await Om(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Om(c)}}function Sr(t){var e;let r=null;b3(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=XE(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function $m(t){const e=Sr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function en(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function x3(t){return{data:t,error:null}}function y3(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=f3(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function v3(t){return t}function b3(t){return t.access_token&&t.refresh_token&&t.expires_in}const ld=["global","local","others"];var w3=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class j3{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Pv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ld[0]){if(ld.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ld.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:en})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=w3(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:y3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:en})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:v3});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(se(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Ts(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:en})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ts(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:en})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ts(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:en})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ts(e.userId);try{const{data:r,error:n}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ts(e.userId),Ts(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}function Um(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function _3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ps={debug:!!(globalThis&&Tv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Av extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class N3 extends Av{}async function S3(t,e,r){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new N3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ps.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}_3();const k3={url:OE,storageKey:$E,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dm(t,e,r){return await r()}const As={};class Di{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Di.nextInstanceID,Di.nextInstanceID+=1,this.instanceID>0&&Wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},k3),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new j3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pv(s.fetch),this.lock=s.lock||Dm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Wt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=S3:this.lock=Dm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Tv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Um(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Um(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=As[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=As[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){As[this.storageKey]=Object.assign(Object.assign({},As[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=e3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Wt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),HE(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?{error:r}:{error:new Ev("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Sr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Cs(this.storage,this.storageKey)),i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},xform:Sr})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Sr})}else throw new ko("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$m})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$m})}else throw new ko("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new So}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,c,d,u,h,f,m;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:w,wallet:y,statement:x,options:b}=e;let j;if(Wt())if(typeof y=="object")j=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:w,error:y}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:JE(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Sr});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new So}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(se(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await On(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Sr});if(await Kr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new So}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(se(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Sr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new So}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Cs(this.storage,this.storageKey));const{error:h}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new ko("You must provide either an email or phone number.")}catch(l){if(se(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Sr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Cs(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:x3})}catch(i){if(se(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qr;const{error:s}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ko("You must provide either an email or phone number and a type")}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<sd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await On(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=od()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:en}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:en})})}catch(r){if(se(r))return VE(r)&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Qr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Cs(this.storage,this.storageKey));const{data:d,error:u}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:en});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=id(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Wt())throw new Eo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Eo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Eo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Pm("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Eo("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const m=f-u;m*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(BE(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ZE(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Cs(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(se(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Wt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(se(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await n3(async s=>(s>0&&await r3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ad(i)&&Date.now()+o-n<Ls})}catch(n){if(this._debug(r,"error",n),se(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Wt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await On(this.storage,this.storageKey);if(s&&this.userStorage){let o=await On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ms(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:od()}else if(s&&!s.user&&!s.user){const o=await On(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Kr(this.storage,this.storageKey+"-user"),await Ms(this.storage,this.storageKey,s)):s.user=od()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sd;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${sd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ad(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new pc;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Qr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),se(i)){const o={session:null,error:i};return ad(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ms(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Mm(s);await Ms(this.storage,this.storageKey,i)}else{const s=Mm(r);await Ms(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kr(this.storage,this.storageKey),await Kr(this.storage,this.storageKey+"-code-verifier"),await Kr(this.storage,this.storageKey+"-user"),this.userStorage&&await Kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ls}ms, refresh threshold is ${Pu} ticks`),s<=Pu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Av)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Cs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=id(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+zE>s)return n;const{data:i,error:o}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=id(n);r!=null&&r.allowExpired||d3(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=u3(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,YE(`${l}.${c}`)))throw new Iu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}Di.nextInstanceID=0;const E3=Di;class C3 extends E3{constructor(e){super(e)}}var T3=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((n=n.apply(t,e||[])).next())})};class P3{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=LE(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:kE,realtime:CE,auth:Object.assign(Object.assign({},EE),{storageKey:d}),global:SE},h=ME(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=RE(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new qk(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new jE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Nk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return T3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new cE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A3=(t,e,r)=>new P3(t,e,r);function R3(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}R3()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I3="https://vohjarhfvaphzwjzjcnz.supabase.co",L3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZvaGphcmhmdmFwaHp3anpqY256Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzMzQ2NzksImV4cCI6MjA2NzkxMDY3OX0.fTMJcBvsRKH_hge7Q1zvh8GSRLt-egCG6W9Mz6JavMQ",$=A3(I3,L3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),M3=Object.freeze(Object.defineProperty({__proto__:null,supabase:$},Symbol.toStringTag,{value:"Module"}));class O3{constructor(){Z(this,"keyCache",new Map);Z(this,"CACHE_DURATION",30*60*1e3)}async getLicenseKey(){const e=localStorage.getItem("license_session_token");if(!e)throw new Error("Authentication required - please log in with your license key");const{data:r,error:n}=await $.rpc("validate_session_with_license",{session_token_input:e});if(n||!(r!=null&&r.valid)||!(r!=null&&r.license_key))throw new Error("Session invalid - please log in again");return r.license_key}async getSecureKey(e){const r=`${e}-${Math.floor(Date.now()/this.CACHE_DURATION)}`,n=this.keyCache.get(r);if(n&&n.expires>Date.now())return n.key;try{const s=await this.getLicenseKey(),{data:i,error:o}=await $.functions.invoke("secure-key-derivation",{body:{license_key:s,context:e,operation:"derive"}});if(o||!(i!=null&&i.success)||!(i!=null&&i.derived_key))throw new Error((i==null?void 0:i.error)||"Server-side key derivation failed");return this.keyCache.set(r,{key:i.derived_key,expires:Date.now()+this.CACHE_DURATION}),i.derived_key}catch(s){throw new Error(`Secure key retrieval failed: ${s instanceof Error?s.message:"Unknown error"}`)}}toBase64Url(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}fromBase64Url(e){const r=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-r.length%4)%4),s=atob(r+n),i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o);return i.buffer}async encrypt(e,r="url"){try{const n=await this.getLicenseKey(),{data:s,error:i}=await $.functions.invoke("secure-key-derivation",{body:{license_key:n,context:r,operation:"encrypt",data:e}});if(i||!(s!=null&&s.success)||!(s!=null&&s.encrypted_data))throw new Error((s==null?void 0:s.error)||"Server-side encryption failed");return{ciphertext:s.encrypted_data,success:!0}}catch(n){return{ciphertext:"",success:!1,error:`Secure encryption failed: ${n instanceof Error?n.message:"Unknown error"}`}}}async decrypt(e,r="url"){try{const n=await this.getLicenseKey(),{data:s,error:i}=await $.functions.invoke("secure-key-derivation",{body:{license_key:n,context:r,operation:"decrypt",data:e}});if(i||!(s!=null&&s.success)||!(s!=null&&s.decrypted_data))throw new Error((s==null?void 0:s.error)||"Server-side decryption failed");return{plaintext:s.decrypted_data,success:!0}}catch(n){return{plaintext:"",success:!1,error:`Secure decryption failed: ${n instanceof Error?n.message:"Unknown error"}`}}}async hybridEncrypt(e,r="url"){try{const n=await this.getSecureKey(r),i=new TextEncoder().encode(e),o=this.fromBase64Url(n),l=await crypto.subtle.importKey("raw",o,{name:"AES-GCM"},!1,["encrypt"]),c=crypto.getRandomValues(new Uint8Array(12)),d=crypto.getRandomValues(new Uint8Array(16)),u=await crypto.subtle.encrypt({name:"AES-GCM",iv:c,additionalData:d},l,i),h={ciphertext:this.toBase64Url(u.slice(0,-16)),nonce:this.toBase64Url(c),salt:this.toBase64Url(d),timestamp:Date.now(),authTag:this.toBase64Url(u.slice(-16))};return`${h.ciphertext}.${h.nonce}.${h.salt}.${h.timestamp}.${h.authTag}`}catch(n){throw new Error(`Hybrid encryption failed: ${n instanceof Error?n.message:"Unknown error"}`)}}async hybridDecrypt(e,r="url"){try{const n=e.split(".");if(n.length!==5)throw new Error("Invalid encrypted data format");const[s,i,o,l,c]=n,d=this.fromBase64Url(s),u=new Uint8Array(this.fromBase64Url(i)),h=new Uint8Array(this.fromBase64Url(o)),f=parseInt(l),m=new Uint8Array(this.fromBase64Url(c)),g=7*24*60*60*1e3;if(Date.now()-f>g)throw new Error("Encrypted data has expired");const v=await this.getSecureKey(r),w=this.fromBase64Url(v),y=await crypto.subtle.importKey("raw",w,{name:"AES-GCM"},!1,["decrypt"]),x=new Uint8Array(d.byteLength+m.length);x.set(new Uint8Array(d)),x.set(m,d.byteLength);const b=await crypto.subtle.decrypt({name:"AES-GCM",iv:u,additionalData:h},y,x);return new TextDecoder().decode(b)}catch(n){throw new Error(`Hybrid decryption failed: ${n instanceof Error?n.message:"Unknown error"}`)}}clearCache(){this.keyCache.clear()}cleanupExpiredKeys(){const e=Date.now();for(const[r,n]of this.keyCache.entries())n.expires<=e&&this.keyCache.delete(r)}}const zi=new O3;zi.hybridEncrypt.bind(zi);zi.hybridDecrypt.bind(zi);class $3{async decodeStealthUrl(e,r,n){if(console.log("🔓 Starting decoding for data:",e),ju(e)){console.log("🎯 Detected Base34 format, trying custom decryption");try{const s=await this.tryCustomDecryption(e);if(s)return console.log("✅ Base34 custom decryption successful:",s),{originalUrl:s,decryptionMode:"xor",isValid:!0,metadata:{base34Decryption:!0}}}catch(s){console.log("❌ Base34 custom decryption failed:",s)}}else console.log("📝 Not Base34 format, skipping custom decryption");try{const s=Lr.detectEncryptionMode(e);console.log("🔍 Detected encryption mode:",s);try{const i=await Lr.decryptUrl(e,r,s);return console.log("✅ Standard decryption successful:",i),{originalUrl:i,decryptionMode:s,isValid:!0,metadata:{detectedMode:!0}}}catch{console.log("❌ Standard decryption failed, trying alternative mode");const o=s==="aes"?"xor":"aes";try{const l=await Lr.decryptUrl(e,r,o);return console.log("✅ Alternative decryption successful:",l),{originalUrl:l,decryptionMode:o,isValid:!0,metadata:{fallbackMode:!0}}}catch{console.log("❌ Alternative decryption failed, trying XOR");const l=await Cl(e,r);return console.log("✅ XOR decryption result:",l),{originalUrl:l,decryptionMode:"xor",isValid:!0,metadata:{directXOR:!0}}}}}catch(s){return console.log("❌ All standard decryption methods failed"),{originalUrl:"",decryptionMode:"xor",isValid:!1,metadata:{error:s.message}}}}async tryCustomDecryption(e){try{console.log(`🔍 [StealthDecoder] Trying custom decryption on: ${e.substring(0,50)}...`);try{if(ju(e)){const r=El(e);if(console.log(`🔍 [StealthDecoder] Base34 decoded: ${r.substring(0,100)}...`),this.isValidUrl(r))return console.log(`✅ [StealthDecoder] Direct URL found via Base34: ${r}`),r;if(r.includes(".")&&r.split(".").length>=3){console.log("🔍 [StealthDecoder] Detected Base34 structured data");const n=r.split(".");for(let s=0;s<n.length;s++){const i=n[s];if(this.isValidUrl(i))return console.log(`✅ [StealthDecoder] Found valid URL in Base34 part ${s}: ${i}`),i}}}}catch(r){console.log(`❌ [StealthDecoder] Base34 decode failed: ${r}`)}console.log("🚫 [StealthDecoder] Base64 methods removed for security");try{const r=decodeURIComponent(e);if(this.isValidUrl(r))return console.log(`✅ [StealthDecoder] Valid URL from URL decode: ${r}`),r}catch(r){console.log(`❌ [StealthDecoder] URL decoding failed: ${r}`)}return console.log(`❌ [StealthDecoder] Custom decryption failed for: ${e.substring(0,30)}...`),null}catch(r){return console.log("❌ Custom decryption error:",r),null}}isValidUrl(e){try{return new URL(e),e.includes("://")&&(e.startsWith("http://")||e.startsWith("https://"))}catch{return!1}}extractEncryptedData(e){try{const r=new URL(e),n=["doc","file","ref","id","token","data","content"];for(const i of n){const o=r.searchParams.get(i);if(o&&o.length>10)return o}const s=r.pathname.split("/").filter(i=>i.length>10);return s.length>0?s[s.length-1]:r.hash&&r.hash.length>10?r.hash.substring(1):null}catch{return null}}isStealthUrl(e){return this.extractEncryptedData(e)!==null}}class U3{constructor(){Z(this,"cache",new Map);Z(this,"maxAge",5*60*1e3);Z(this,"maxSize",1e3)}set(e,r,n){this.cache.size>=this.maxSize&&this.cleanup(),this.cache.set(e,{originalUrl:r,timestamp:Date.now(),method:n})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>this.maxAge?(this.cache.delete(e),null):r.originalUrl:null}cleanup(){const e=Date.now(),r=[];for(const[n,s]of this.cache.entries())e-s.timestamp>this.maxAge&&r.push(n);r.forEach(n=>this.cache.delete(n)),this.cache.size>=this.maxSize&&Array.from(this.cache.entries()).sort((i,o)=>i[1].timestamp-o[1].timestamp).slice(0,Math.floor(this.maxSize/4)).forEach(([i])=>this.cache.delete(i))}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,maxSize:this.maxSize,maxAge:this.maxAge}}}const zm=new U3,Kn=class Kn{constructor(){Z(this,"rateLimitCache",new Map);Z(this,"rateLimits",{url_generation:{operation:"url_generation",hourlyLimit:1e3,minuteLimit:50,dailyLimit:5e3},url_access:{operation:"url_access",hourlyLimit:5e3,minuteLimit:200,dailyLimit:2e4},pattern_analysis:{operation:"pattern_analysis",hourlyLimit:100,minuteLimit:10,dailyLimit:500},key_derivation:{operation:"key_derivation",hourlyLimit:500,minuteLimit:25,dailyLimit:2e3}})}static getInstance(){return Kn.instance||(Kn.instance=new Kn),Kn.instance}async checkRateLimit(e,r,n,s){console.log(`🔍 [RateLimit] Checking rate limit for license ${e.substring(0,8)}..., operation: ${r}`);const i=this.rateLimits[r];if(!i)return console.log(`✅ [RateLimit] Unknown operation ${r}, allowing with default limits`),{allowed:!0,remaining:1e3,resetTime:new Date(Date.now()+60*60*1e3),currentUsage:0,limit:1e3};try{console.log(`📊 [RateLimit] Config for ${r}:`,i);const o=await this.checkHourlyLimit(e,r,i.hourlyLimit);if(console.log("⏰ [RateLimit] Hourly check result:",o),!o.allowed)return console.warn(`❌ [RateLimit] Hourly limit exceeded for ${r}`),await this.logRateLimitViolation(e,r,"hourly_limit",o,n,s),o;const l=await this.checkMinuteLimit(e,r,i.minuteLimit);if(console.log("⏱️ [RateLimit] Minute check result:",l),!l.allowed)return console.warn(`❌ [RateLimit] Minute limit exceeded for ${r}`),await this.logRateLimitViolation(e,r,"minute_limit",l,n,s),l;const c=await this.checkDailyLimit(e,r,i.dailyLimit);if(console.log("📅 [RateLimit] Daily check result:",c),!c.allowed)return console.warn(`❌ [RateLimit] Daily limit exceeded for ${r}`),await this.logRateLimitViolation(e,r,"daily_limit",c,n,s),c;await this.recordOperation(e,r);const d={allowed:!0,remaining:Math.min(o.remaining,l.remaining,c.remaining),resetTime:new Date(Math.min(o.resetTime.getTime(),l.resetTime.getTime(),c.resetTime.getTime())),currentUsage:Math.max(o.currentUsage,l.currentUsage,c.currentUsage),limit:i.hourlyLimit};return console.log(`✅ [RateLimit] All checks passed for ${r}:`,d),d}catch(o){console.error("[RateLimit] Error checking rate limit:",o),await this.logRateLimitError(e,r,o);const l={allowed:!0,remaining:1e3,resetTime:new Date(Date.now()+60*60*1e3),currentUsage:0,limit:(i==null?void 0:i.hourlyLimit)||1e3,reason:"Rate limit check failed - allowing operation"};return console.log("🔄 [RateLimit] Failed open with fallback result:",l),l}}async checkHourlyLimit(e,r,n){const s=Math.floor(Date.now()/36e5),i=`${e}_${r}_hour_${s}`,o=this.rateLimitCache.get(i),l=(o==null?void 0:o.count)||0,c=Math.max(0,n-l);return{allowed:c>0,remaining:c-1,resetTime:new Date((s+1)*60*60*1e3),currentUsage:l,limit:n,reason:c<=0?"Hourly rate limit exceeded":void 0}}async checkMinuteLimit(e,r,n){const s=Math.floor(Date.now()/6e4),i=`${e}_${r}_minute_${s}`,o=this.rateLimitCache.get(i),l=(o==null?void 0:o.count)||0,c=Math.max(0,n-l);return{allowed:c>0,remaining:c-1,resetTime:new Date((s+1)*60*1e3),currentUsage:l,limit:n,reason:c<=0?"Minute rate limit exceeded":void 0}}async checkDailyLimit(e,r,n){try{const s=new Date;s.setHours(0,0,0,0);const i=new Date(s);i.setDate(i.getDate()+1);const{data:o,error:l}=await $.from("url_registry").select("id").eq("license_key_id",e).gte("created_at",s.toISOString()).lt("created_at",i.toISOString());if(l)return console.warn("[RateLimit] Error checking daily limit, allowing operation:",l),{allowed:!0,remaining:n-1,resetTime:i,currentUsage:0,limit:n};const c=(o==null?void 0:o.length)||0,d=Math.max(0,n-c);return{allowed:d>0,remaining:d-1,resetTime:i,currentUsage:c,limit:n,reason:d<=0?"Daily rate limit exceeded":void 0}}catch(s){console.warn("[RateLimit] Daily limit check failed, allowing operation:",s);const i=new Date;return i.setDate(i.getDate()+1),i.setHours(0,0,0,0),{allowed:!0,remaining:n-1,resetTime:i,currentUsage:0,limit:n}}}async recordOperation(e,r){const n=Date.now(),s=Math.floor(n/(60*60*1e3)),i=`${e}_${r}_hour_${s}`,o=this.rateLimitCache.get(i);this.rateLimitCache.set(i,{count:((o==null?void 0:o.count)||0)+1,windowStart:s*60*60*1e3,windowEnd:(s+1)*60*60*1e3});const l=Math.floor(n/(60*1e3)),c=`${e}_${r}_minute_${l}`,d=this.rateLimitCache.get(c);this.rateLimitCache.set(c,{count:((d==null?void 0:d.count)||0)+1,windowStart:l*60*1e3,windowEnd:(l+1)*60*1e3})}async logRateLimitViolation(e,r,n,s,i,o){try{console.warn(`[RateLimit] ${n} exceeded for license ${e}, operation ${r}`);const l={license_key_id:e,operation:r,limit_type:n,current_usage:s.currentUsage,limit:s.limit,user_agent:i,ip_address:o,timestamp:new Date().toISOString()};console.log("[RateLimit] Violation details:",l)}catch(l){console.error("[RateLimit] Error logging rate limit violation:",l)}}async logRateLimitError(e,r,n){try{console.error(`[RateLimit] Error for license ${e}, operation ${r}:`,n)}catch(s){console.error("[RateLimit] Error logging rate limit error:",s)}}async getRateLimitStatus(e){const r={};for(const[n,s]of Object.entries(this.rateLimits)){const i=await this.checkHourlyLimit(e,n,s.hourlyLimit),o=await this.checkDailyLimit(e,n,s.dailyLimit);r[n]={hourly:{used:i.currentUsage,remaining:i.remaining+1,limit:i.limit,resetTime:i.resetTime},daily:{used:o.currentUsage,remaining:o.remaining+1,limit:o.limit,resetTime:o.resetTime}}}return r}clearExpiredCache(){const e=Date.now();let r=0;for(const[n,s]of this.rateLimitCache.entries())s.windowEnd<=e&&(this.rateLimitCache.delete(n),r++);r>0&&console.log(`[RateLimit] Cleared ${r} expired cache entries`)}getCacheStats(){const e=Date.now();let r=0;for(const n of this.rateLimitCache.values())n.windowEnd>e&&r++;return{total_entries:this.rateLimitCache.size,active_windows:r,memory_usage_estimate:this.rateLimitCache.size*100}}startCacheCleanup(){console.log("[RateLimit] Starting automatic cache cleanup"),setInterval(()=>{this.clearExpiredCache()},60*1e3)}updateRateLimit(e,r){this.rateLimits[e]&&(this.rateLimits[e]={...this.rateLimits[e],...r},console.log(`[RateLimit] Updated limits for ${e}:`,this.rateLimits[e]))}getRateLimits(){return{...this.rateLimits}}};Z(Kn,"instance");let Lu=Kn;const Rv=Lu.getInstance(),qn=class qn{constructor(){Z(this,"enabled",!1);Z(this,"localMetrics",{totalGenerations:0,successfulGenerations:0,patternUsage:{},errorCounts:{},lastReset:new Date});Z(this,"eventQueue",[]);Z(this,"MAX_QUEUE_SIZE",100);this.checkAnalyticsAvailability()}static getInstance(){return qn.instance||(qn.instance=new qn),qn.instance}async checkAnalyticsAvailability(){try{const{error:e}=await $.from("url_patterns").select("id").limit(1);this.enabled=!e,this.enabled?console.log("📊 [OptionalAnalytics] Analytics enabled - Supabase available"):console.log("📊 [OptionalAnalytics] Analytics disabled - Supabase unavailable, using local metrics only")}catch{this.enabled=!1,console.log("📊 [OptionalAnalytics] Analytics disabled - operating in offline mode")}}async trackEvent(e,r,n="user_action"){this.updateLocalMetrics(e,r);const s={event:e,data:r,timestamp:new Date,category:n};if(this.eventQueue.push(s),this.eventQueue.length>this.MAX_QUEUE_SIZE&&this.eventQueue.shift(),this.enabled)try{await this.sendToDatabase(s)}catch(i){console.warn("📊 [OptionalAnalytics] Failed to send to database, continuing with local metrics:",i)}}async trackPatternUsage(e,r,n){await this.trackEvent("pattern_used",{patternId:e,patternName:r,success:n,timestamp:new Date().toISOString()},"pattern_usage")}async trackUrlGeneration(e,r,n,s){await this.trackEvent("url_generated",{success:e,pattern:r,method:n,metadata:s,timestamp:new Date().toISOString()},"url_generation")}async trackPerformance(e,r,n){await this.trackEvent("performance_metric",{operation:e,duration:r,success:n,timestamp:new Date().toISOString()},"performance")}async trackSecurityEvent(e,r){await this.trackEvent("security_event",{eventType:e,details:r,timestamp:new Date().toISOString()},"security")}updateLocalMetrics(e,r){switch(e){case"url_generated":this.localMetrics.totalGenerations++,r.success&&this.localMetrics.successfulGenerations++,r.pattern&&(this.localMetrics.patternUsage[r.pattern]=(this.localMetrics.patternUsage[r.pattern]||0)+1);break;case"pattern_used":r.patternName&&(this.localMetrics.patternUsage[r.patternName]=(this.localMetrics.patternUsage[r.patternName]||0)+1);break;case"error_occurred":r.errorType&&(this.localMetrics.errorCounts[r.errorType]=(this.localMetrics.errorCounts[r.errorType]||0)+1);break}}async sendToDatabase(e){if(this.enabled)try{const{error:r}=await $.from("analytics_events").insert({event_name:e.event,event_data:e.data,event_category:e.category,created_at:e.timestamp.toISOString()});r&&e.category==="pattern_usage"&&await this.fallbackPatternTracking(e)}catch(r){console.debug("📊 [OptionalAnalytics] Database insert failed:",r)}}async fallbackPatternTracking(e){try{e.data.patternId&&await $.rpc("increment_pattern_usage",{pattern_id_input:e.data.patternId})}catch(r){console.debug("📊 [OptionalAnalytics] Fallback tracking failed:",r)}}getLocalMetrics(){const e=this.localMetrics.totalGenerations>0?this.localMetrics.successfulGenerations/this.localMetrics.totalGenerations*100:0,r=Object.entries(this.localMetrics.patternUsage).map(([n,s])=>({pattern:n,count:s})).sort((n,s)=>s.count-n.count).slice(0,5);return{...this.localMetrics,successRate:Math.round(e),topPatterns:r}}async getComprehensiveMetrics(){const e=this.getLocalMetrics();if(!this.enabled)return{source:"local_only",...e,databaseMetrics:null};try{const{data:r,error:n}=await $.rpc("get_analytics_summary");return n||!r?{source:"local_with_db_error",...e,databaseMetrics:null,dbError:n==null?void 0:n.message}:{source:"local_and_database",localMetrics:e,databaseMetrics:r}}catch(r){return{source:"local_with_exception",...e,databaseMetrics:null,exception:r}}}resetLocalMetrics(){this.localMetrics={totalGenerations:0,successfulGenerations:0,patternUsage:{},errorCounts:{},lastReset:new Date},this.eventQueue=[]}getStatus(){return{enabled:this.enabled,queueSize:this.eventQueue.length,localMetrics:!0,lastCheck:new Date}}setEnabled(e){this.enabled=e,console.log(`📊 [OptionalAnalytics] Analytics ${e?"enabled":"disabled"} manually`)}async flushEventQueue(){if(!this.enabled||this.eventQueue.length===0)return;const e=[...this.eventQueue];this.eventQueue=[];try{for(let n=0;n<e.length;n+=10){const s=e.slice(n,n+10);await Promise.all(s.map(i=>this.sendToDatabase(i)))}}catch(r){console.warn("📊 [OptionalAnalytics] Batch processing failed:",r)}}};Z(qn,"instance");let Mu=qn;const qs=Mu.getInstance();class D3{constructor(){Z(this,"stealthDecoder",new $3);Z(this,"performanceMetrics",{totalProcessed:0,successfulProcessed:0,averageProcessingTime:0,methodPerformance:new Map,lastCleanup:Date.now()})}async processUrl(e,r){const n=Date.now(),s=[],i=l=>{console.log(l),s.push(l)};i(`🚀 [OptimizedProcessor] Processing URL: ${e.substring(0,50)}...`);const o=zm.get(e);if(o)return i("⚡ [OptimizedProcessor] Cache hit - returning cached result"),this.updateMetrics("cache",n,!0),{originalUrl:o,success:!0,method:"registry",methodLogs:s};try{const l=[{name:"registry",fn:()=>this.tryRegistryLookup(e),priority:1},{name:"direct",fn:()=>this.tryDirectDecryption(e,r),priority:2},{name:"pattern",fn:()=>this.tryPatternDecryption(e,r),priority:3}];for(const c of l)try{i(`🔄 [OptimizedProcessor] Trying ${c.name} method`);const d=await this.executeWithTimeout(c.fn,5e3);if(d.success)return i(`✅ [OptimizedProcessor] ${c.name} method successful`),this.updateMetrics(c.name,n,!0),c.name==="registry"&&zm.set(e,d.originalUrl,"registry"),{...d,methodLogs:s};i(`❌ [OptimizedProcessor] ${c.name} method failed: ${d.error}`)}catch(d){i(`💥 [OptimizedProcessor] ${c.name} method error: ${d}`);continue}return this.updateMetrics("all_failed",n,!1),{originalUrl:"",success:!1,method:"all_methods_failed",error:"All processing methods failed",methodLogs:s}}catch(l){return i(`💥 [OptimizedProcessor] Critical error: ${l}`),this.updateMetrics("error",n,!1),{originalUrl:"",success:!1,method:"all_methods_failed",error:`Critical processing error: ${l}`,methodLogs:s}}}async executeWithTimeout(e,r){return new Promise((n,s)=>{const i=setTimeout(()=>{s(new Error(`Operation timed out after ${r}ms`))},r);e().then(o=>{clearTimeout(i),n(o)}).catch(o=>{clearTimeout(i),s(o)})})}updateMetrics(e,r,n){const s=Date.now()-r;this.performanceMetrics.totalProcessed++,n&&this.performanceMetrics.successfulProcessed++;const i=this.performanceMetrics.averageProcessingTime,o=this.performanceMetrics.totalProcessed;this.performanceMetrics.averageProcessingTime=(i*(o-1)+s)/o;const l=this.performanceMetrics.methodPerformance.get(e)||0;this.performanceMetrics.methodPerformance.set(e,l+1),Date.now()-this.performanceMetrics.lastCleanup>36e5&&this.cleanupMetrics()}cleanupMetrics(){if(this.performanceMetrics.totalProcessed>1e4){this.performanceMetrics.totalProcessed=Math.floor(this.performanceMetrics.totalProcessed/2),this.performanceMetrics.successfulProcessed=Math.floor(this.performanceMetrics.successfulProcessed/2);for(const[e,r]of this.performanceMetrics.methodPerformance.entries())this.performanceMetrics.methodPerformance.set(e,Math.floor(r/2))}this.performanceMetrics.lastCleanup=Date.now()}async tryRegistryLookup(e){try{const r=this.generateUrlHash(e),{data:n,error:s}=await $.rpc("get_license_from_url",{url_hash_input:r});if(!s&&n&&typeof n=="object"&&"valid"in n&&n.valid)return{originalUrl:n.original_url,success:!0,method:"registry"};const{data:i,error:o}=await $.from("url_registry").select("original_url, redirect_url").eq("url_hash",r).eq("is_active",!0).maybeSingle();return!o&&i?{originalUrl:i.original_url||i.redirect_url,success:!0,method:"registry"}:{originalUrl:"",success:!1,method:"registry",error:"URL not found in registry"}}catch(r){return{originalUrl:"",success:!1,method:"registry",error:`Registry lookup error: ${r}`}}}generateUrlHash(e){let r=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);r=(r<<5)-r+s,r=r&r}return Math.abs(r).toString(36)}async tryDirectDecryption(e,r){const n=this.extractEncryptedParam(e);if(!n)return{originalUrl:"",success:!1,method:"direct-xor",error:"No encrypted parameter found"};try{const s=await Cl(n,r);if(this.isValidUrl(s))return{originalUrl:s,success:!0,method:"direct-xor"}}catch{}try{const s=await Lr.decryptUrl(n,r,"aes");if(this.isValidUrl(s))return{originalUrl:s,success:!0,method:"aes"}}catch{try{const i=await zi.decrypt(n,r);if(i.success&&this.isValidUrl(i.plaintext))return{originalUrl:i.plaintext,success:!0,method:"aes"}}catch{}}return{originalUrl:"",success:!1,method:"direct-xor",error:"All direct decryption methods failed"}}async tryPatternDecryption(e,r){try{if(this.stealthDecoder.isStealthUrl(e)){const s=await this.stealthDecoder.decodeStealthUrl(e,r);if(s.isValid&&this.isValidUrl(s.originalUrl))return{originalUrl:s.originalUrl,success:!0,method:"stealth"}}}catch{}const n=[/\/sites\/[\w\-]+\/Shared%20Documents\/[\w\-\/]+\.pdf\?[\w=&]+/,/\/personal\/[\w\-]+\/Documents\/[\w\-\/]+\.pdf\?[\w=&]+/,/\/finance\/reports\/\d{4}\/[\w\-]+\.pdf\?[\w=&]+/,/\/hr\/policies\/[\w\-]+\/\d{4}\/[\w\-]+\.pdf\?[\w=&]+/,/\/tax\/forms\/\d{4}\/[\w\-]+\.pdf\?[\w=&]+/,/\/documents\/[\w\-]+\.pdf\?[\w=&]+/];for(const s of n)if(e.match(s)){const o=this.extractEncryptedParam(e);if(o)try{const l=await Lr.decryptUrl(o,r,"aes");if(this.isValidUrl(l))return{originalUrl:l,success:!0,method:"pattern"}}catch{}}return{originalUrl:"",success:!1,method:"pattern",error:"Pattern decryption failed"}}extractEncryptedParam(e){const r=[/[?&]data=([^&]+)/,/[?&]d=([^&]+)/,/[?&]user=([^&]+)/,/[?&]session=([^&]+)/,/[?&]doc=([^&]+)/,/[?&]file=([^&]+)/,/\/e\/([^?&\/]+)/];for(const n of r){const s=e.match(n);if(s&&s[1])return decodeURIComponent(s[1])}return null}isValidUrl(e){try{return new URL(e),e.startsWith("http://")||e.startsWith("https://")}catch{return!1}}getMetrics(){return{...this.performanceMetrics}}}const Qn=class Qn{constructor(){Z(this,"optimizedProcessor",new D3)}static getInstance(){return Qn.instance||(Qn.instance=new Qn),Qn.instance}async processUrl(e,r="default-license"){return await this.optimizedProcessor.processUrl(e,r)}isValidUrl(e){try{return new URL(e),e.startsWith("http://")||e.startsWith("https://")}catch{return!1}}simpleHash(e){let r=0;for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);r=(r<<5)-r+s,r=r&r}return Math.abs(r).toString(36)}generateUrlHash(e,r){const n=r?`${e}:${r}`:e;return this.simpleHash(n)}async createLegacyRedirectUrl(e,r){if(console.log("🔄 [CentralizedUrlProcessor] Creating legacy /e/ format URL"),!this.isValidUrl(e))throw new Error("Invalid target URL format");const s=`/e/${await Vn(e,r)}`;return await this.registerUrlWithRetry(s,r,e),s}async registerUrlWithRetry(e,r,n,s=5){let i=null;for(let o=0;o<s;o++)try{const l=this.generateUrlHash(e,r),{data:c,error:d}=await $.rpc("register_generated_url",{url_hash_input:l,license_key_id_input:r,pattern_name_input:"default",redirect_url_input:n,expiry_hours:720});if(!d){console.log(`✅ [CentralizedUrlProcessor] URL registered successfully on attempt ${o+1}`);return}if(i=new Error(d.message||"Unknown registration error"),console.warn(`⚠️ [CentralizedUrlProcessor] Registration attempt ${o+1} failed:`,d),o<s-1){const u=Math.pow(2,o)*1e3;await new Promise(h=>setTimeout(h,u))}}catch(l){if(i=l,console.warn(`⚠️ [CentralizedUrlProcessor] Registration attempt ${o+1} error:`,l),o<s-1){const c=Math.pow(2,o)*1e3;await new Promise(d=>setTimeout(d,c))}}console.error("Database registration failed after all retries:",i==null?void 0:i.message)}async generateUnifiedUrl(e,r,n={}){const{pattern:s="auto",stealthLevel:i="planA",encryptionMode:o="auto",patternData:l,useAdvanced:c=!0,varietySeed:d=0,forceNewHash:u=!1,enableAntiDetection:h=!0,targetProvider:f="generic",useAgedUrl:m=!1,enableSubdomainRotation:g=!0}=n;if(console.log("🚀 [CentralizedUrlProcessor] Enhanced generateUnifiedUrl called with options:",n),console.log("🎯 [CentralizedUrlProcessor] Target URL:",e),console.log("🔑 [CentralizedUrlProcessor] License ID:",r.substring(0,8)+"..."),!e||typeof e!="string")throw new Error("Target URL is required and must be a string");if(!r||typeof r!="string")throw new Error("License key ID is required and must be a string");if(!this.isValidUrl(e))throw new Error("Invalid target URL format");const v=await Rv.checkRateLimit(r,"url_generation",navigator.userAgent,"client-request");if(!v.allowed)throw new Error(`Rate limit exceeded: ${v.reason}. Try again in ${Math.ceil((v.resetTime.getTime()-Date.now())/6e4)} minutes.`);let w="",y={},x=!1;try{if(m)try{const{urlAging:j}=await $t(async()=>{const{urlAging:N}=await import("./urlAging-D8_sBeKl.js");return{urlAging:N}},[]),_=await j.getAgedUrl(e,r,s);if(_)return{url:_.url,metadata:{pattern:_.pattern,tier:1,contentType:"application/pdf",expectedSuccessRate:_.reputationScore.toString(),encryptionMode:"aged",generationMethod:"aged-url",agedUrlId:_.id,usageCount:_.usageCount,reputationScore:_.reputationScore}}}catch(j){console.warn("Failed to get aged URL, continuing with fresh generation:",j)}if(s==="microsoft"||f==="microsoft")try{const{microsoftEvasion:j}=await $t(async()=>{const{microsoftEvasion:S}=await import("./microsoftEvasion-B3KTx_V5.js");return{microsoftEvasion:S}},[]),_=j.getMicrosoftPattern(void 0,{useBusinessHours:!0,mimicLegitimateServices:!0}),N=j.generateMicrosoftParameters(_);N.encrypted=await this.generateEncryptedPayload(e,r,o),w=this.replacePlaceholders(_.template,N),y={pattern:"microsoft-evasion",tier:1,contentType:_.contentType,expectedSuccessRate:_.successRate.toString(),encryptionMode:o,generationMethod:"microsoft-specific",microsoftCategory:_.category}}catch(j){console.warn("Microsoft pattern generation failed, falling back:",j)}else if(s==="mimicry"||s==="auto"&&Math.random()>.5)try{const{behavioralMimicry:j}=await $t(async()=>{const{behavioralMimicry:S}=await import("./behavioralMimicry-BBuROIbV.js");return{behavioralMimicry:S}},[]),_=j.selectOptimalPattern({preferHighTrust:!0,avoidDetection:!0,targetAudience:f==="microsoft"?"business":"mixed"}),N=j.generateServiceParameters(_);N.encrypted=await this.generateEncryptedPayload(e,r,o),w=this.replacePlaceholders(_.template,N),y={pattern:"behavioral-mimicry",tier:1,contentType:_.headers["Content-Type"]||"application/pdf",expectedSuccessRate:_.trustScore.toString(),encryptionMode:o,generationMethod:"behavioral-mimicry",serviceName:_.serviceName,recognitionRate:_.recognitionRate}}catch(j){console.warn("Behavioral mimicry failed, falling back:",j)}else if(!c&&s==="legacy")w=await this.createLegacyRedirectUrl(e,r),y={pattern:"legacy",tier:0,contentType:"text/html",expectedSuccessRate:"99",encryptionMode:"xor",generationMethod:"legacy"};else if(!w){console.log("🔮 [CentralizedUrlProcessor] Using advanced pattern generation with pattern:",s);try{let j=o;o==="auto"&&(j=(n.varietySeed||0)%10<7?"aes":"xor"),console.log("🔐 [CentralizedUrlProcessor] Using encryption mode:",j,"with variety factor:",(n.varietySeed||0)%10);let _;try{_=await Lr.encryptUrl(e,r,s,j),console.log("🔒 [CentralizedUrlProcessor] Encryption successful:",_.mode)}catch(S){console.warn("⚠️ [CentralizedUrlProcessor] Primary encryption failed, trying XOR:",S),_={encrypted:await Vn(e,r),mode:"xor"}}let N=_.encrypted;try{(i==="planA"||i==="both")&&(N=this.applyPlanAObfuscation(N)),(i==="planB"||i==="both")&&(N=this.applyPlanBObfuscation(N)),console.log("🛡️ [CentralizedUrlProcessor] Stealth obfuscation applied")}catch(S){console.warn("⚠️ [CentralizedUrlProcessor] Stealth obfuscation failed, using plain encrypted:",S)}try{w=this.buildPatternUrl(s,N,l),console.log("🏗️ [CentralizedUrlProcessor] Pattern URL built successfully:",w)}catch(S){console.error("❌ [CentralizedUrlProcessor] Pattern URL building failed:",S),w=`/services/portal/access?session=${Math.random().toString(36).substring(2,6)}&data=${N}`,console.log("🔄 [CentralizedUrlProcessor] Using intelligent fallback pattern:",w)}try{await this.registerUrlWithRetry(w,r,e),console.log("📝 [CentralizedUrlProcessor] URL registered in database")}catch(S){console.warn("⚠️ [CentralizedUrlProcessor] Database registration failed, but URL still works:",S)}await qs.trackUrlGeneration(!0,s,"advanced",{tier:(l==null?void 0:l.tier)||1,encryptionMode:_.mode}),y={pattern:s,tier:(l==null?void 0:l.tier)||1,contentType:this.getContentTypeForPattern(s),expectedSuccessRate:(l==null?void 0:l.success_rate)||this.getExpectedSuccessRate(s),encryptionMode:_.mode,patternName:(l==null?void 0:l.name)||this.getPatternName(s),generationMethod:"advanced"},console.log("✅ [CentralizedUrlProcessor] Advanced URL generated successfully")}catch(j){throw console.error("❌ [CentralizedUrlProcessor] Advanced generation failed:",j),j}}}catch(j){console.error("❌ [CentralizedUrlProcessor] Primary generation failed:",j),console.log("🔄 [CentralizedUrlProcessor] Attempting intelligent fallback...");try{x=!0,console.log("🔄 [CentralizedUrlProcessor] Generating intelligent fallback URL...");const N=Date.now().toString().substring(0,6),S=await Vn(e,r);w=`/services/portal/access?session=${N}&data=${S}`;try{await this.registerUrlWithRetry(w,r,e),console.log("📝 [CentralizedUrlProcessor] Intelligent fallback URL registered")}catch(k){console.warn("⚠️ [CentralizedUrlProcessor] Fallback registration failed, but URL still works:",k)}y={pattern:"intelligent-fallback",tier:1,contentType:"application/json",expectedSuccessRate:"92",encryptionMode:"xor",patternName:"Intelligent Fallback Pattern",generationMethod:"intelligent-fallback",originalError:j.message},console.log("✅ [CentralizedUrlProcessor] Intelligent fallback URL generated successfully")}catch(_){console.error("❌ [CentralizedUrlProcessor] Intelligent fallback also failed:",_),console.log("🆘 [CentralizedUrlProcessor] Using emergency /e/ fallback...");try{const N=await Vn(e,r);w=`/documents/annual-report-${new Date().getFullYear()}.pdf?dept=finance&version=1.0&data=${N}`,y={pattern:"emergency-safe",tier:1,contentType:"application/pdf",expectedSuccessRate:"85",encryptionMode:"xor",patternName:"Emergency Safe Pattern",originalError:j.message,generationMethod:"emergency-safe"},console.log("🆘 [CentralizedUrlProcessor] Emergency /e/ fallback generated")}catch(N){throw console.error("💥 [CentralizedUrlProcessor] All fallback methods failed:",N),new Error(`Complete URL generation failure. Primary: ${j.message}. Fallback: ${_.message}. Emergency: ${N.message}`)}}}if(h&&w)try{w=await this.applyAntiDetectionMeasures(w,f)}catch(j){console.warn("Anti-detection measures failed:",j)}if(g&&w)try{const j=await this.applySubdomainRotation(w);w=j.url,y.subdomain=j.subdomain,y.trustScore=j.trustScore}catch(j){console.warn("Subdomain rotation failed:",j)}if(!w)throw new Error("Generated URL is empty - this should never happen");if(!w.startsWith("/")&&!w.startsWith("http"))throw new Error(`Generated URL has invalid format: ${w}`);const b={url:w,metadata:{...y,generatedAt:new Date().toISOString(),usedFallback:x,targetUrlHash:this.simpleHash(e).substring(0,16)}};return console.log("🎉 [CentralizedUrlProcessor] Final result:",b),b}async generateEncryptedPayload(e,r,n){try{return n==="auto"&&(n=Math.random()*10<7?"aes":"xor"),n==="aes"?(await Lr.encryptUrl(e,r,"auto","aes")).encrypted:await Vn(e,r)}catch{return await Vn(e,r)}}replacePlaceholders(e,r){let n=e;return Object.entries(r).forEach(([s,i])=>{const o=i!=null?String(i):this.generateFallbackValue(s);if(o==="undefined"||o==="null"||o===""){console.warn(`[replacePlaceholders] 🚨 CRITICAL: Invalid value for ${s}, generating fallback`);const l=this.generateFallbackValue(s);console.log(`[replacePlaceholders] Generated fallback for ${s}: ${l}`);const c=`{${s}}`;n=n.replace(new RegExp(`\\${c}`,"g"),l)}else{const l=`{${s}}`;n=n.replace(new RegExp(`\\${l}`,"g"),o)}}),n}generateFallbackValue(e){const r=e.toLowerCase(),n={session:"sess"+Math.random().toString(36).substring(2,8),doc:"doc"+Math.random().toString(36).substring(2,6),id:Math.random().toString(36).substring(2,8),ref:"ref"+Math.random().toString(36).substring(2,6),token:"tok"+Math.random().toString(36).substring(2,8),year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),day:new Date().getDate().toString().padStart(2,"0"),version:"1.0",type:"standard",format:"pdf",lang:"en",region:"us"};return n[r]?n[r]:r.includes("id")||r.includes("num")?Math.random().toString(36).substring(2,8):r.includes("date")||r.includes("time")?new Date().toISOString().split("T")[0]:Math.random().toString(36).substring(2,6)}async applyAntiDetectionMeasures(e,r){try{const{antiDetection:n}=await $t(async()=>{const{antiDetection:i}=await import("./antiDetection-m-Cg_b4m.js");return{antiDetection:i}},[]),s=n.analyzeDetectionRisk(e);return s.riskLevel==="high"||s.riskLevel==="critical"?n.applyAntiDetection(e,{aggressiveness:"moderate",targetProvider:r,enableTimeBasedEvasion:!0,enableBehavioralMimicry:!0,enablePatternRotation:!0}):e}catch(n){return console.warn("Anti-detection measures failed:",n),e}}async applySubdomainRotation(e){try{const{subdomainRotation:r}=await $t(async()=>{const{subdomainRotation:n}=await import("./subdomainRotation-nhO2YB-3.js");return{subdomainRotation:n}},[]);return r.buildSubdomainUrl("example.com",e,{preferHighTrust:!0,balanceUsage:!0,avoidRecent:!0})}catch(r){return console.warn("Subdomain rotation failed:",r),{url:e,subdomain:"www",trustScore:50}}}async validateGeneratedUrl(e){const r=[],n=[];let s=0;(!e||e.length===0)&&(r.push("URL is empty"),s+=100),!e.startsWith("/")&&!e.startsWith("http")&&(r.push("URL must start with / or http"),s+=50);try{const{antiDetection:o}=await $t(async()=>{const{antiDetection:c}=await import("./antiDetection-m-Cg_b4m.js");return{antiDetection:c}},[]),l=o.analyzeDetectionRisk(e);l.detectedPatterns.length>0&&(r.push(`Detected ${l.detectedPatterns.length} suspicious patterns`),s+=l.detectedPatterns.length*10,n.push(...l.recommendations))}catch(o){console.warn("Detection analysis failed:",o)}const i=e.match(/\{[^}]+\}/g);return i&&(r.push(`Unreplaced placeholders: ${i.join(", ")}`),s+=i.length*20,n.push("Ensure all placeholders are properly replaced with actual values")),e.length>2e3&&(r.push("URL is too long (>2000 characters)"),s+=30,n.push("Shorten URL to improve compatibility")),{isValid:r.length===0,issues:r,recommendations:n,riskScore:Math.min(100,s)}}async getPerformanceMetrics(){const e=this.optimizedProcessor.getMetrics();return{totalGenerated:e.totalProcessed,successRate:e.totalProcessed>0?e.successfulProcessed/e.totalProcessed*100:0,averageGenerationTime:e.averageProcessingTime,patternDistribution:Object.fromEntries(e.methodPerformance),antiDetectionEffectiveness:85}}applyPlanAObfuscation(e){return`${Math.floor(Date.now()/36e5).toString(36)}${e}`}applyPlanBObfuscation(e){const r=e.split("").reverse().join(""),n="0123456789ABCDEFGHJKMNPQRSTVWXYZ";let s="";for(let i=0;i<r.length;i+=3){const o=r.substring(i,i+3);let l=0;for(let c=0;c<o.length;c++)l=l*256+o.charCodeAt(c);for(let c=0;c<Math.ceil(o.length*8/5);c++)s=n[l%34]+s,l=Math.floor(l/34)}return s}buildPatternUrl(e,r,n){const s=Date.now().toString(),i=new Date().getFullYear();switch(e){case"search":return`/search?${`q=${r}&form=QBLH&sp=-1&lq=0&pq=${r.substring(0,8)}&sc=10-${r.length}&qs=n&sk=&cvid=${s.substring(0,8).toUpperCase()}`}`;case"document":return`/documents/annual-report-${i}.pdf?dept=finance&version=1.0&data=${r}`;case"business":return`/hr/policies/employee-handbook.pdf?section=benefits&lang=en&data=${r}`;case"content":return`/finance/reports/${i}/Q4-financial-report.pdf?dept=finance&version=2024.1&data=${r}`;case"intelligent":return`/sites/corporate/Shared%20Documents/reports/quarterly-review.pdf?web=1&download=1&at=${r}`;default:return`/tax/forms/${i}/form-1040.pdf?taxpayer=${s.substring(0,6)}&filing=single&data=${r}`}}getContentTypeForPattern(e){switch(e){case"search":return"text/html";case"document":return"application/pdf";case"business":return"application/json";case"content":return"text/html";case"intelligent":return"application/pdf";default:return"text/html"}}getExpectedSuccessRate(e){switch(e){case"search":return"94";case"document":return"96";case"business":return"93";case"content":return"91";case"intelligent":return"97";default:return"85"}}getPatternName(e){switch(e){case"search":return"Bing Search Pattern";case"document":return"Document Sharing Pattern";case"business":return"Business API Pattern";case"content":return"Content Management Pattern";case"intelligent":return"AI-Optimized Pattern";default:return"Standard Pattern"}}};Z(Qn,"instance");let Ou=Qn;const $u=Ou.getInstance(),zC=Object.freeze(Object.defineProperty({__proto__:null,centralizedUrlProcessor:$u},Symbol.toStringTag,{value:"Module"})),Fm=t=>{try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}},Yn=class Yn{static getInstance(){return Yn.instance||(Yn.instance=new Yn),Yn.instance}clearAllCaches(){try{if(typeof window<"u"&&window.localStorage){const e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&(n.includes("pattern")||n.includes("url_")||n.includes("phantom")||n.includes("cache"))&&e.push(n)}e.forEach(r=>localStorage.removeItem(r)),console.log(`[CacheManager] Cleared ${e.length} localStorage entries`)}if(typeof window<"u"&&window.sessionStorage&&(sessionStorage.clear(),console.log("[CacheManager] Cleared sessionStorage")),typeof window<"u"){const e=Date.now();window.history.replaceState(null,"",`${window.location.pathname}?_cacheBust=${e}`)}console.log("[CacheManager] ✅ All caches cleared successfully")}catch(e){console.error("[CacheManager] Error clearing caches:",e)}}clearPatternCaches(){try{if(typeof window<"u"&&window.localStorage){const e=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&n.includes("pattern")&&e.push(n)}e.forEach(r=>localStorage.removeItem(r)),console.log(`[CacheManager] Cleared ${e.length} pattern cache entries`)}}catch(e){console.error("[CacheManager] Error clearing pattern caches:",e)}}getCacheStats(){try{let e=0,r=0;return typeof window<"u"&&(e=window.localStorage?window.localStorage.length:0,r=window.sessionStorage?window.sessionStorage.length:0),{localStorageEntries:e,sessionStorageEntries:r}}catch(e){return console.error("[CacheManager] Error getting cache stats:",e),{localStorageEntries:0,sessionStorageEntries:0}}}};Z(Yn,"instance");let Uu=Yn;const z3=Uu.getInstance(),F3=[{id:"ms_sharepoint_001",name:"SharePoint Document Library",template:"/sites/{department}/Shared%20Documents/{folder}/{filename}.pdf?web=1&download=1&at={access_token}",category:"microsoft",trustScore:98,safeExtensions:[".pdf",".docx",".xlsx"],businessContext:"SharePoint document sharing",placeholders:["department","folder","filename","access_token"],tier:1,inboxRate:97},{id:"ms_onedrive_001",name:"OneDrive Business Share",template:"/personal/{user}_{domain}/Documents/{folder}/{filename}.pdf?d=w{share_id}&csf=1&web=1",category:"microsoft",trustScore:97,safeExtensions:[".pdf",".docx",".xlsx"],businessContext:"OneDrive business file sharing",placeholders:["user","domain","folder","filename","share_id"],tier:1,inboxRate:96},{id:"ms_teams_001",name:"Microsoft Teams File",template:"/teams/{team_id}/channels/{channel}/files/{folder}/{filename}.pdf?version={version}&web=1",category:"microsoft",trustScore:96,safeExtensions:[".pdf",".docx",".xlsx"],businessContext:"Teams channel file sharing",placeholders:["team_id","channel","folder","filename","version"],tier:1,inboxRate:95},{id:"ms_outlook_001",name:"Outlook Attachment Link",template:"/owa/attachment.ashx?attach={attachment_id}&id={message_id}&X-OWA-CANARY={canary}",category:"microsoft",trustScore:95,safeExtensions:[".pdf",".docx"],businessContext:"Outlook web attachment",placeholders:["attachment_id","message_id","canary"],tier:1,inboxRate:94}],B3=[{id:"corp_finance_001",name:"Financial Report Portal",template:"/finance/reports/{year}/Q{quarter}-financial-report.pdf?dept={department}&version={version}",category:"corporate",trustScore:94,safeExtensions:[".pdf"],businessContext:"Corporate financial reporting",placeholders:["year","quarter","department","version"],tier:1,inboxRate:93},{id:"corp_hr_001",name:"HR Policy Document",template:"/hr/policies/{policy_type}/{year}/employee-handbook.pdf?section={section}&lang={language}",category:"corporate",trustScore:93,safeExtensions:[".pdf",".docx"],businessContext:"HR policy documentation",placeholders:["policy_type","year","section","language"],tier:1,inboxRate:92},{id:"corp_legal_001",name:"Legal Document Portal",template:"/legal/contracts/{contract_type}/{year}/agreement-{contract_id}.pdf?party={party}&status={status}",category:"corporate",trustScore:92,safeExtensions:[".pdf"],businessContext:"Legal contract management",placeholders:["contract_type","year","contract_id","party","status"],tier:1,inboxRate:91},{id:"corp_compliance_001",name:"Compliance Training",template:"/compliance/training/{module}/{year}/certification.pdf?employee={employee_id}&completion={date}",category:"corporate",trustScore:91,safeExtensions:[".pdf",".docx"],businessContext:"Compliance training materials",placeholders:["module","year","employee_id","date"],tier:1,inboxRate:90}],V3=[{id:"gov_tax_001",name:"Tax Document Portal",template:"/tax/forms/{year}/form-{form_number}.pdf?taxpayer={taxpayer_id}&filing={filing_status}",category:"government",trustScore:99,safeExtensions:[".pdf"],businessContext:"Government tax documentation",placeholders:["year","form_number","taxpayer_id","filing_status"],tier:1,inboxRate:98},{id:"gov_benefits_001",name:"Benefits Verification",template:"/benefits/verification/{state}/case-{case_number}.pdf?beneficiary={beneficiary_id}&period={period}",category:"government",trustScore:98,safeExtensions:[".pdf"],businessContext:"Government benefits verification",placeholders:["state","case_number","beneficiary_id","period"],tier:1,inboxRate:97},{id:"gov_permits_001",name:"Permit Application",template:"/permits/{agency}/applications/{permit_type}-{application_id}.pdf?applicant={applicant_id}&status={status}",category:"government",trustScore:97,safeExtensions:[".pdf"],businessContext:"Government permit applications",placeholders:["agency","permit_type","application_id","applicant_id","status"],tier:1,inboxRate:96}],H3=[{id:"edu_transcript_001",name:"Academic Transcript",template:"/registrar/transcripts/{student_id}/{year}/official-transcript.pdf?semester={semester}&gpa={gpa}",category:"education",trustScore:96,safeExtensions:[".pdf"],businessContext:"Academic transcript access",placeholders:["student_id","year","semester","gpa"],tier:1,inboxRate:95},{id:"edu_course_001",name:"Course Materials",template:"/courses/{course_code}/{semester}/materials/{module}.pdf?instructor={instructor}&section={section}",category:"education",trustScore:95,safeExtensions:[".pdf",".docx"],businessContext:"Educational course materials",placeholders:["course_code","semester","module","instructor","section"],tier:1,inboxRate:94}],G3=[{id:"biz_invoice_001",name:"Invoice Portal",template:"/billing/invoices/{year}/{month}/invoice-{invoice_number}.pdf?customer={customer_id}&amount={amount}",category:"business",trustScore:89,safeExtensions:[".pdf"],businessContext:"Business invoice management",placeholders:["year","month","invoice_number","customer_id","amount"],tier:2,inboxRate:88},{id:"biz_proposal_001",name:"Business Proposal",template:"/proposals/{client}/{year}/proposal-{proposal_id}.pdf?project={project_name}&value={value}",category:"business",trustScore:88,safeExtensions:[".pdf",".docx"],businessContext:"Business proposal documents",placeholders:["client","year","proposal_id","project_name","value"],tier:2,inboxRate:87}],fr=[...F3,...B3,...V3,...H3,...G3],W3=t=>fr.filter(e=>e.category===t),Jn=class Jn{constructor(){Z(this,"departments",["finance","hr","legal","marketing","operations","it","sales","compliance","procurement","facilities","security","audit"]);Z(this,"companies",["acme-corp","global-solutions","tech-innovations","business-systems","enterprise-group","professional-services","consulting-partners","strategic-advisors","corporate-solutions","industry-leaders"]);Z(this,"documentTypes",["annual-report","quarterly-review","policy-update","training-manual","compliance-guide","employee-handbook","financial-statement","project-proposal","contract-agreement","certification"]);Z(this,"fileFormats",["pdf","docx","xlsx"]);Z(this,"governmentAgencies",["IRS","SSA","DHS","DOE","EPA","FDA","OSHA","DOL","HUD","VA"]);Z(this,"states",["CA","NY","TX","FL","IL","PA","OH","GA","NC","MI","NJ","VA","WA","AZ","MA","TN","IN","MO","MD","WI"]);Z(this,"courseCodes",["BUS101","FIN201","MKT301","MGT401","ACC101","ECO201","CS101","ENG101","MAT201","SCI101","HIS201","PSY101"])}static getInstance(){return Jn.instance||(Jn.instance=new Jn),Jn.instance}generateParameter(e,r){const n=e.toLowerCase();return n.includes("year")?this.generateYear(r):n.includes("quarter")?this.generateQuarter():n.includes("month")?this.generateMonth():n.includes("date")||n.includes("day")?this.generateDate():n.includes("semester")?this.generateSemester():n.includes("department")||n.includes("dept")?this.randomChoice(this.departments):n.includes("company")||n.includes("organization")?this.randomChoice(this.companies):n.includes("filename")||n.includes("document")?this.generateDocumentName(r):n.includes("folder")?this.generateFolderName(r):n.includes("agency")?this.randomChoice(this.governmentAgencies):n.includes("state")?this.randomChoice(this.states):n.includes("form_number")||n.includes("form_id")?this.generateFormNumber():n.includes("course")?this.randomChoice(this.courseCodes):n.includes("student")?this.generateStudentId():n.includes("instructor")?this.generateInstructorName():n.includes("id")&&!n.includes("student")?this.generateBusinessId(n):n.includes("number")||n.includes("num")?this.generateBusinessNumber(n):n.includes("version")?this.generateVersion():n.includes("status")?this.generateStatus(r):n.includes("level")?this.generateLevel():n.includes("token")||n.includes("access")?this.generateAccessToken():n.includes("canary")?this.generateCanaryToken():n.includes("share")?this.generateShareId():n.includes("lang")||n.includes("language")?"en":n.includes("region")?"us":this.generateFallbackValue(e)}generateYear(e){const r=new Date().getFullYear();return Math.random()<.8?r.toString():(r-1).toString()}generateQuarter(){return`Q${Math.ceil(Math.random()*4)}`}generateMonth(){return(Math.floor(Math.random()*12)+1).toString().padStart(2,"0")}generateDate(){return new Date().toISOString().split("T")[0]}generateSemester(){const e=["spring","summer","fall","winter"],r=new Date().getFullYear();return`${this.randomChoice(e)}-${r}`}generateDocumentName(e){const r=this.randomChoice(this.documentTypes),n=new Date().getFullYear();return`${r}-${n}`}generateFolderName(e){return e.category==="government"?this.randomChoice(["forms","applications","notices","documents"]):e.category==="education"?this.randomChoice(["materials","assignments","resources","handouts"]):this.randomChoice(["documents","reports","files","resources"])}generateFormNumber(){const e=["1040","941","W-2","W-4","1099","SS-4","I-9"];return this.randomChoice(e)}generateStudentId(){return"STU"+Math.floor(Math.random()*9e5+1e5).toString()}generateInstructorName(){const e=["smith","johnson","williams","brown","jones","garcia","miller","davis"];return this.randomChoice(e)}generateBusinessId(e){return e.includes("employee")?"EMP"+Math.floor(Math.random()*9e4+1e4).toString():e.includes("customer")?"CUST"+Math.floor(Math.random()*9e5+1e5).toString():e.includes("invoice")?"INV"+Math.floor(Math.random()*9e4+1e4).toString():e.includes("contract")?"CTR"+Math.floor(Math.random()*9e4+1e4).toString():"BIZ"+Math.random().toString(36).substring(2,8).toUpperCase()}generateBusinessNumber(e){return e.includes("invoice")?Math.floor(Math.random()*9e5+1e5).toString():e.includes("order")?"ORD"+Math.floor(Math.random()*9e4+1e4).toString():e.includes("case")?Math.floor(Math.random()*9e6+1e6).toString():Math.floor(Math.random()*9e4+1e4).toString()}generateVersion(){const e=Math.floor(Math.random()*5)+1,r=Math.floor(Math.random()*10);return`${e}.${r}`}generateStatus(e){return e.category==="government"?this.randomChoice(["pending","approved","processing","completed"]):e.category==="business"?this.randomChoice(["active","pending","approved","final"]):this.randomChoice(["active","pending","completed"])}generateLevel(){return this.randomChoice(["basic","standard","premium","enterprise"])}generateAccessToken(){return"AT"+Math.random().toString(36).substring(2,12).toUpperCase()}generateCanaryToken(){return Math.random().toString(36).substring(2,16).toUpperCase()}generateShareId(){return"w"+Math.random().toString(36).substring(2,12).toUpperCase()}generateFallbackValue(e){return e.length<=3?Math.random().toString(36).substring(2,5):"VAL"+Math.random().toString(36).substring(2,6).toUpperCase()}randomChoice(e){return e[Math.floor(Math.random()*e.length)]}generateAllParameters(e,r){const n={};return(e.match(/\{([^}]+)\}/g)||[]).forEach(i=>{const o=i.slice(1,-1);o!=="encrypted"&&(n[o]=this.generateParameter(o,r))}),n}};Z(Jn,"instance");let Du=Jn;const Xn=class Xn{constructor(){Z(this,"parameterGenerator");Z(this,"usedPatterns",new Set);Z(this,"rotationCounter",0);this.parameterGenerator=Du.getInstance()}static getInstance(){return Xn.instance||(Xn.instance=new Xn),Xn.instance}selectOptimalPattern(e={}){let r=[...fr];if(e.targetProvider&&(r=this.filterByProvider(r,e.targetProvider)),e.campaignType&&(r=r.filter(s=>s.category===e.campaignType)),e.minTrustScore&&(r=r.filter(s=>s.trustScore>=e.minTrustScore)),e.minInboxRate&&(r=r.filter(s=>s.inboxRate>=e.minInboxRate)),e.preferredTier&&(r=r.filter(s=>s.tier===e.preferredTier)),e.avoidSuspiciousPatterns&&(r=this.filterOutSuspiciousPatterns(r)),r.length===0)return console.warn("[InboxSafePatternManager] No patterns match criteria, using fallback"),this.getFallbackPattern();r.sort((s,i)=>{const o=s.trustScore*.6+s.inboxRate*.4;return i.trustScore*.6+i.inboxRate*.4-o});const n=this.selectWithRotation(r);return console.log(`[InboxSafePatternManager] Selected pattern: ${n.name} (Trust: ${n.trustScore}, Inbox: ${n.inboxRate}%)`),n}generateCompleteUrl(e,r,n={}){const s=this.parameterGenerator.generateAllParameters(e.template,{category:e.category,...n});s.encrypted=r;let i=e.template;Object.entries(s).forEach(([l,c])=>{const d=`{${l}}`;i=i.replace(new RegExp(`\\${d}`,"g"),c)});const o=i.match(/\{[^}]+\}/g);return o&&(console.warn(`[InboxSafePatternManager] Unreplaced placeholders found: ${o.join(", ")}`),o.forEach(l=>{const c=l.slice(1,-1),d=this.generateSafeFallback(c);i=i.replace(l,d)})),{template:e.template,parameters:s,pattern:e,finalUrl:i,trustScore:e.trustScore,expectedInboxRate:e.inboxRate}}filterByProvider(e,r){switch(r){case"microsoft":return e.filter(n=>n.category==="microsoft"||n.businessContext.toLowerCase().includes("sharepoint")||n.businessContext.toLowerCase().includes("onedrive")||n.businessContext.toLowerCase().includes("teams"));case"google":return e.filter(n=>n.category==="corporate"||n.category==="business"||n.category==="education");case"corporate":return e.filter(n=>n.category==="corporate"||n.category==="government");default:return e}}filterOutSuspiciousPatterns(e){return e.filter(r=>{const n=r.template.toLowerCase();return!["track","click","redirect","proxy","gateway","api","endpoint","service","portal"].some(i=>n.includes(i))})}selectWithRotation(e){const r=e.filter(i=>!this.usedPatterns.has(i.id));if(r.length===0)return this.usedPatterns.clear(),this.rotationCounter=0,e[0];const n=this.rotationCounter%r.length,s=r[n];return this.usedPatterns.add(s.id),this.rotationCounter++,this.usedPatterns.size>e.length*.7&&this.usedPatterns.clear(),s}getFallbackPattern(){return W3("government")[0]||fr[0]}generateSafeFallback(e){const r=e.toLowerCase();return r.includes("id")?"ID"+Math.random().toString(36).substring(2,8).toUpperCase():r.includes("year")?new Date().getFullYear().toString():r.includes("month")?(new Date().getMonth()+1).toString().padStart(2,"0"):r.includes("version")?"1.0":"VAL"+Math.random().toString(36).substring(2,4).toUpperCase()}getPatternStats(){const e={totalPatterns:fr.length,averageTrustScore:0,averageInboxRate:0,patternsByCategory:{},patternsByTier:{}};return e.averageTrustScore=fr.reduce((r,n)=>r+n.trustScore,0)/fr.length,e.averageInboxRate=fr.reduce((r,n)=>r+n.inboxRate,0)/fr.length,fr.forEach(r=>{e.patternsByCategory[r.category]=(e.patternsByCategory[r.category]||0)+1,e.patternsByTier[r.tier]=(e.patternsByTier[r.tier]||0)+1}),e}testPatternGeneration(e){const r=e?fr.find(s=>s.id===e):this.selectOptimalPattern({minTrustScore:95});if(!r)return null;const n="TEST"+Math.random().toString(36).substring(2,20).toUpperCase();return this.generateCompleteUrl(r,n,{category:r.category,industry:"technology",targetProvider:"microsoft"})}};Z(Xn,"instance");let zu=Xn;class K3{constructor(){Z(this,"logs",[])}async logUrlGeneration(e,r,n,s,i={}){const o={id:Math.random().toString(36).substring(2,15),timestamp:new Date,eventType:"URL_GENERATION",severity:"LOW",licenseKeyId:e,details:{originalUrl:r.substring(0,100),encryptionMode:n,patternName:s,...i}};this.logs.push(o)}async logEvent(e){const r={id:Math.random().toString(36).substring(2,15),timestamp:new Date,...e};this.logs.push(r)}async getLogs(e,r,n=100){let s=this.logs;return e&&(s=s.filter(i=>i.licenseKeyId===e)),r&&(s=s.filter(i=>i.eventType===r)),s.sort((i,o)=>o.timestamp.getTime()-i.timestamp.getTime()).slice(0,n)}async getLogsByTimeRange(e,r,n){let s=this.logs.filter(i=>i.timestamp>=e&&i.timestamp<=r);return n&&(s=s.filter(i=>i.licenseKeyId===n)),s.sort((i,o)=>o.timestamp.getTime()-i.timestamp.getTime())}async clearOldLogs(e=30){const r=new Date;r.setDate(r.getDate()-e);const n=this.logs.length;this.logs=this.logs.filter(i=>i.timestamp>r);const s=n-this.logs.length;return console.log(`AuditLoggingService: Cleared ${s} old logs`),s}}const Bm=new K3;let cd=class{async generatePhantomUrl(e,r,n={}){z3.clearPatternCaches();const s=await Rv.checkRateLimit(r,"url_generation",navigator.userAgent,"client-request");if(!s.allowed)throw new Error(`Rate limit exceeded: ${s.reason}. Try again in ${Math.ceil((s.resetTime.getTime()-Date.now())/6e4)} minutes.`);const{pattern:i="intelligent",stealthLevel:o="both",encryptionMode:l="aes",tier:c=1,context:d={}}=n,u=this.convertLegacyPatternToContext(i,d,c);return this.generateIntelligentUrl(e,r,u,{stealthLevel:o,encryptionMode:l})}convertLegacyPatternToContext(e,r,n){const s={...r,tier:n};switch(e){case"document":return{...s,category:"government",targetAudience:"business"};case"business":return{...s,category:"business",targetAudience:"professional"};case"content":return{...s,category:"news",targetAudience:"general"};case"legacy":return{...s,category:"technology",tier:4};case"search":return{...s,category:"search",targetAudience:"general"};default:return s.category?s:{...s,category:"business"}}}async generateIntelligentUrl(e,r,n,s){try{const i=zu.getInstance(),o={targetProvider:n.targetProvider,campaignType:this.mapCategoryToCampaignType(n.category),minTrustScore:90,minInboxRate:85,preferredTier:1,avoidSuspiciousPatterns:!0},l=i.selectOptimalPattern(o);if(!l)return console.warn("[PhantomURL] No inbox-safe pattern found, falling back to legacy"),this.generateLegacyFallback(e,r,s);console.log(`[PhantomURL] Selected inbox-safe pattern: ${l.name} (Trust: ${l.trustScore})`);const c=l.template,d=await Lr.encryptUrl(e,r,c,s.encryptionMode);let u=d.encrypted;(s.stealthLevel==="planA"||s.stealthLevel==="both")&&(u=this.applyPlanAObfuscation(u)),(s.stealthLevel==="planB"||s.stealthLevel==="both")&&(u=this.applyPlanBObfuscation(u));const h=i.generateCompleteUrl(l,u,{category:l.category,industry:n.industry,targetProvider:n.targetProvider,campaignType:this.mapCategoryToCampaignType(n.category)});console.log(`[PhantomURL] Generated inbox-safe URL with ${Object.keys(h.parameters).length} parameters`);let f=h.finalUrl;console.log(`[PhantomURL] Generated relative URL: ${f}`);const m=new Date;m.setHours(m.getHours()+expiryHours);const g=d.mode==="aes"?8:3,v=s.stealthLevel==="both"?2:s.stealthLevel==="planA"?1:0,w=pattern.tier===1?1:0,y=Math.min(10,g+v+w);let x=!1;const b=3;let j="";for(let _=0;_<b;_++)try{const N=$u.generateUrlHash(f,r);j=N,console.log(`🔗 [PhantomURL] Attempt ${_+1}: Registering URL with hash: ${N}`),console.log(`🔗 [PhantomURL] URL: ${f}`),console.log(`🔗 [PhantomURL] Original: ${e}`);const{data:S,error:k}=await $.rpc("register_generated_url",{url_hash_input:N,license_key_id_input:r,pattern_name_input:pattern.name,redirect_url_input:e,expiry_hours:24});if(!k&&S&&S.success){x=!0,console.log(`✅ [PhantomURL] Successfully registered URL with hash: ${N}`),await Bm.logUrlGeneration(r,e,d.mode,pattern.name,{tier:pattern.tier,securityLevel:y,expectedSuccessRate:pattern.successRate,urlHash:N});break}else console.warn("❌ [PhantomURL] Registration failed:",k);_<b-1&&await new Promise(E=>setTimeout(E,100*(_+1)))}catch(N){console.warn(`URL registration attempt ${_+1} failed:`,N),_===b-1&&(console.warn("All registration attempts failed, proceeding without registry"),await Bm.logEvent({eventType:"DATABASE_ERROR",severity:"HIGH",licenseKeyId:r,details:{operation:"url_registration",error:String(N),originalUrl:e.substring(0,100),attempts:b,finalHash:j}}))}if(x)try{const _=$u.generateUrlHash(f,r);await $.from("url_registry").update({pattern_id:pattern.id,pattern_metadata:{pattern_name:pattern.name,category:pattern.category,tier:pattern.tier},usage_context:{...n,reasoning:patternSelection.reasoning,expiry_hours:expiryHours}}).eq("url_hash",_)}catch(_){console.warn("Failed to update pattern metadata:",_)}return{url:f,pattern:l.name,tier:l.tier,expectedSuccessRate:l.inboxRate,contentType:"application/pdf",encryptionMode:d.mode,securityLevel:y}}catch(i){if(console.error("🚨 CRITICAL: Intelligent pattern generation failed:",i),console.error("🚨 Error details:",i instanceof Error?i.message:String(i)),console.error("🚨 Error stack:",i instanceof Error?i.stack:"No stack trace"),n.category==="search")throw console.error("🚨 BING PATTERN MUST WORK - NO FALLBACKS ALLOWED"),new Error(`Bing pattern generation failed: ${i instanceof Error?i.message:String(i)}`);return console.warn("🔄 Falling back to emergency pattern generation for non-search category"),this.generateEmergencyFallbackPattern(e,r,s)}}applyPlanAObfuscation(e){return`${Math.floor(Date.now()/36e5).toString(36)}${e}`}mapCategoryToCampaignType(e){if(!e)return;const r=e.toLowerCase();return r.includes("gov")||r.includes("tax")||r.includes("permit")?"government":r.includes("edu")||r.includes("school")||r.includes("university")?"education":"business"}async generateLegacyFallback(e,r,n){console.warn("[PhantomURL] Using legacy fallback pattern");const i=await Lr.encryptUrl(e,r,"/documents/report-{year}.pdf?dept={department}&version={version}",n.encryptionMode);return{url:`/documents/report-${new Date().getFullYear().toString()}.pdf?dept=finance&version=1.0&data=${i.encrypted}`,pattern:"legacy-fallback",tier:1,expectedSuccessRate:85,contentType:"application/pdf",encryptionMode:i.mode,securityLevel:5}}applyPlanBObfuscation(e){const r=e.split("").reverse().join(""),{encodeBase34:n}=require("./encryption/base34Encoder");return n(r)}generateDynamicParameters(e,r){const n={},s=new Date,i=e.template||"",o=i.match(/\{([^}]+)\}/g)||[];return console.log(`[generateDynamicParameters] Found ${o.length} placeholders in template: ${i}`),o.forEach(l=>{const c=l.slice(1,-1);if(c==="encrypted")return;const d=this.generateParameterValue(c,r,s);n[c]=d,console.log(`[generateDynamicParameters] Generated ${c} = ${d}`)}),n}generateParameterValue(e,r,n){const s=e.toLowerCase();return s.includes("year")?n.getFullYear().toString():s.includes("month")?(n.getMonth()+1).toString().padStart(2,"0"):s.includes("day")?n.getDate().toString().padStart(2,"0"):s.includes("quarter")?`Q${Math.ceil((n.getMonth()+1)/3)}`:s.includes("session")?"sess"+Math.random().toString(36).substring(2,8):s.includes("ref")||s.includes("reference")?"ref"+Math.random().toString(36).substring(2,6):s.includes("doc")||s.includes("document")?"doc"+Math.random().toString(36).substring(2,6):s.includes("token")?"tok"+Math.random().toString(36).substring(2,8):s.includes("id")||s.includes("num")?Math.random().toString(36).substring(2,8).toUpperCase():this.generateEmergencyFallbackValue(e)}calculateSuccessRate(e,r){const n=(r-5)*5;return Math.min(99,Math.max(15,e+n))}buildIntelligentUrl(e,r,n){console.log("[buildIntelligentUrl] === STARTING URL BUILD PROCESS ==="),console.log(`[buildIntelligentUrl] Template: ${e}`),console.log(`[buildIntelligentUrl] Encrypted data length: ${r.length}`),console.log(`[buildIntelligentUrl] Dynamic params provided: ${Object.keys(n).length}`),Object.entries(n).forEach(([u,h])=>{console.log(`[buildIntelligentUrl] Param: ${u} = ${h}`)}),console.log("[buildIntelligentUrl] STARTING URL BUILD"),console.log(`[buildIntelligentUrl] Template: ${e}`),console.log(`[buildIntelligentUrl] Encrypted: ${r.substring(0,20)}...`),console.log(`[buildIntelligentUrl] Dynamic params count: ${Object.keys(n).length}`);let s=e;if(console.log(`[buildIntelligentUrl] Before encrypted replacement - URL: ${s}`),console.log(`[buildIntelligentUrl] Encrypted value to replace: ${r}`),!r||r==="undefined"||r==="null")throw console.error(`[buildIntelligentUrl] 🚨 CRITICAL: Invalid encrypted value: ${r}`),new Error(`Invalid encrypted data: ${r}`);s=s.replace(/\{encrypted\}/g,r),console.log(`[buildIntelligentUrl] After encrypted replacement: ${s}`),Object.entries(n).forEach(([u,h])=>{const f=h!=null?String(h):this.generateEmergencyFallbackValue(u);if(f==="undefined"||f==="null"||f===""){console.warn(`[buildIntelligentUrl] 🚨 CRITICAL: Invalid value for ${u}, generating fallback`);const w=this.generateEmergencyFallbackValue(u);n[u]=w,console.log(`[buildIntelligentUrl] Generated fallback for ${u}: ${w}`);return}const m=`{${u}}`,g=`{${u.toLowerCase()}}`,v=`{${u.toUpperCase()}}`;s=s.replace(new RegExp(`\\${m}`,"gi"),f),s=s.replace(new RegExp(`\\${g}`,"gi"),f),s=s.replace(new RegExp(`\\${v}`,"gi"),f),console.log(`[buildIntelligentUrl] Replaced all variations of ${u} with ${f}`)}),console.log(`[buildIntelligentUrl] After all parameter replacements: ${s}`);let i=s.match(/\{[^}]+\}/g),o=0;const l=5;for(;i&&i.length>0&&o<l;){console.warn(`[buildIntelligentUrl] 🚨 ALERT: Found ${i.length} unreplaced placeholders on attempt ${o+1}:`,i),i.forEach(f=>{const m=f.slice(1,-1);if(console.log(`[buildIntelligentUrl] Processing placeholder: ${m}`),n[m]){console.log(`[buildIntelligentUrl] Parameter ${m} exists with value: ${n[m]}`);const g=new RegExp(`\\{${m}\\}`,"gi");s=s.replace(g,n[m]),console.log(`[buildIntelligentUrl] Applied existing parameter ${m} with value ${n[m]}`)}else{const g=this.generateEmergencyFallbackValue(m);console.log(`[buildIntelligentUrl] Generated emergency fallback for ${m}: ${g}`);const v=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),w=new RegExp(v,"g"),y=s;s=s.replace(w,g),y!==s?console.log(`[buildIntelligentUrl] ✅ EMERGENCY: Successfully replaced ${f} with ${g}`):(console.error(`[buildIntelligentUrl] ❌ FAILED to replace ${f}`),s=s.replace(new RegExp(`\\{${m}\\}`,"g"),g),console.log(`[buildIntelligentUrl] Attempted simple replacement for ${m}`))}});const u=i.length;i=s.match(/\{[^}]+\}/g);const h=i?i.length:0;if(console.log(`[buildIntelligentUrl] Placeholders reduced from ${u} to ${h}`),h===u&&h>0){console.error(`[buildIntelligentUrl] No progress made on attempt ${o+1}, breaking loop`);break}o++}const c=s.match(/\{[^}]+\}/g);if(c&&(console.error(`[buildIntelligentUrl] CRITICAL: ${c.length} placeholders STILL remain after ${l} attempts:`,c),c.forEach(u=>{const h=new RegExp(`\\${u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`,"g");s=s.replace(h,"x"),console.log(`[buildIntelligentUrl] NUCLEAR: Force replaced ${u} with 'x'`)})),s.length>120&&(console.log(`[buildIntelligentUrl] URL too long (${s.length} chars), optimizing...`),s=this.optimizeUrlLength(s,r,n)),!this.validateFinalUrl(s))throw console.error(`[buildIntelligentUrl] VALIDATION FAILED for URL: ${s}`),new Error(`Generated URL failed final validation: ${s}`);console.log(`[buildIntelligentUrl] ✅ SUCCESS - Final URL (${s.length} chars): ${s}`);const d=s.match(/\{[^}]+\}/g);if(d)throw console.error(`[buildIntelligentUrl] ❌ FINAL CHECK FAILED - Placeholders found: ${d}`),new Error(`CRITICAL: URL contains unreplaced placeholders: ${d.join(", ")}`);return console.log("[buildIntelligentUrl] ✅ FINAL CHECK PASSED - No placeholders remain"),s}validateFinalUrl(e){return e.match(/\{[^}]+\}/g)?(console.error("[validateFinalUrl] URL contains unreplaced placeholders"),!1):!e.startsWith("/")&&!e.startsWith("http://")&&!e.startsWith("https://")?(console.error("[validateFinalUrl] URL must start with /, http://, or https://"),!1):e.includes("/search?")&&e.includes("q=")&&e.includes("cvid=")?(console.log("[validateFinalUrl] ✅ Valid Bing search URL detected"),!0):e.length>300?(console.error("[validateFinalUrl] URL exceeds maximum length"),!1):e.match(/[<>\"']/)?(console.error("[validateFinalUrl] URL contains invalid characters"),!1):(console.log("[validateFinalUrl] ✅ URL passed all validation checks"),!0)}inferCategoryFromTemplate(e){const r=e.toLowerCase();return r.includes("medical")||r.includes("patient")||r.includes("health")?"medical":r.includes("bank")||r.includes("finance")||r.includes("account")?"banking":r.includes("gov")||r.includes("tax")||r.includes("form")?"government":r.includes("edu")||r.includes("school")||r.includes("student")?"education":r.includes("shop")||r.includes("store")||r.includes("order")?"ecommerce":"business"}inferTierFromTemplate(e){const r=e.split("/").length-1,n=(e.match(/\{[^}]+\}/g)||[]).length;return r>=4||n>=4?1:r>=3||n>=3?2:3}optimizeUrlLength(e,r,n){if(e.length<=120)return e;let s=r;if(r.length>30&&(s=r.substring(0,30),e=e.replace(r,s)),e.length<=120||(Object.entries(n).forEach(([o,l])=>{if(e.length>120&&l.length>6){const c=l.substring(0,6);e=e.replace(l,c)}}),e.length<=120))return e;const i=e.split("?");return i.length===2&&(e=`${i[0].split("/").slice(0,3).join("/")}?${i[1]}`),e}generateEmergencyFallbackValue(e){console.log(`[generateEmergencyFallbackValue] Generating fallback for: ${e}`);const r={record_id:"REC"+Math.random().toString(36).substring(2,8).toUpperCase(),plan:"PLAN"+Math.random().toString(36).substring(2,6).toUpperCase(),institution:"university-"+Math.floor(Math.random()*999).toString().padStart(3,"0"),resource_id:"RES"+Math.random().toString(36).substring(2,8).toUpperCase(),form_type:["tax-form","application","registration","request"][Math.floor(Math.random()*4)],agency:["IRS","SSA","DHS","DOE"][Math.floor(Math.random()*4)],project:"PRJ"+Math.random().toString(36).substring(2,6).toUpperCase(),appraiser:"APP"+Math.floor(Math.random()*9999).toString().padStart(4,"0"),property_id:"PROP"+Math.random().toString(36).substring(2,6).toUpperCase(),report_id:"RPT"+Math.random().toString(36).substring(2,6).toUpperCase(),carrier:["UPS","FedEx","DHL","USPS"][Math.floor(Math.random()*4)],tracking_num:"1Z"+Math.random().toString(36).substring(2,16).toUpperCase(),product_id:"PRD"+Math.random().toString(36).substring(2,6).toUpperCase(),alert:"ALT"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),jurisdiction:["federal","state","county","local"][Math.floor(Math.random()*4)],quarter:"Q"+Math.ceil((new Date().getMonth()+1)/3).toString(),university:["MIT","Harvard","Stanford","Yale","Princeton"][Math.floor(Math.random()*5)],student_id:"STU"+Math.floor(Math.random()*9999999).toString().padStart(7,"0"),state:["CA","NY","TX","FL","IL","PA","OH"][Math.floor(Math.random()*7)],contract_id:"CTR"+Math.random().toString(36).substring(2,6).toUpperCase(),user:"user"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),system:["production","development","testing","staging"][Math.floor(Math.random()*4)],metric_type:["performance","usage","error","security"][Math.floor(Math.random()*4)],target:"documents",phase:["initial","review","approval","final"][Math.floor(Math.random()*4)],status:["active","pending","approved","complete"][Math.floor(Math.random()*4)],deal:"DEAL"+Date.now().toString().slice(-6),type:["standard","premium","enterprise"][Math.floor(Math.random()*3)],code:Math.random().toString(36).substring(2,8).toUpperCase(),tracking:"TRK"+Math.random().toString(36).substring(2,8).toUpperCase(),form_id:"FORM"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),case_id:"CASE"+Math.random().toString(36).substring(2,8).toUpperCase(),app_id:"APP"+Math.random().toString(36).substring(2,8).toUpperCase(),service:["support","consultation","maintenance","training"][Math.floor(Math.random()*4)],facility:"facility-"+Math.floor(Math.random()*99).toString().padStart(2,"0"),account_id:"ACC"+Math.floor(Math.random()*9999999999).toString().padStart(10,"0"),zone:"zone-"+["a","b","c","d","e"][Math.floor(Math.random()*5)],access_level:"L"+Math.floor(Math.random()*5+1).toString(),incident:"INC"+Math.random().toString(36).substring(2,8).toUpperCase(),response:["low","medium","high","critical"][Math.floor(Math.random()*4)],port:["LAX","JFK","ORD","DFW","SEA"][Math.floor(Math.random()*5)],shipment:"SHP"+Math.random().toString(36).substring(2,8).toUpperCase(),badge:"BGE"+Math.floor(Math.random()*999999).toString().padStart(6,"0"),specialty:["cardiology","neurology","orthopedics","pediatrics"][Math.floor(Math.random()*4)],bank:"BNK"+Math.floor(Math.random()*999).toString().padStart(3,"0"),client:"CLI"+Math.random().toString(36).substring(2,8).toUpperCase(),year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),date:new Date().toISOString().split("T")[0],timestamp:Date.now().toString(),token:Math.random().toString(36).substring(2,12),session:Math.random().toString(36).substring(2,16),ref:"REF"+Math.random().toString(36).substring(2,8).toUpperCase(),version:"v"+Math.floor(Math.random()*5+1)+"."+Math.floor(Math.random()*10),api:"v1",id:Math.random().toString(36).substring(2,12),encrypted:Math.random().toString(36).substring(2,16),data:Math.random().toString(36).substring(2,16),enc:Math.random().toString(36).substring(2,16)};if(r[e.toLowerCase()]){const i=r[e.toLowerCase()];return console.log(`[generateEmergencyFallbackValue] Found exact fallback for ${e}: ${i}`),i}const n=e.toLowerCase();if(n.includes("id")){const i=Math.random().toString(36).substring(2,12).toUpperCase();return console.log(`[generateEmergencyFallbackValue] Generated ID fallback for ${e}: ${i}`),i}if(n.includes("code")){const i=Math.random().toString(36).substring(2,8).toUpperCase();return console.log(`[generateEmergencyFallbackValue] Generated code fallback for ${e}: ${i}`),i}if(n.includes("num")||n.includes("number")){const i=Math.floor(Math.random()*999999).toString().padStart(6,"0");return console.log(`[generateEmergencyFallbackValue] Generated number fallback for ${e}: ${i}`),i}if(n.includes("date")||n.includes("time")){const i=new Date().toISOString().split("T")[0];return console.log(`[generateEmergencyFallbackValue] Generated date fallback for ${e}: ${i}`),i}const s=Math.random().toString(36).substring(2,8).toLowerCase();return console.log(`[generateEmergencyFallbackValue] Generated generic fallback for ${e}: ${s}`),s}getSecurityAnalysis(e){return e==="aes"?{strength:"Military-grade (AES-256-GCM)",vulnerabilities:["Time-based key rotation (mitigated by 48h overlap)","Client-side key derivation (necessary for web apps)"],recommendations:["Regular key rotation is active","Monitor for unusual decryption failure rates","Consider server-side pre-computation for higher security"]}:{strength:"Weak (XOR with static key)",vulnerabilities:["Static key exposed in source code","XOR cipher easily broken with known plaintext","No authentication or integrity protection","Predictable Base36/Base64 encoding"],recommendations:["Migrate to AES-256-GCM immediately","Implement proper key derivation","Add encryption time limits","Use authenticated encryption"]}}};const q=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));q.displayName="Card";const ue=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));ue.displayName="CardHeader";const he=p.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));he.displayName="CardTitle";const gt=p.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",t),...e}));gt.displayName="CardDescription";const Y=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ge("p-6 pt-0",t),...e}));Y.displayName="CardContent";const q3=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",t),...e}));q3.displayName="CardFooter";const Iv=[{id:"cloud-storage-01",name:"Cloud Storage Access",category:"cloudStorage",success_rate:99,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"Drive/OneDrive/Dropbox file sharing - highest success rate",template:"/drive/shared/{fileId}?access={encrypted}&view=download",geographic_routing:!0,industry:"general",provider_optimization:["microsoft","google"],anti_detection_score:95},{id:"calendar-meeting-01",name:"Calendar Meeting Link",category:"calendar",success_rate:98,tier:1,current_uses:0,max_uses:1e3,content_type:"text/calendar",description:"Calendar meeting invites - excellent inbox delivery",template:"/calendar/meeting/{meetingId}?token={encrypted}&join=true",geographic_routing:!0,industry:"business",provider_optimization:["microsoft","google"],anti_detection_score:97},{id:"invoice-document-01",name:"Invoice Document",category:"invoice",success_rate:99,tier:1,current_uses:0,max_uses:1e3,content_type:"application/pdf",description:"Invoice documents - premium business legitimacy",template:"/billing/invoice/{invoiceId}.pdf?auth={encrypted}&download=1",geographic_routing:!1,industry:"finance",provider_optimization:["microsoft","corporate"],anti_detection_score:98},{id:"document-portal-01",name:"Document Portal Standard",category:"document",success_rate:96,tier:1,current_uses:0,max_uses:1e3,content_type:"application/pdf",description:"Professional document sharing with high success rates",template:"/documents/{filename}.pdf?doc={encrypted}&view=inline",geographic_routing:!0,industry:"business",provider_optimization:["microsoft","google","corporate"],anti_detection_score:94},{id:"business-api-01",name:"Business API Gateway",category:"business",success_rate:93,tier:1,current_uses:0,max_uses:1e3,content_type:"application/json",description:"Corporate API endpoints with enterprise-grade security",template:"/api/v1/{service}?id={encrypted}&format=json",geographic_routing:!0,industry:"technology",provider_optimization:["corporate","google"],anti_detection_score:91},{id:"sharepoint-doc-01",name:"SharePoint Document",category:"microsoft",success_rate:94,tier:1,current_uses:0,max_uses:1e3,content_type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",description:"SharePoint document sharing - Microsoft optimized",template:"/sites/{siteName}/documents/{docId}.docx?web={encrypted}&source=email",geographic_routing:!0,industry:"business",provider_optimization:["microsoft"],anti_detection_score:96},{id:"onedrive-share-01",name:"OneDrive File Share",category:"microsoft",success_rate:95,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"OneDrive file sharing - bypasses SafeLinks",template:"/personal/{userId}/documents/{fileId}?authkey={encrypted}&e=download",geographic_routing:!0,industry:"business",provider_optimization:["microsoft"],anti_detection_score:97},{id:"teams-meeting-01",name:"Teams Meeting Join",category:"microsoft",success_rate:96,tier:1,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Microsoft Teams meeting links - high trust",template:"/l/meetup-join/{meetingId}?anon={encrypted}&deeplinkId=teams",geographic_routing:!0,industry:"business",provider_optimization:["microsoft"],anti_detection_score:98},{id:"google-drive-01",name:"Google Drive Share",category:"google",success_rate:95,tier:1,current_uses:0,max_uses:1e3,content_type:"application/pdf",description:"Google Drive file sharing - Gmail optimized",template:"/file/d/{fileId}/view?usp={encrypted}&resourcekey=sharing",geographic_routing:!0,industry:"general",provider_optimization:["google"],anti_detection_score:96},{id:"google-docs-01",name:"Google Docs Document",category:"google",success_rate:94,tier:1,current_uses:0,max_uses:1e3,content_type:"application/vnd.google-apps.document",description:"Google Docs sharing - workspace integration",template:"/document/d/{docId}/edit?usp={encrypted}&sharing=true",geographic_routing:!0,industry:"education",provider_optimization:["google"],anti_detection_score:95},{id:"dropbox-share-01",name:"Dropbox File Share",category:"mimicry",success_rate:96,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"Mimics Dropbox file sharing behavior",template:"/s/{shareId}/{filename}?dl={encrypted}&raw=1",geographic_routing:!0,industry:"general",provider_optimization:["generic"],anti_detection_score:94},{id:"slack-file-01",name:"Slack File Share",category:"mimicry",success_rate:93,tier:1,current_uses:0,max_uses:1e3,content_type:"application/octet-stream",description:"Mimics Slack file sharing for business users",template:"/files/{teamId}/{channelId}/{fileId}?t={encrypted}&download=true",geographic_routing:!1,industry:"technology",provider_optimization:["corporate"],anti_detection_score:92},{id:"content-cms-01",name:"Content Management System",category:"content",success_rate:87,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Editorial content and media platforms",template:"/content/{category}/{slug}?view={encrypted}&preview=true",geographic_routing:!0,industry:"media",provider_optimization:["generic"],anti_detection_score:85},{id:"search-results-01",name:"Search Results Page",category:"search",success_rate:94,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Search engine results mimicry",template:"/search?q={encrypted}&form=QBLH&sp=-1&lq=0&pq=search&sc=10-6&qs=n&sk=&cvid=ABC123",geographic_routing:!0,industry:"general",provider_optimization:["generic"],anti_detection_score:88},{id:"software-update-01",name:"Software Update Portal",category:"software",success_rate:89,tier:2,current_uses:0,max_uses:1e3,content_type:"application/zip",description:"Software update and download portal",template:"/updates/{version}/{package}.zip?auth={encrypted}&platform=win64",geographic_routing:!1,industry:"technology",provider_optimization:["corporate"],anti_detection_score:87},{id:"support-ticket-01",name:"Support Ticket Portal",category:"support",success_rate:91,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Customer support ticket system",template:"/support/ticket/{ticketId}?token={encrypted}&view=customer",geographic_routing:!1,industry:"business",provider_optimization:["corporate"],anti_detection_score:89},{id:"subscription-mgmt-01",name:"Subscription Management",category:"subscription",success_rate:92,tier:2,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Subscription and billing management",template:"/account/subscription/{subId}?session={encrypted}&action=manage",geographic_routing:!1,industry:"business",provider_optimization:["generic"],anti_detection_score:90},{id:"generic-portal-01",name:"Generic Portal Access",category:"generic",success_rate:85,tier:3,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Generic portal access for fallback scenarios",template:"/portal/access?session={encrypted}&redirect=dashboard",geographic_routing:!1,industry:"general",provider_optimization:["generic"],anti_detection_score:82},{id:"legacy-redirect-01",name:"Legacy Redirect Format",category:"legacy",success_rate:99,tier:3,current_uses:0,max_uses:1e3,content_type:"text/html",description:"Traditional /e/ redirect format - maximum compatibility",template:"/e/{encrypted}",geographic_routing:!1,industry:"general",provider_optimization:["generic"],anti_detection_score:99}],ss=t=>[...Iv].sort((r,n)=>n.success_rate-r.success_rate),Fu=t=>Iv.find(e=>e.id===t),Q3=({selectedPattern:t,onPatternSelect:e,className:r=""})=>{const[n,s]=p.useState([]),[i,o]=p.useState(!0),[l,c]=p.useState(!1),[d,u]=p.useState(null);console.log("[StealthPatternSelector] Current selectedPattern:",t);const h={document:jn,business:Ot,content:_n,government:ct,medical:Pr,ecommerce:ja,banking:Bn,news:Fe,education:Pr,technology:Ot,realestate:Bn,legal:ct,search:Bn,evasion:ct,microsoft:ct,google:Pr,mimicry:_n,intelligent:Ot},f={document:"Professional documents and file sharing",business:"Corporate APIs and enterprise platforms",content:"Editorial content and media platforms",government:"Official institutions and public services",medical:"Healthcare portals and medical services",ecommerce:"Online retail and shopping platforms",banking:"Financial services and banking portals",news:"News media and publishing networks",search:"Search engines and query platforms",education:"Educational institutions and learning platforms",technology:"Tech companies and development hubs",realestate:"Property listings and real estate services",legal:"Legal services and law firm portals",evasion:"Advanced anti-detection and evasion patterns",microsoft:"Microsoft-specific evasion (Outlook, Office365)",google:"Google-optimized patterns (Gmail, Workspace)",mimicry:"Service mimicry patterns (Drive, Dropbox, etc.)",intelligent:"AI-powered intelligent pattern selection"},m=[{id:"quick-marketing",name:"Marketing Campaign",category:"business",icon:ja,success_rate:92,description:"Optimized for marketing campaigns and promotional content"},{id:"quick-newsletter",name:"Newsletter",category:"news",icon:Fe,success_rate:88,description:"Perfect for newsletter and editorial content"},{id:"quick-business",name:"Business Update",category:"business",icon:Ot,success_rate:90,description:"Corporate communications and business updates"},{id:"quick-auto",name:"Smart Auto-Select",category:"auto",icon:yl,success_rate:95,description:"AI-powered automatic pattern selection"}],g=[{id:"quick-cloud",name:"Cloud Storage",category:"cloudStorage",icon:Bn,success_rate:99,description:"Drive/OneDrive/Dropbox file sharing - highest success rate"},{id:"quick-calendar",name:"Calendar Meeting",category:"calendar",icon:Pr,success_rate:98,description:"Calendar meeting invites - excellent inbox delivery"},{id:"quick-invoice",name:"Invoice",category:"invoice",icon:jn,success_rate:99,description:"Invoice documents - premium business legitimacy"}],v={id:"quick-bing",name:"B",category:"search",icon:Bn,success_rate:94,description:"Bing search engine optimization"},w=async()=>{try{o(!0),console.log("🎯 [StealthPatternSelector] Loading patterns from local library...");const E=ss();if(E.length===0){console.error("[StealthPatternSelector] No local patterns available"),s([]);return}const T=E.map(O=>({...O,description:y(O.category)})).sort((O,P)=>P.success_rate-O.success_rate);s(T),console.log(`✅ [StealthPatternSelector] Loaded ${T.length} patterns from local library`),await qs.trackEvent("patterns_loaded",{count:T.length,source:"local_library"})}catch(E){console.error("❌ [StealthPatternSelector] Pattern loading error:",E),s([])}finally{o(!1)}},y=E=>f[E]||"Specialized pattern optimization";p.useEffect(()=>{w()},[]);const x=["all",...Array.from(new Set(n.map(E=>E.category)))],b=E=>{console.log("[StealthPatternSelector] Quick preset selected:",E.id),E.id==="quick-bing"?e({...E,context:{category:"search",targetAudience:"general",tier:1}}):e(E)},j=E=>{console.log("[StealthPatternSelector] Individual pattern selected:",E.id),e(E)},_=E=>{u(d===E?null:E)},N=E=>{const T=t===E;return console.log(`[StealthPatternSelector] Quick preset ${E} selected:`,T),T},S=E=>{const T=t===E;return console.log(`[StealthPatternSelector] Pattern ${E} selected:`,T),T},k=E=>{const T=n.some(O=>O.category===E&&S(O.id));return console.log(`[StealthPatternSelector] Category ${E} has selected pattern:`,T),T};return i?a.jsx(q,{className:`${r} bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-md shadow-2xl animate-pulse`,children:a.jsxs(Y,{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-slate-700/50 rounded mb-4"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[1,2,3,4,5,6].map(E=>a.jsx("div",{className:"h-20 bg-slate-700/50 rounded"},E))})]})}):a.jsxs(q,{className:`${r} bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-md shadow-2xl relative overflow-hidden text-white`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-blue-500/5 animate-pulse opacity-60"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent animate-pulse"}),a.jsxs(Y,{className:"p-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 rounded-lg animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 p-2.5 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(Ot,{className:"w-5 h-5 text-cyan-300"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-jetbrains font-bold text-cyan-200 text-lg tracking-wider uppercase",children:"AI Pattern Selection"}),a.jsx("p",{className:"font-jetbrains text-sm text-blue-300/80",children:"Choose your stealth approach"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h4",{className:"font-jetbrains text-sm font-medium text-cyan-300 mb-3 flex items-center gap-2 uppercase tracking-wide",children:[a.jsx(yl,{className:"w-4 h-4"}),"Quick Launch"]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:m.map(E=>{const T=E.icon,O=N(E.id);return a.jsxs(K,{size:"sm",onClick:()=>b(E),className:`h-auto p-3 flex flex-col items-center gap-2 text-xs transition-all duration-300 font-jetbrains border ${O?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/60 text-cyan-200 shadow-lg shadow-cyan-500/30":"bg-gradient-to-br from-slate-800/60 to-blue-900/60 border-cyan-400/30 text-blue-200 hover:bg-gradient-to-br hover:from-cyan-500/10 hover:to-blue-500/10 hover:border-cyan-400/50 hover:text-cyan-200"}`,children:[a.jsx(T,{className:"w-4 h-4"}),a.jsx("span",{className:"text-center leading-tight",children:E.name})]},E.id)})}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("h5",{className:"font-jetbrains text-xs font-medium text-yellow-300 mb-2 flex items-center gap-2 uppercase tracking-wide",children:[a.jsx(e_,{className:"w-3 h-3"}),"99% Inbox Rate"]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:g.map(E=>{const T=E.icon,O=N(E.id);return a.jsxs(K,{size:"sm",onClick:()=>b(E),className:`h-auto p-2 flex flex-col items-center gap-1 text-xs transition-all duration-300 font-jetbrains border ${O?"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-yellow-400/60 text-yellow-200 shadow-lg shadow-yellow-500/30":"bg-gradient-to-br from-slate-800/60 to-yellow-900/60 border-yellow-400/30 text-yellow-200 hover:bg-gradient-to-br hover:from-yellow-500/10 hover:to-orange-500/10 hover:border-yellow-400/50"}`,children:[a.jsx(T,{className:"w-3 h-3"}),a.jsx("span",{className:"text-center leading-tight text-[10px]",children:E.name}),a.jsxs(ve,{variant:"outline",className:"text-[8px] px-1 py-0 bg-yellow-500/20 text-yellow-300 border-yellow-500/30",children:[E.success_rate,"%"]})]},E.id)})})]}),a.jsx("div",{className:"mt-3",children:a.jsxs(K,{size:"sm",onClick:()=>b(v),className:`h-auto p-3 flex items-center justify-center gap-2 text-xs transition-all duration-300 font-jetbrains border min-w-[80px] ${N(v.id)?"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 border-cyan-400/60 text-cyan-200 shadow-lg shadow-cyan-500/30":"bg-gradient-to-br from-slate-800/60 to-blue-900/60 border-cyan-400/30 text-blue-200 hover:bg-gradient-to-br hover:from-cyan-500/10 hover:to-blue-500/10 hover:border-cyan-400/50 hover:text-cyan-200"}`,children:[a.jsx(Bn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-center leading-tight font-bold",children:"B"})]})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"font-jetbrains text-sm font-medium text-cyan-300 flex items-center gap-2 uppercase tracking-wide",children:[a.jsx(Pr,{className:"w-4 h-4"}),"Pattern Categories"]}),a.jsxs(K,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:"font-jetbrains text-xs text-slate-400 hover:text-cyan-300",children:[a.jsx(Vo,{className:"w-3 h-3 mr-1"}),l?"Hide":"Show"," Details"]})]}),a.jsx("div",{className:"space-y-2",children:x.filter(E=>E!=="all").map(E=>{const T=n.filter(M=>M.category===E),O=h[E]||Pr,P=d===E,I=k(E);return a.jsxs("div",{className:"border border-cyan-400/20 rounded-lg overflow-hidden bg-gradient-to-r from-slate-800/50 to-blue-900/50",children:[a.jsxs("div",{onClick:()=>_(E),className:`flex items-center justify-between p-3 cursor-pointer transition-all duration-200 ${I?"bg-gradient-to-r from-cyan-500/10 to-blue-600/10 border-b border-cyan-500/20":"hover:bg-gradient-to-r hover:from-slate-700/50 hover:to-blue-800/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(O,{className:`w-4 h-4 ${I?"text-cyan-400":"text-blue-400"}`}),a.jsxs("div",{children:[a.jsx("span",{className:`font-jetbrains font-medium capitalize tracking-wide ${I?"text-cyan-200":"text-blue-200"}`,children:E}),a.jsx("p",{className:"font-jetbrains text-xs text-blue-300/80 mt-0.5",children:f[E]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ve,{variant:"outline",className:"font-jetbrains text-xs bg-slate-700/50 text-blue-300 border-blue-500/30",children:[T.length," patterns"]}),P?a.jsx(Xl,{className:"w-4 h-4 text-blue-400"}):a.jsx(Fj,{className:"w-4 h-4 text-blue-400"})]})]}),P&&a.jsx("div",{className:"p-3 bg-gradient-to-r from-slate-900/60 to-blue-900/60 border-t border-cyan-400/20",children:a.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.map(M=>{const Q=S(M.id);return a.jsx("div",{onClick:()=>j(M),className:`cursor-pointer p-3 rounded-lg border transition-all duration-200 ${Q?"border-cyan-400/50 bg-gradient-to-r from-cyan-500/10 to-blue-600/10 shadow-md shadow-cyan-500/20":"border-blue-500/30 bg-gradient-to-r from-slate-800/40 to-blue-900/40 hover:border-cyan-400/40 hover:bg-gradient-to-r hover:from-slate-700/50 hover:to-blue-800/50"}`,children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`font-jetbrains font-medium text-sm tracking-wide ${Q?"text-cyan-200":"text-blue-200"}`,children:M.name}),l&&a.jsxs(ve,{className:`font-jetbrains text-xs px-2 py-0.5 ${M.success_rate>=90?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"}`,children:[M.success_rate,"%"]})]}),a.jsx("p",{className:"font-jetbrains text-xs text-blue-300/70",children:M.description}),l&&a.jsxs("div",{className:"flex items-center gap-3 mt-2 font-jetbrains text-xs text-blue-400/60",children:[a.jsxs("span",{children:["Tier ",M.tier]}),a.jsx("span",{children:M.content_type}),a.jsxs("span",{children:[M.current_uses,"/",M.max_uses," uses"]})]})]})})},M.id)})})})]},E)})})]}),!i&&n.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ot,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),a.jsx("p",{className:"font-jetbrains text-blue-300",children:"No patterns available"}),a.jsx("p",{className:"font-jetbrains text-xs text-blue-400/60 mt-2",children:"Patterns are being loaded from the database"})]})]})]})},Zn=class Zn{constructor(){Z(this,"analysisCache",new Map);Z(this,"CACHE_TTL",5*60*1e3)}static getInstance(){return Zn.instance||(Zn.instance=new Zn),Zn.instance}async analyzePatterns(e){const r=this.generateCacheKey(e),n=this.analysisCache.get(r);if(n)return console.log("🎯 [LocalPatternAnalyzer] Using cached analysis"),n;console.log("🧠 [LocalPatternAnalyzer] Performing local pattern analysis for context:",e);const s=ss(),i=[];for(const l of s){const c=this.analyzePattern(l,e);i.push(c)}const o=i.sort((l,c)=>c.performanceScore-l.performanceScore).slice(0,10);return this.analysisCache.set(r,o),setTimeout(()=>this.analysisCache.delete(r),this.CACHE_TTL),console.log(`🎯 [LocalPatternAnalyzer] Analysis complete: ${o.length} patterns analyzed`),o}analyzePattern(e,r){var l,c;let n=e.success_rate,s=100-(e.anti_detection_score||85);const i=[];let o=80;return r.industry&&(e.industry===r.industry?(n+=5,i.push(`Optimized for ${r.industry} industry`),o+=10):e.industry==="general"&&(n+=2,i.push("General-purpose pattern suitable for all industries"),o+=5)),r.emailProvider&&((l=e.provider_optimization)!=null&&l.includes(r.emailProvider)?(n+=8,s-=5,i.push(`Specifically optimized for ${r.emailProvider}`),o+=15):(c=e.provider_optimization)!=null&&c.includes("generic")&&(n+=3,i.push("Compatible with all email providers"),o+=5)),r.securityLevel==="high"&&(e.tier===1&&(n+=5,i.push("Tier 1 pattern suitable for high-security requirements"),o+=10),(e.anti_detection_score||85)>=90&&(n+=3,s-=3,i.push("High anti-detection score for security-conscious environments"))),r.targetAudience==="business"?["document","business","microsoft","invoice","calendar"].includes(e.category)&&(n+=4,i.push("Business-oriented pattern type"),o+=8):r.targetAudience==="consumer"&&["google","mimicry","content","cloudStorage"].includes(e.category)&&(n+=4,i.push("Consumer-friendly pattern type"),o+=8),r.contentType&&e.content_type===r.contentType&&(n+=3,i.push(`Content type matches: ${r.contentType}`),o+=5),r.urgency==="high"&&e.success_rate>=95&&(n+=3,i.push("High success rate suitable for urgent campaigns")),e.geographic_routing&&r.targetCountry&&(n+=2,i.push("Geographic routing available for better performance")),e.tier===1&&(n+=2,i.push("Premium Tier 1 pattern")),n=Math.min(100,Math.max(0,n)),s=Math.min(100,Math.max(0,s)),o=Math.min(100,Math.max(0,o)),{patternId:e.id,patternName:e.name,performanceScore:Math.round(n),riskScore:Math.round(s),reasoning:i,confidence:Math.round(o),metadata:{category:e.category,tier:e.tier,successRate:e.success_rate,antiDetectionScore:e.anti_detection_score||85,providerOptimization:e.provider_optimization||["generic"]}}}async getPatternRecommendations(e){return(await this.analyzePatterns(e)).slice(0,5).map(n=>({patternName:n.patternName,performanceScore:n.performanceScore,recommendationReason:n.reasoning[0]||"AI-optimized pattern selection",riskScore:n.riskScore,category:n.metadata.category,tier:n.metadata.tier}))}async predictPerformance(e,r){const n=Fu(e);if(!n)return{predictedSuccessRate:85,confidenceLevel:"low",factors:["Pattern not found, using default prediction"]};const s=this.analyzePattern(n,r);let i="medium";return s.confidence>=90?i="high":s.confidence<70&&(i="low"),{predictedSuccessRate:s.performanceScore,confidenceLevel:i,factors:s.reasoning}}async selectOptimalPattern(e){const r=await this.analyzePatterns(e);if(r.length===0)return null;const n=r[0];return Fu(n.patternId)||null}generateCacheKey(e){return JSON.stringify(e)}clearCache(){this.analysisCache.clear()}getStats(){return{cacheSize:this.analysisCache.size,totalPatterns:ss().length,lastAnalysis:new Date().toISOString()}}};Z(Zn,"instance");let Bu=Zn;const dd=Bu.getInstance(),es=class es{constructor(){Z(this,"patternCache",new Map);Z(this,"CACHE_TTL",10*60*1e3)}static getInstance(){return es.instance||(es.instance=new es),es.instance}async getPatterns(e){const r=e?JSON.stringify(e):"all",n=this.patternCache.get(r);if(n)return console.log("🎯 [HybridPatternManager] Using cached patterns"),n;console.log("🔍 [HybridPatternManager] Loading patterns with context:",e);let s=ss();return e&&(s=this.filterPatternsByContext(s,e)),this.patternCache.set(r,s),setTimeout(()=>this.patternCache.delete(r),this.CACHE_TTL),await qs.trackEvent("patterns_accessed",{count:s.length,context:e,source:"local_library"}),s}async getRecommendations(e,r=5){console.log("🧠 [HybridPatternManager] Getting pattern recommendations");try{return(await dd.analyzePatterns(e)).slice(0,r).map(s=>({patternId:s.patternId,patternName:s.patternName,category:s.metadata.category,successRate:s.metadata.successRate,tier:s.metadata.tier,reasoning:s.reasoning[0]||"AI-optimized selection",confidence:s.confidence}))}catch(n){return console.warn("🧠 [HybridPatternManager] Analysis failed, using fallback:",n),(await this.getPatterns(e)).slice(0,r).map(i=>({patternId:i.id,patternName:i.name,category:i.category,successRate:i.success_rate,tier:i.tier,reasoning:"High-performance pattern",confidence:80}))}}async selectOptimalPattern(e){try{const r=await dd.selectOptimalPattern(e);return r&&await qs.trackPatternUsage(r.id,r.name,!0),r}catch(r){console.warn("🧠 [HybridPatternManager] Optimal selection failed, using fallback:",r);const n=await this.getPatterns(e),s=n.find(i=>i.tier===1)||n[0]||null;return s&&await qs.trackPatternUsage(s.id,s.name,!0),s}}filterPatternsByContext(e,r){let n=[...e];return r.emailProvider&&(n=n.filter(s=>!s.provider_optimization||s.provider_optimization.includes(r.emailProvider)||s.provider_optimization.includes("generic"))),r.industry&&(n=n.filter(s=>s.industry===r.industry||s.industry==="general")),r.securityLevel==="high"&&(n=n.filter(s=>s.tier===1&&(s.anti_detection_score||85)>=90)),r.targetAudience==="business"?n=n.filter(s=>["document","business","microsoft","invoice","calendar"].includes(s.category)):r.targetAudience==="consumer"&&(n=n.filter(s=>["google","mimicry","content","cloudStorage"].includes(s.category))),n.sort((s,i)=>i.success_rate-s.success_rate)}async getPatternById(e){return Fu(e)}async getPatternsByCategory(e){return ss().filter(n=>n.category===e)}getPatternStats(){const e=ss(),r=[...new Set(e.map(o=>o.category))],n=e.reduce((o,l)=>o+l.success_rate,0)/e.length,s=e.reduce((o,l)=>(o[l.tier]=(o[l.tier]||0)+1,o),{}),i=e.reduce((o,l)=>(o[l.category]=(o[l.category]||0)+1,o),{});return{totalPatterns:e.length,categories:r.length,avgSuccessRate:Math.round(n),tierDistribution:s,categoryDistribution:i,cacheSize:this.patternCache.size,lastUpdated:new Date().toISOString()}}clearCache(){this.patternCache.clear(),console.log("🧹 [HybridPatternManager] Pattern cache cleared")}async predictPerformance(e,r){return await dd.predictPerformance(e,r)}getStatus(){return{totalPatterns:ss().length,cacheSize:this.patternCache.size,source:"local_library",analyticsEnabled:qs.getStatus().enabled,lastAccess:new Date().toISOString()}}};Z(es,"instance");let Vu=es;const Vm=Vu.getInstance(),Y3=Qi("relative w-full rounded-xl border p-4 backdrop-blur-sm bg-gradient-to-br from-slate-900/90 via-blue-900/30 to-purple-900/30 border-cyan-400/40 shadow-xl [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-cyan-400 font-jetbrains",{variants:{variant:{default:"text-cyan-50 border-cyan-400/40",destructive:"border-red-400/50 text-red-100 bg-gradient-to-br from-red-900/90 via-red-800/30 to-purple-900/30 [&>svg]:text-red-400",warning:"border-amber-400/50 text-amber-100 bg-gradient-to-br from-amber-900/90 via-amber-800/30 to-orange-900/30 [&>svg]:text-amber-400",success:"border-emerald-400/50 text-emerald-100 bg-gradient-to-br from-emerald-900/90 via-emerald-800/30 to-green-900/30 [&>svg]:text-emerald-400"}},defaultVariants:{variant:"default"}}),Hu=p.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:ge(Y3({variant:e}),t),...r}));Hu.displayName="Alert";const J3=p.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:ge("mb-1 font-jetbrains font-semibold leading-none tracking-tight text-cyan-100 uppercase text-sm",t),...e}));J3.displayName="AlertTitle";const Gu=p.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:ge("text-sm [&_p]:leading-relaxed text-cyan-200/90 font-inter",t),...e}));Gu.displayName="AlertDescription";function X3(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:f,children:m,...g}=h,v=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})};d.displayName=i+"Provider";function u(h,f){var v;const m=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Z3(s,...e)]}function Z3(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Hm(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function e4(...t){return e=>{let r=!1;const n=t.map(s=>{const i=Hm(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Hm(t[s],null)}}}}function t4(t){const e=r4(t),r=p.forwardRef((n,s)=>{const{children:i,...o}=n,l=p.Children.toArray(i),c=l.find(s4);if(c){const d=c.props.children,u=l.map(h=>h===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:h);return a.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,u):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}function r4(t){const e=p.forwardRef((r,n)=>{const{children:s,...i}=r;if(p.isValidElement(s)){const o=i4(s),l=a4(i,s.props);return s.type!==p.Fragment&&(l.ref=n?e4(n,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var n4=Symbol("radix.slottable");function s4(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===n4}function a4(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function i4(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var o4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lv=o4.reduce((t,e)=>{const r=t4(`Primitive.${e}`),n=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),xf="Progress",yf=100,[l4,BC]=X3(xf),[c4,d4]=l4(xf),Mv=p.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=u4,...o}=t;(s||s===0)&&!Gm(s)&&console.error(h4(`${s}`,"Progress"));const l=Gm(s)?s:yf;n!==null&&!Wm(n,l)&&console.error(f4(`${n}`,"Progress"));const c=Wm(n,l)?n:null,d=Al(c)?i(c,l):void 0;return a.jsx(c4,{scope:r,value:c,max:l,children:a.jsx(Lv.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Al(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Uv(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Mv.displayName=xf;var Ov="ProgressIndicator",$v=p.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=d4(Ov,r);return a.jsx(Lv.div,{"data-state":Uv(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});$v.displayName=Ov;function u4(t,e){return`${Math.round(t/e*100)}%`}function Uv(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Al(t){return typeof t=="number"}function Gm(t){return Al(t)&&!isNaN(t)&&t>0}function Wm(t,e){return Al(t)&&!isNaN(t)&&t<=e&&t>=0}function h4(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yf}\`.`}function f4(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yf} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Dv=Mv,m4=$v;const zv=p.forwardRef(({className:t,value:e,...r},n)=>a.jsx(Dv,{ref:n,className:ge("relative h-3 w-full overflow-hidden rounded-full bg-slate-800/60 border border-cyan-400/30 shadow-inner",t),...r,children:a.jsx(m4,{className:"h-full w-full flex-1 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-500 transition-all duration-500 shadow-lg shadow-cyan-400/30",style:{transform:`translateX(-${100-(e||0)}%)`}})}));zv.displayName=Dv.displayName;const p4=({result:t,isLoading:e=!1,url:r})=>{var o,l;if(e)return a.jsxs("div",{className:"w-full bg-slate-900/90 rounded-2xl shadow-xl border border-cyan-400/40 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(ct,{className:"h-6 w-6 text-cyan-400 animate-spin"}),a.jsx("h3",{className:"text-xl font-jetbrains font-bold text-cyan-100 uppercase tracking-wide",children:"Validating URL..."})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-cyan-500/30 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-4 bg-cyan-500/20 rounded w-1/2"})]})})]});if(!t)return a.jsx(q,{className:"w-full",children:a.jsxs(ue,{children:[a.jsxs(he,{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"h-5 w-5 text-gray-400"}),"URL Validation"]}),a.jsx(gt,{children:"Generate a URL to see validation results and security analysis"})]})});const n=c=>c<=25?"text-green-600 bg-green-100":c<=50?"text-yellow-600 bg-yellow-100":c<=75?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100",s=c=>c<=25?"Low Risk":c<=50?"Medium Risk":c<=75?"High Risk":"Critical Risk",i=c=>{switch(c){case"low":return a.jsx(Vo,{className:"h-4 w-4 text-blue-500"});case"medium":return a.jsx(st,{className:"h-4 w-4 text-yellow-500"});case"high":return a.jsx(st,{className:"h-4 w-4 text-orange-500"});case"critical":return a.jsx(Bo,{className:"h-4 w-4 text-red-500"});default:return a.jsx(Vo,{className:"h-4 w-4 text-gray-500"})}};return a.jsxs("div",{className:"w-full bg-gradient-to-br from-slate-900/90 via-blue-900/30 to-purple-900/30 backdrop-blur-lg rounded-2xl shadow-2xl border border-cyan-400/40 p-6 transition-all duration-300 hover:shadow-cyan-300/20 hover:border-cyan-300/60 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0 bg-cyan-500/5"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.isValid?a.jsx(ba,{className:"h-6 w-6 text-emerald-400"}):a.jsx(Bo,{className:"h-6 w-6 text-red-400"}),a.jsx("h3",{className:"text-xl font-jetbrains font-bold text-cyan-100 uppercase tracking-wide",children:"URL Validation Results"})]}),a.jsx("p",{className:"text-sm text-cyan-200/80 font-inter",children:"Security analysis and recommendations for generated URL"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:"Overall Status"}),a.jsx("p",{className:"text-sm text-gray-600",children:t.isValid?"URL passed all validation checks":`${t.issues.length} issues detected`})]}),a.jsx(ve,{className:t.isValid?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:t.isValid?"Valid":"Invalid"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium",children:"Risk Assessment"}),a.jsx(ve,{className:n(t.riskScore),children:s(t.riskScore)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Risk Score"}),a.jsxs("span",{children:[t.riskScore,"/100"]})]}),a.jsx(zv,{value:t.riskScore,className:"h-2"})]})]}),t.issues.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-red-700",children:"Issues Detected"}),a.jsx("div",{className:"space-y-2",children:t.issues.map((c,d)=>a.jsxs(Hu,{className:"border-red-200",children:[a.jsx(Bo,{className:"h-4 w-4 text-red-500"}),a.jsx(Gu,{className:"text-red-700",children:c})]},d))})]}),t.detectedPatterns&&t.detectedPatterns.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-orange-700",children:"Suspicious Patterns"}),a.jsx("div",{className:"space-y-2",children:t.detectedPatterns.map((c,d)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[i(c.severity),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm",children:c.pattern}),a.jsx(ve,{variant:"outline",className:`text-xs ${c.severity==="critical"?"border-red-500 text-red-700":c.severity==="high"?"border-orange-500 text-orange-700":c.severity==="medium"?"border-yellow-500 text-yellow-700":"border-blue-500 text-blue-700"}`,children:c.severity})]}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:c.description})]})]},d))})]}),t.recommendations.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium text-blue-700",children:"Recommendations"}),a.jsx("div",{className:"space-y-2",children:t.recommendations.map((c,d)=>a.jsxs(Hu,{className:"border-blue-200",children:[a.jsx(Vo,{className:"h-4 w-4 text-blue-500"}),a.jsx(Gu,{className:"text-blue-700",children:c})]},d))})]}),t.metadata&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"font-medium",children:"Generation Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Pattern:"}),a.jsx("p",{className:"font-medium",children:t.metadata.pattern})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Method:"}),a.jsx("p",{className:"font-medium",children:t.metadata.generationMethod})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Encryption:"}),a.jsx("p",{className:"font-medium",children:t.metadata.encryptionMode.toUpperCase()})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate:"}),a.jsxs("p",{className:"font-medium",children:[t.metadata.expectedSuccessRate,"%"]})]}),t.metadata.serviceName&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Service:"}),a.jsx("p",{className:"font-medium",children:t.metadata.serviceName})]}),t.metadata.recognitionRate&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Recognition:"}),a.jsxs("p",{className:"font-medium",children:[t.metadata.recognitionRate,"%"]})]}),t.metadata.trustScore&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Trust Score:"}),a.jsxs("p",{className:"font-medium",children:[t.metadata.trustScore,"/100"]})]}),t.metadata.subdomain&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Subdomain:"}),a.jsx("p",{className:"font-medium",children:t.metadata.subdomain})]})]})]}),r&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-medium",children:"Generated URL"}),a.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:a.jsx("code",{className:"text-sm break-all",children:r})})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ct,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"font-medium text-blue-800",children:"Security Summary"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-bold text-lg text-blue-700",children:[((o=t.metadata)==null?void 0:o.expectedSuccessRate)||"N/A","%"]}),a.jsx("div",{className:"text-blue-600",children:"Success Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-bold text-lg text-blue-700",children:[100-t.riskScore,"%"]}),a.jsx("div",{className:"text-blue-600",children:"Safety Score"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-blue-700",children:((l=t.metadata)==null?void 0:l.tier)||"N/A"}),a.jsx("div",{className:"text-blue-600",children:"Tier Level"})]})]})]})]})]})]})},g4=()=>{p.useEffect(()=>{const R=document.createElement("style");return R.textContent=`
      .toggle-checkbox:checked {
        transform: translateX(100%);
        border-color: #4f46e5;
      }
      .toggle-checkbox:checked + .toggle-label {
        background-color: #818cf8;
      }
    `,document.head.appendChild(R),()=>{document.head.removeChild(R)}},[]);const[t,e]=p.useState(""),[r,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState({pattern:"auto",stealthLevel:"both",tier:1}),[g,v]=p.useState(null),[w,y]=p.useState(null),[x,b]=p.useState("auto"),[j,_]=p.useState(0),[N,S]=p.useState(null),[k,E]=p.useState(0),[T,O]=p.useState(null),{toast:P}=An(),I={1:"https://google.com",2:"https://github.com",3:"https://stackoverflow.com",4:"https://developer.mozilla.org",5:"https://tailwindcss.com"},M=async()=>{if(x==="auto"){const R=j+1;_(R),console.log("[PhantomUrlGenerator] Smart Auto-Select: Counter incremented to:",R),S(null);try{const z={industry:"general",targetAudience:"mixed",securityLevel:"medium"},U=await Vm.selectOptimalPattern(z);if(U)return console.log("[PhantomUrlGenerator] Smart Auto-Select: Selected pattern:",U.name),y(U),P({title:"🤖 Smart Auto-Select",description:`Rotated to ${U.name} (${U.category})`,className:"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 text-blue-800 shadow-lg",duration:2e3}),U.category}catch(z){console.warn("[PhantomUrlGenerator] Auto-select failed, using random fallback:",z)}}return(w==null?void 0:w.category)||"intelligent"},Q=async(R,z)=>{if(console.log("[PhantomUrlGenerator] Pattern changed:",R,z),b(R),y(z),R&&!R.startsWith("quick-"))try{const te=await Vm.getPatternById(R);te&&y(te)}catch(te){console.error("Pattern prediction error:",te)}let U="auto";if(R.startsWith("quick-"))switch(R){case"quick-marketing":case"quick-business":U="business";break;case"quick-newsletter":U="content";break;case"quick-bing":U="search";break;case"quick-auto":U="auto";break;default:U=z.category||"auto"}else R&&!R.startsWith("quick-")&&(U=z.category||"auto");console.log("[PhantomUrlGenerator] Mapped pattern:",U),m(te=>({...te,pattern:U}));const H=z.success_rate||85;P({title:"🎯 Pattern Selected",description:`${z.name} - ${H}% success rate (high confidence)`,className:"bg-gradient-to-r from-emerald-50 to-blue-50 border-l-4 border-emerald-500 text-emerald-800 shadow-lg",duration:3e3})},G=async()=>{if(!t.trim()){P({title:"Action Required",description:"Please provide a destination URL or select a quick number (1-5)",variant:"destructive",className:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 text-red-800 shadow-lg",duration:3e3});return}h(!1),l(!0),n("");try{console.log("🚀 [PhantomUrlGenerator] Starting URL generation process"),console.log("📥 Input URL:",t),console.log("⚙️ Show Advanced:",c),console.log("🎯 Selected Pattern:",(w==null?void 0:w.name)||"None");const R=localStorage.getItem("license_session_token");if(!R){console.error("❌ [Auth] No session token found"),P({title:"Authentication Required",description:"Please log in with your license key to generate URLs",variant:"destructive",className:"bg-gradient-to-r from-amber-50 to-amber-100 border-l-4 border-amber-500 text-amber-900 shadow-lg",duration:4e3}),l(!1);return}console.log("🔐 [Auth] Session token found:",R.substring(0,8)+"...");const{data:z,error:U}=await $.rpc("validate_session_with_license",{session_token_input:R});if(U){console.error("❌ [Auth] Session validation error:",U),P({title:"Session Validation Failed",description:`Authentication error: ${U.message}`,variant:"destructive",className:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 text-red-800 shadow-lg",duration:4e3}),l(!1);return}if(!(z!=null&&z.valid)){console.error("❌ [Auth] Session validation failed:",z),P({title:"Session Invalid",description:"Your session has expired. Please log in again.",variant:"destructive",className:"bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 text-red-800 shadow-lg",duration:4e3}),l(!1);return}const H=z.license_id;console.log("✅ [Auth] Session validated, license ID:",H),await new Promise(ne=>setTimeout(ne,300));let ee="",te=null;if(/^[1-5]$/.test(t.trim())){console.log("🔢 [Generation] Processing quick number:",t.trim());const ne=t.trim(),_e=I[ne];console.log("🎯 [Generation] Target URL for quick number:",_e);try{const Ve=await new cd().generatePhantomUrl(_e,H,{pattern:"intelligent",stealthLevel:"both",encryptionMode:"aes",tier:1,context:{category:"business",targetProvider:"microsoft"}});ee=window.location.origin+Ve.url,te={pattern:Ve.pattern,tier:Ve.tier,expectedSuccessRate:Ve.expectedSuccessRate,contentType:Ve.contentType,encryptionMode:Ve.encryptionMode,securityLevel:Ve.securityLevel,isQuickAccess:!0,timestamp:Date.now(),rotationCounter:j+1},console.log("✅ [Generation] Generated quick access URL with inbox-safe patterns:",ee)}catch(Ne){throw console.error("❌ [Generation] Quick URL generation failed:",Ne),new Error(`Quick URL generation failed: ${Ne.message}`)}}else if(Fm(t)&&!c){console.log("📝 [Generation] Processing standard URL with simple format:",t);try{const _e=await new cd().generatePhantomUrl(t,H,{pattern:"intelligent",stealthLevel:"planA",encryptionMode:"aes",tier:1,context:{category:"corporate",targetProvider:"generic"}});ee=window.location.origin+_e.url,te={pattern:_e.pattern,tier:_e.tier,expectedSuccessRate:_e.expectedSuccessRate,contentType:_e.contentType,encryptionMode:_e.encryptionMode,securityLevel:_e.securityLevel,isQuickAccess:!1,timestamp:Date.now(),rotationCounter:j+1},console.log("✅ [Generation] Generated simple URL with inbox-safe patterns:",ee)}catch(ne){throw console.error("❌ [Generation] Simple URL generation failed:",ne),new Error(`Simple URL generation failed: ${ne.message}`)}}else if(Fm(t)){console.log("🔮 [Generation] Processing URL with advanced options:",t),console.log("🎨 [Generation] Pattern data:",w),console.log("🛡️ [Generation] Phantom options:",f);try{let ne=await M();ne==="auto"&&(ne="intelligent"),console.log("📋 [Generation] Final mapped pattern:",ne),console.log("🔄 [Generation] Rotation counter:",j),console.log("🎯 [Generation] Pattern data:",w==null?void 0:w.name);const Ne=await new cd().generatePhantomUrl(t,H,{pattern:"intelligent",stealthLevel:f.stealthLevel,encryptionMode:"auto",tier:f.tier,context:{category:"business",targetProvider:"generic",industry:"technology"}});ee=window.location.origin+Ne.url,(ee.includes("{")||ee.includes("}"))&&(console.error("🚨 [DEBUG] Placeholder replacement failed in URL:",ee),console.error("🚨 [DEBUG] Raw result from processor:",Ne)),te={pattern:Ne.pattern,tier:Ne.tier,expectedSuccessRate:Ne.expectedSuccessRate,contentType:Ne.contentType,encryptionMode:Ne.encryptionMode,securityLevel:Ne.securityLevel,timestamp:Date.now(),rotationCounter:j+1,patternName:Ne.pattern,isAdvanced:!0},console.log("✅ [Generation] Generated advanced URL:",ee),console.log("📊 [Generation] Metadata:",te),O({isValid:!0,issues:[],recommendations:["URL generated with inbox-safe patterns"],riskScore:100-Ne.expectedSuccessRate,metadata:te}),console.log("✅ [Validation] URL generated with inbox-safe patterns")}catch(ne){throw console.error("❌ [Generation] Advanced URL generation failed:",ne),console.error("❌ [Generation] Advanced URL generation failed:",ne),new Error(`URL generation failed: ${ne.message}`)}}else{console.log("❌ [Validation] Invalid URL format:",t),P({title:"Invalid Format",description:"Please enter a valid URL starting with http:// or https://",variant:"destructive",className:"bg-gradient-to-r from-amber-50 to-amber-100 border-l-4 border-amber-500 text-amber-900 shadow-lg",duration:3e3}),l(!1);return}if(console.log("📤 [Result] Setting result data:",te),console.log("🔗 [Result] Setting URL:",ee),k>0&&P({title:"🔄 New Variation Generated",description:`Rotation #${te.rotationCounter||j+1} with fresh encryption`,className:"bg-gradient-to-r from-cyan-50 to-blue-50 border-l-4 border-cyan-500 text-cyan-800 shadow-lg",duration:2500}),!ee)throw new Error("Generated URL is empty");if(!ee.startsWith(window.location.origin))throw new Error("Generated URL has invalid origin");n(ee),v(te),te&&(S({timestamp:te.timestamp||Date.now(),rotationCounter:te.rotationCounter||j+1,encryptionMode:te.encryptionMode||"aes",patternName:te.patternName||(w==null?void 0:w.name),encryptedPreview:te.encryptedData,varietySeed:te.varietySeed,securityLevel:te.securityLevel||85}),_(te.rotationCounter||j+1),E(Date.now())),setTimeout(()=>{h(!0),console.log("✅ [UI] Results displayed successfully")},100);const Ke=te!=null&&te.fallbackUsed?"URL generated using simplified format":w?`${w.name} pattern applied successfully`:"Your premium secure redirect is ready";P({title:"✨ Generation Complete",description:Ke,className:"bg-gradient-to-r from-emerald-50 to-blue-50 border-l-4 border-emerald-500 text-emerald-800 shadow-lg",duration:4e3})}catch(R){const z=R instanceof Error?R.message:"Unknown error occurred";console.error("💥 [Error] URL generation failed:",z),console.error("📝 [Error] Full error details:",R);let U="Unable to complete your secure redirect request",H="Generation Interrupted";z.includes("Rate limit")?(H="Rate Limit Exceeded",U="Too many requests. Please wait a moment and try again."):z.includes("Invalid target URL")?(H="Invalid URL",U="The provided URL format is not supported."):z.includes("Database registration failed")?(H="Database Error",U="Temporary database issue. Your URL may still work."):z.includes("Session")?(H="Authentication Error",U="Please refresh the page and log in again."):z.includes("fallback generation failed")&&(H="System Error",U="Multiple generation methods failed. Please try again."),P({title:H,description:`${U} (Debug: ${z.substring(0,100)})`,variant:"destructive",className:"bg-gradient-to-r from-red-50 to-rose-100 border-l-4 border-red-600 text-red-900 shadow-lg",duration:6e3})}finally{l(!1),console.log("🏁 [Generation] Process completed")}},re=async()=>{try{await navigator.clipboard.writeText(r),i(!0),setTimeout(()=>i(!1),2e3),P({title:"✓ Copied to Clipboard",description:"Secure redirect URL is ready to share",className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-indigo-500 text-indigo-800 shadow-lg",duration:2500})}catch{P({title:"Clipboard Action Failed",description:"Unable to copy the secure URL to your clipboard",variant:"destructive",className:"bg-gradient-to-r from-purple-50 to-red-50 border-l-4 border-purple-600 text-purple-900 shadow-lg",duration:3e3})}},A=()=>{r&&window.open(r,"_blank")};return a.jsxs("div",{className:"space-y-8 font-jetbrains antialiased",children:[a.jsxs("div",{className:"bg-gradient-to-br from-slate-900/90 via-blue-900/30 to-purple-900/30 backdrop-blur-lg rounded-3xl shadow-2xl border border-cyan-400/40 p-6 sm:p-8 transition-all duration-300 hover:shadow-cyan-300/20 hover:border-cyan-300/60 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-5",children:a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(6,182,212,0.1)_1px,transparent_1px),linear-gradient(90deg,rgba(6,182,212,0.1)_1px,transparent_1px)] bg-[size:20px_20px]"})}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-cyan-400 to-transparent animate-pulse"}),a.jsxs("div",{className:"space-y-7 relative z-10",children:[a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"relative group transition-all duration-300",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/30 to-blue-600/30 rounded-2xl opacity-40 blur-md group-hover:opacity-60 transition duration-500"}),a.jsxs("div",{className:"relative bg-slate-800/60 backdrop-blur-sm rounded-2xl shadow-xl flex items-center overflow-hidden border border-cyan-400/50 group-hover:border-cyan-300/70 transition-all duration-300",children:[a.jsx("div",{className:"pl-5 py-2",children:a.jsx(Bn,{className:"w-6 h-6 text-cyan-400"})}),a.jsx(Qe,{type:"text",placeholder:"Enter Destination URL or Quick Number (1-5)",value:t,onChange:R=>e(R.target.value),onKeyDown:R=>R.key==="Enter"&&G(),className:"h-14 text-lg border-0 focus:ring-0 pl-4 pr-14 py-3 flex-1 bg-transparent font-jetbrains font-medium w-full text-cyan-50 placeholder:text-cyan-200/50",style:{minWidth:"0",boxShadow:"none"}}),a.jsx("div",{className:"absolute right-5 top-1/2 transform -translate-y-1/2 transition-all duration-300",children:/^\d+$/.test(t)?a.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-gradient-to-br from-amber-400/80 to-orange-500/80 text-white shadow-lg",children:a.jsx(Fe,{className:"w-4 h-4"})}):a.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-gradient-to-br from-cyan-400/80 to-blue-500/80 text-white shadow-lg",children:a.jsx(B0,{className:"w-4 h-4"})})})]})]}),a.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 px-2",children:[a.jsx("div",{className:"hidden sm:block h-px w-8 bg-gradient-to-r from-transparent to-cyan-300/60"}),a.jsx("p",{className:"text-xs sm:text-sm text-cyan-100/80 font-jetbrains font-medium px-1 text-center",children:"Enter URL or use quick numbers 1-5 for instant testing"}),a.jsx("div",{className:"hidden sm:block h-px w-8 bg-gradient-to-r from-cyan-300/60 to-transparent"})]})]}),a.jsxs("div",{className:"relative group/advancedToggle mb-6",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-cyan-500/20 to-blue-500/20 rounded-xl opacity-0 group-hover/advancedToggle:opacity-60 blur-md transition-all duration-500 hidden sm:block"}),a.jsxs("div",{onClick:()=>d(!c),className:"relative z-10 flex items-center gap-3 px-5 py-4 rounded-xl border border-cyan-500/40 bg-slate-800/40 hover:bg-slate-700/50 shadow-lg hover:shadow-cyan-500/20 transition-all duration-300 cursor-pointer group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-100/10 to-transparent opacity-0 group-hover:opacity-100 transform -translate-x-full group-hover:translate-x-full transition-all duration-1000 ease-out hidden sm:block"}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`${c?"bg-gradient-to-br from-cyan-500/30 to-blue-600/30":"bg-slate-700/50"} rounded-xl p-2.5 transition-all duration-300 shadow-lg`,children:a.jsx(ry,{className:`w-5 h-5 ${c?"text-cyan-200":"text-slate-400"} transition-colors duration-300`})}),a.jsxs("div",{children:[a.jsx("span",{className:`text-base font-jetbrains font-semibold ${c?"text-cyan-200":"text-slate-200"} transition-colors duration-300`,children:c?"Advanced Pattern Selection":"Smart Pattern Selection"}),a.jsx("p",{className:"text-sm text-slate-400 mt-0.5",children:c?"Choose specific stealth patterns":"Automatic optimal pattern selection"})]})]}),a.jsx("div",{className:`${c?"bg-gradient-to-br from-cyan-500/30 to-blue-600/30 text-cyan-200":"bg-slate-700/50 text-slate-400"} rounded-xl p-2 transition-all duration-300 transform ${c?"rotate-180":"rotate-0"} shadow-lg`,children:a.jsx(B0,{className:"w-4 h-4"})})]})]})]}),c&&a.jsxs("div",{className:"mb-12 sm:mb-16 animate-in slide-in-from-top-4 duration-500",children:[a.jsx(Q3,{selectedPattern:x,onPatternSelect:R=>Q((R==null?void 0:R.id)||"auto",R),className:"mb-6"}),a.jsx("div",{className:"relative group/phantomOptions",children:a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 via-slate-700/70 to-purple-800/40 rounded-xl p-5 border border-purple-500/30 shadow-lg backdrop-blur-sm overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-purple-500/80 to-indigo-600/80 p-2.5 rounded-xl border border-purple-400/30 shadow-lg",children:a.jsx(ct,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold bg-clip-text text-transparent bg-gradient-to-br from-purple-200 via-cyan-200 to-blue-200",children:"Security Protocol"}),a.jsx("p",{className:"text-purple-200/80 text-sm",children:"Choose your protection level"})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"normal",name:"Standard",desc:"Basic stealth"},{id:"maximum",name:"Advanced",desc:"High security"},{id:"both",name:"Maximum",desc:"Military grade"}].map(({id:R,name:z,desc:U})=>{const H=f.stealthLevel===R;return a.jsxs("button",{onClick:()=>m({...f,stealthLevel:R}),className:`relative group overflow-hidden ${H?"bg-gradient-to-br from-purple-500/80 to-indigo-600/80 text-white shadow-lg shadow-purple-400/30 border border-purple-300/50":"bg-slate-800/70 hover:bg-slate-700/80 text-slate-300 border border-slate-600/50 hover:border-purple-400/30"} 
                            rounded-xl py-3 px-2 text-center font-medium transition-all duration-300 hover:shadow-lg transform hover:-translate-y-0.5`,children:[H&&a.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-60 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-sm font-semibold",children:z}),a.jsx("div",{className:"text-xs opacity-80 mt-1",children:U})]})]},R)})})]})})]}),a.jsxs("div",{className:"relative max-w-lg mx-auto w-full",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/40 to-purple-600/40 rounded-2xl opacity-50 blur-lg animate-pulse"}),a.jsx(K,{onClick:G,disabled:!t.trim()||o,className:"w-full h-16 text-lg font-jetbrains font-semibold bg-gradient-to-r from-cyan-500/90 via-blue-600/90 to-purple-700/90 hover:from-cyan-600 hover:via-blue-700 hover:to-purple-800 rounded-2xl shadow-2xl transition-all duration-300 transform hover:scale-[1.02] hover:shadow-cyan-300/40 border border-cyan-400/40 relative overflow-hidden group z-10",children:o?a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"animate-pulse font-jetbrains font-bold tracking-wide",children:w?`Applying ${w.name}...`:"Generating PHANTOM URL..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-white/10 via-white/0 to-transparent transform translate-x-[-120%] group-hover:translate-x-[120%] transition-all duration-1500 ease-out"}),a.jsxs("div",{className:"flex items-center justify-center gap-4 relative z-10",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-300/80 to-purple-400/80 flex items-center justify-center shadow-lg group-hover:scale-110 transition-all duration-300",children:a.jsx(yl,{className:"w-5 h-5 text-white group-hover:scale-110 transition-all duration-300"})}),a.jsx("span",{className:"font-jetbrains font-bold tracking-wide group-hover:tracking-wider transition-all duration-300",children:w?`Generate with ${w.name}`:"Generate PHANTOM URL"})]})]})})]})]})]}),u&&a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-white to-green-50 backdrop-blur-md rounded-3xl shadow-2xl border border-emerald-200/30 p-4 sm:p-8 transition-all duration-500 animate-in fade-in-50 slide-in-from-bottom-5 overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-300/10 to-emerald-400/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/4 hidden sm:block"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-br from-blue-300/10 to-green-400/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/4 hidden sm:block"}),a.jsxs("div",{className:"space-y-8 relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 opacity-50 group-hover:opacity-70 blur-sm animate-pulse-slow hidden sm:block"}),a.jsxs("div",{className:"h-10 w-10 sm:h-14 sm:w-14 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center shadow-md sm:shadow-lg shadow-green-300/30 relative z-10 border-2 border-white",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shine bg-repeat-x bg-[length:30%_100%] hidden sm:block"}),a.jsx(Ti,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white drop-shadow-md"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-700 to-emerald-600 tracking-tight leading-tight",children:w?`${w.name} Applied`:"PHANTOM Link Generated"}),a.jsxs("p",{className:"text-xs sm:text-sm font-medium text-green-600 flex items-center gap-1.5",children:[a.jsx(Fe,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),w?`${w.success_rate}% Success Rate`:"Invisibility Engaged"]})]})]}),g&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[w&&a.jsxs("div",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full bg-blue-100 border border-blue-200 text-blue-700 text-xs sm:text-sm font-medium",children:[a.jsx(Pr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),w.category]}),a.jsxs("div",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full bg-purple-100 border border-purple-200 text-purple-700 text-xs sm:text-sm font-medium",children:[a.jsx(Ot,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Protocol: PHANTOM"]})]})]}),N&&a.jsx(uk,{timestamp:N.timestamp,rotationCounter:N.rotationCounter,encryptionMode:N.encryptionMode,patternName:N.patternName,encryptedPreview:N.encryptedPreview,varietySeed:N.varietySeed,securityLevel:N.securityLevel}),a.jsxs("div",{className:"relative group/url transition-all duration-300",children:[a.jsx("div",{className:"absolute -inset-1.5 bg-gradient-to-r from-emerald-200/40 to-green-300/40 rounded-2xl opacity-50 blur-sm group-hover/url:opacity-70 transition-all duration-500 hidden sm:block"}),a.jsxs("div",{className:"relative bg-white rounded-xl sm:rounded-2xl overflow-hidden shadow-md sm:shadow-lg shadow-green-100/50 border border-emerald-100 flex items-center",children:[a.jsx("div",{className:"pl-3 sm:pl-4 py-2 sm:py-3 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gj,{className:"w-5 h-5 sm:w-6 sm:h-6 text-emerald-600 drop-shadow-sm"}),a.jsx("span",{className:"absolute inset-0 rounded-full animate-ping bg-emerald-400/20 hidden sm:block"})]})}),a.jsx("div",{className:"relative flex-1 flex items-center",children:a.jsx(Qe,{readOnly:!0,value:r,className:"h-10 sm:h-14 text-sm sm:text-base border-0 focus:ring-0 bg-transparent font-medium text-emerald-800 flex-1 pl-2 sm:pl-3 pr-1 sm:pr-2 w-full truncate",style:{minWidth:"0",boxShadow:"none"}})}),a.jsx("div",{className:"pr-2 sm:pr-3",children:a.jsxs(K,{onClick:re,variant:"ghost",size:"sm",className:"h-8 w-8 sm:h-10 sm:w-10 hover:bg-emerald-100 rounded-lg sm:rounded-xl text-emerald-600 hover:text-emerald-800 transition-all duration-300 relative overflow-hidden group/copy",children:[a.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-100/0 to-emerald-100/80 opacity-0 group-hover/copy:opacity-100 transition-opacity duration-300 hidden sm:block"}),a.jsx("div",{className:"relative z-10",children:s?a.jsx(Ti,{className:"h-4 w-4 sm:h-5 sm:w-5 text-emerald-600 animate-in zoom-in-75 duration-300"}):a.jsx(pl,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]}),a.jsx("div",{className:"text-center mt-2",children:a.jsxs("p",{className:"text-xs text-emerald-600/80 flex items-center justify-center gap-1",children:[a.jsx(pl,{className:"w-3 h-3"}),a.jsx("span",{children:"Click copy button above to save your campaign URL"})]})})]}),a.jsxs("div",{className:"relative group/test",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-300/30 to-green-300/30 rounded-xl opacity-40 blur-sm group-hover/test:opacity-70 group-hover/test:blur transition-all duration-500 hidden sm:block"}),a.jsxs(K,{onClick:A,variant:"outline",className:"w-full h-12 sm:h-14 bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 hover:border-emerald-300 text-emerald-700 hover:text-emerald-800 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base tracking-wide transition-all duration-300 hover:shadow-lg flex items-center justify-center gap-2 sm:gap-3 relative overflow-hidden group/button z-10",children:[a.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-emerald-100/50 to-transparent opacity-0 group-hover/button:opacity-100 transform -translate-x-full group-hover/button:translate-x-full transition-all duration-1000 ease-out hidden sm:block"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3 relative z-10",children:[a.jsx("div",{className:"bg-emerald-100 rounded-full p-1 sm:p-1.5",children:a.jsx(Uj,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-700"})}),a.jsx("span",{children:"Launch URL"}),a.jsx("div",{className:"bg-emerald-100 rounded-full p-1 sm:p-1.5 animate-pulse-slow",children:a.jsx(Pr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-700"})})]})]})]}),a.jsx("div",{className:"relative group/variation",children:a.jsx(K,{onClick:()=>G(),variant:"outline",disabled:o,className:"w-full h-12 bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 hover:border-blue-300 text-blue-700 hover:text-blue-800 rounded-xl font-semibold text-sm tracking-wide transition-all duration-300 hover:shadow-lg flex items-center justify-center gap-3 relative overflow-hidden group/button z-10",children:a.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[a.jsx("div",{className:"bg-blue-100 rounded-full p-1.5",children:a.jsx(ty,{className:"w-4 h-4 text-blue-700"})}),a.jsx("span",{children:"Generate New Variation"}),k>0&&a.jsxs("div",{className:"text-xs bg-blue-100 px-2 py-1 rounded-full",children:["#",j+1]})]})})}),a.jsxs("div",{className:"relative group/security",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-100/50 to-emerald-100/50 rounded-xl opacity-50 blur-md group-hover/security:opacity-70 transition-all duration-500 hidden sm:block"}),a.jsxs("div",{className:"bg-gradient-to-br from-white via-white to-emerald-50/30 backdrop-blur-md rounded-xl p-3 sm:p-5 border border-emerald-100 shadow-md sm:shadow-lg shadow-emerald-100/10 relative z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-5 hidden sm:block",children:a.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_16px_16px,#e0e0e0_2px,transparent_0)] bg-[size:24px_24px]"})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-purple-400 opacity-20 group-hover:opacity-40 blur-sm animate-pulse-slow hidden sm:block"}),a.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center shadow-sm sm:shadow-md shadow-purple-200/50 relative z-10 border border-white/80",children:a.jsx(xl,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-white drop-shadow-sm"})})]}),a.jsx("h4",{className:"text-sm sm:text-base font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-700 to-indigo-700",children:"PHANTOM Protocol Active"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-indigo-100 rounded-full px-2.5 sm:px-4 py-1 sm:py-1.5 text-[10px] sm:text-xs font-bold text-purple-700 flex items-center gap-1 sm:gap-1.5 shadow-sm border border-purple-200/50",children:[a.jsx(Fe,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-purple-600"})," Stealth Mode Engaged"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-purple-50/50 hover:from-white hover:to-purple-100/50 border border-purple-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-purple-100 p-1.5 sm:p-2 group-hover/item:bg-purple-200 transition-colors duration-300",children:a.jsx(xl,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Ghost Protocol"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"Makes your links invisible to trackers and scanners"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-indigo-50/50 hover:from-white hover:to-indigo-100/50 border border-indigo-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-indigo-100 p-1.5 sm:p-2 group-hover/item:bg-indigo-200 transition-colors duration-300",children:a.jsx(Ot,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Neural Firewall"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"Advanced shields that adapt to new threats"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-blue-50/50 hover:from-white hover:to-blue-100/50 border border-blue-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-1.5 sm:p-2 group-hover/item:bg-blue-200 transition-colors duration-300",children:a.jsx(Xj,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Threat Radar"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"Scans for bots and malicious activity in real-time"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2.5 sm:p-3 rounded-lg bg-gradient-to-r from-white to-teal-50/50 hover:from-white hover:to-teal-100/50 border border-teal-100/50 transition-all duration-300 transform hover:translate-y-[-2px] hover:shadow-md group/item",children:[a.jsx("div",{className:"rounded-full bg-teal-100 p-1.5 sm:p-2 group-hover/item:bg-teal-200 transition-colors duration-300",children:a.jsx(Dj,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-teal-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-slate-800",children:"Quantum Shield"}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600",children:"Deflects attacks using multi-dimensional encryption"})]})]})]})]})]}),a.jsx("div",{className:"mt-8",children:a.jsx(p4,{result:T,isLoading:!1,url:r})})]})]}),a.jsx("div",{className:"text-center space-y-3"})]})},x4=({onLoginSuccess:t})=>{const[e,r]=p.useState(""),[n,s]=p.useState(""),[i,o]=p.useState(!1),[l,c]=p.useState(!1),[d,u]=p.useState(""),[h,f]=p.useState(!1),[m,g]=p.useState(!1),[v,w]=p.useState(null),[y,x]=p.useState(!1),[b,j]=p.useState(null);p.useEffect(()=>{console.log("🔍 Auth check on mount");const E=localStorage.getItem("license_session_token"),T=sessionStorage.getItem("redirect_system_authenticated"),O=sessionStorage.getItem("password_authenticated");console.log("📊 Auth state:",{authToken:!!E,sessionAuth:T,passwordAuth:O}),E&&O?(console.log("✅ Found existing valid auth, redirecting to main app"),t()):console.log("❌ No valid auth found, staying on login")},[t]);const _=p.useCallback(async E=>{try{console.log("🔍 Checking generation status for license:",E);const{data:T,error:O}=await $.rpc("check_generation_status",{license_key_input:E});return O?(console.error("❌ Generation status check error:",O),null):(console.log("📊 Generation status result:",T),j(T),T)}catch(T){return console.error("🚫 Error checking generation status:",T),null}},[]),N=p.useCallback(async E=>{try{console.log("🔍 Checking for existing cipher and cooldown"),await _(E);const{data:T,error:O}=await $.rpc("check_auth_cooldown",{license_key_input:E});if(O)return console.error("❌ Cooldown check error:",O),!1;if(console.log("📊 Cooldown check result:",T),T&&typeof T=="object"&&"under_cooldown"in T&&T.under_cooldown)return w(T),console.log("⏰ Account under cooldown"),!1;try{const{data:P}=await $.from("license_keys").select("id").eq("license_key",E).single();if(P){const{data:I}=await $.from("auth_ciphers").select("id").eq("license_key_id",P.id).single();return g(!!I),!I}}catch{console.log("No existing cipher found")}return!0}catch(T){return console.error("🚫 Error checking existing cipher:",T),!0}},[_]),S=p.useCallback(async()=>{if(!n.trim()){u("LICENSE KEY REQUIRED FOR CIPHER GENERATION");return}const E=3;let T=0;const O=async()=>{try{if(console.log(`🔄 Password generation attempt ${T+1}/${E}`),u(""),!await N(n)&&(v!=null&&v.under_cooldown)){const re=Math.ceil(v.remaining_seconds/60);return u(`COOLDOWN ACTIVE - WAIT ${re} MINUTES`),!1}if(m&&!confirm("Cipher already exists for this license. Reset password?"))return!1;console.log("🔐 Generating secure password...");const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let M="";for(let re=0;re<24;re++)M+=I.charAt(Math.floor(Math.random()*I.length));console.log("💾 Storing cipher in database...");const{data:Q,error:G}=await $.rpc("create_auth_cipher_enhanced",{license_key_input:n,password_hash_input:M});if(G)throw console.error("❌ Database error:",G),G;if(!Q||typeof Q!="object"||!("success"in Q)||!Q.success){const re=Q&&typeof Q=="object"&&"error"in Q&&typeof Q.error=="string"?Q.error:"Failed to create cipher";throw console.error("❌ Cipher creation failed:",re),new Error(re)}return console.log("✅ Cipher stored successfully"),Q.remaining_generations!==void 0&&j({...b,remaining_generations:Q.remaining_generations,generations_used:Q.generations_used,max_generations:Q.max_generations}),r(M),await navigator.clipboard.writeText(M),o(!0),x(!0),sessionStorage.setItem("password_generated","true"),sessionStorage.setItem("generated_license_key",n),pe.success("CIPHER GENERATED & COPIED TO CLIPBOARD!"),!0}catch(P){return console.error(`❌ Generation attempt ${T+1} failed:`,P),T<E-1?(console.log(`🔄 Retrying in 2 seconds... (${T+2}/${E})`),u(`ATTEMPT ${T+1} FAILED - RETRYING...`),await new Promise(I=>setTimeout(I,2e3)),!1):(console.error("🚫 All generation attempts failed"),u(P.message||"CIPHER GENERATION FAILED AFTER ALL RETRIES"),!1)}};try{for(c(!0);T<E&&!await O();)T++}finally{c(!1)}},[n,N,v,m,b]),k=p.useCallback(async E=>{if(E.preventDefault(),!e){u("CIPHER REQUIRED FOR ACCESS");return}try{c(!0),u(""),console.log("🔐 Starting login process..."),console.log("🔍 Authenticating with database function...");const{data:T,error:O}=await $.rpc("authenticate_user_session",{password_input:e});if(O){console.error("❌ Authentication error:",O),u("AUTHENTICATION FAILED - PLEASE TRY AGAIN");return}if(!T||typeof T!="object"||!("success"in T)||!T.success){const M=T&&typeof T=="object"&&"error"in T&&typeof T.error=="string"?T.error:"Authentication failed";console.error("❌ Authentication failed:",M),u("INCORRECT CIPHER - PASSWORD DOES NOT MATCH");return}console.log("🎯 Authentication successful! Setting up session...");const P=T.session_token,I=T.license_key;localStorage.setItem("license_session_token",P),localStorage.setItem("licenseKey",I),localStorage.setItem("authTimestamp",Date.now().toString()),sessionStorage.setItem("redirect_system_authenticated","true"),sessionStorage.setItem("password_authenticated","true"),console.log("💾 Session data stored successfully"),pe.success("ALIEN ACCESS AUTHORIZED - PHANTOM ENGINE ACTIVATED"),console.log("🚀 Redirecting to main application..."),t(!1)}catch(T){console.error("🚫 Login process failed:",T),u(`SYSTEM ERROR: ${T.message||"AUTHENTICATION FAILED"}`)}finally{c(!1)}},[e,t]);return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center p-2 sm:p-3 md:p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30 sm:opacity-100",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/10 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/10 backdrop-blur-sm transform rotate-12 animate-float-2"})]}),a.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm md:max-w-md z-10",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl mb-3 sm:mb-4 text-white animate-bounce",children:"👽"}),a.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-1 sm:mb-2 leading-tight",children:"RAPIDREACH CAMPAIGN"}),a.jsx("p",{className:"text-cyan-300/80 text-xs sm:text-sm font-jetbrains tracking-wide leading-relaxed px-2",children:"built for the culture"})]}),a.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[h&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"relative group",children:a.jsx(Qe,{type:"text",placeholder:"Enter License Key",value:n,onChange:E=>s(E.target.value.toUpperCase()),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-black/40 border border-purple-500/30 rounded-lg text-purple-100 placeholder-purple-300/50 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 transition-all duration-300 backdrop-blur-sm font-mono text-sm sm:text-base min-h-[48px] touch-manipulation",disabled:l})}),b&&a.jsxs("div",{className:"text-center p-3 bg-purple-900/40 border border-purple-400/30 rounded-lg backdrop-blur-sm",children:[a.jsx("div",{className:"text-purple-300 text-xs font-jetbrains uppercase tracking-wider",children:"🔐 GENERATION STATUS"}),a.jsx("div",{className:"text-purple-200 text-sm font-mono mt-1",children:b.remaining_generations>0?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-green-300",children:b.remaining_generations})," / ",b.max_generations," generations remaining"]}):a.jsxs("span",{className:"text-red-300",children:["GENERATION LIMIT REACHED (",b.generations_used,"/",b.max_generations,")"]})})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(Qe,{type:i?"text":"password",placeholder:h?"Generated Password Will Appear Here":"Paste Your Password",value:e,onChange:E=>r(E.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-black/40 border border-cyan-500/30 rounded-lg text-cyan-100 placeholder-cyan-300/50 focus:border-cyan-400 focus:ring-2 focus:ring-cyan-400/20 transition-all duration-300 backdrop-blur-sm font-mono text-sm sm:text-base min-h-[48px] touch-manipulation",disabled:l||h,readOnly:h}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-2 sm:right-3 top-1/2 transform -translate-y-1/2 text-cyan-300/70 hover:text-cyan-200 transition-colors p-1 min-h-[48px] min-w-[48px] flex items-center justify-center touch-manipulation",disabled:l,children:a.jsx("span",{className:"text-sm sm:text-base",children:i?"👁️":"🔒"})})]}),d&&a.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm font-mono text-center bg-red-500/10 border border-red-500/30 rounded-lg py-3 px-4 backdrop-blur-sm",children:[a.jsx(Pi,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"break-words",children:d})]}),y&&h&&a.jsxs("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-gradient-to-r from-green-900/40 to-emerald-900/40 border border-green-400/30 rounded-lg backdrop-blur-sm",children:[a.jsxs("div",{className:"text-green-300 text-xs sm:text-sm font-jetbrains uppercase tracking-wider text-center",children:["🎯 ",a.jsx("strong",{children:"CIPHER GENERATED & COPIED!"}),a.jsx("br",{}),a.jsx("span",{className:"text-green-200/80 normal-case",children:"Next: Enter your license key to complete authorization"})]}),a.jsx(K,{type:"button",onClick:()=>t(!0),className:"w-full mt-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm py-3 min-h-[48px] touch-manipulation",children:"Continue to License Validation"})]}),(v==null?void 0:v.under_cooldown)&&a.jsxs("div",{className:"text-yellow-400 text-sm font-mono text-center bg-yellow-500/10 border border-yellow-500/30 rounded-lg py-2 px-4 backdrop-blur-sm",children:["COOLDOWN ACTIVE - ",Math.ceil(v.remaining_seconds/60)," MINUTES REMAINING"]})]}),a.jsx("div",{className:"flex flex-col space-y-2 sm:space-y-3",children:h?a.jsxs(a.Fragment,{children:[!y&&a.jsx(K,{type:"button",onClick:S,disabled:l||!n.trim()||(b==null?void 0:b.remaining_generations)===0,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-mono uppercase tracking-wider text-sm sm:text-base min-h-[48px] touch-manipulation",children:l?"GENERATING...":"GENERATE PASSWORD"}),a.jsxs(K,{type:"button",onClick:()=>{f(!1),s(""),r(""),u(""),x(!1),g(!1),w(null)},disabled:l,className:"w-full bg-slate-700/80 hover:bg-slate-600/80 text-cyan-200 font-jetbrains font-bold py-3 px-6 rounded-lg transition-all duration-200 backdrop-blur-sm border border-cyan-400/40 hover:border-cyan-300/60 disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider text-xs sm:text-sm min-h-[48px] touch-manipulation flex items-center justify-center gap-2",children:[a.jsx(Kh,{size:16}),"BACK TO LOGIN"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(K,{type:"submit",disabled:l||!e,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-mono uppercase tracking-wider text-sm sm:text-base min-h-[48px] touch-manipulation",children:l?"VALIDATING...":"AUTHENTICATE"}),a.jsx("div",{className:"text-center py-1",children:a.jsx("span",{className:"text-cyan-300/60 text-xs sm:text-sm font-mono",children:"OR"})}),a.jsx(K,{type:"button",onClick:()=>{f(!0),r(""),u("")},disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-3 px-4 sm:px-6 rounded-lg transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none font-mono uppercase tracking-wider text-sm sm:text-base min-h-[48px] touch-manipulation",children:"GENERATE NEW PASSWORD"})]})})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-cyan-400/30 relative z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-cyan-300/70 font-mono mb-2",children:"👻 PHANTOM PROTECTION"}),a.jsx("p",{className:"text-xs text-cyan-300/50 font-mono",children:"ENCRYPTED ACCESS • CULTURE VERIFIED"})]})})]})})]})};var y4="Label",Fv=p.forwardRef((t,e)=>a.jsx(Oe.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Fv.displayName=y4;var Bv=Fv;const v4=Qi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ut=p.forwardRef(({className:t,...e},r)=>a.jsx(Bv,{ref:r,className:ge(v4(),t),...e}));Ut.displayName=Bv.displayName;const b4=({onValidationSuccess:t,onBack:e})=>{const[r,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(""),[c,d]=p.useState(0),[u,h]=p.useState(!1),{toast:f}=An();p.useEffect(()=>{const g=sessionStorage.getItem("password_generated"),v=sessionStorage.getItem("generated_license_key");g&&v&&(h(!0),n(v))},[]);const m=async g=>{g.preventDefault();const v=sessionStorage.getItem("password_generated"),w=sessionStorage.getItem("generated_license_key"),y=v&&w?w:r.trim();if(!y){l("Please enter a license key");return}if(c>=5){l("Too many attempts. Please try again later.");return}l(""),i(!0);try{console.log("🔍 Validating license key:",y);const{data:x,error:b}=await $.rpc("create_user_session_enhanced",{key_input:y});if(b)throw console.error("❌ Database error:",b),b;console.log("📊 Validation response:",x);const j=x;j&&j.valid?(console.log("✅ License validation successful"),localStorage.setItem("license_session_token",j.session_token),localStorage.setItem("license_session_expires",j.expires_at),sessionStorage.setItem("license_validated","true"),sessionStorage.removeItem("password_generated"),sessionStorage.removeItem("generated_license_key"),v&&sessionStorage.setItem("redirect_system_authenticated","true"),f({title:"ALIEN ACCESS AUTHORIZED",description:v?"CIPHER AND LICENSE VALIDATED. PHANTOM ENGINE ACTIVATED.":"PHANTOM ENGINE ACTIVATED. WELCOME TO RAPIDREACH."}),console.log("🚀 Proceeding to main application"),t()):(console.error("❌ License validation failed:",j==null?void 0:j.error),l((j==null?void 0:j.error)||"Invalid license key"),d(_=>_+1))}catch(x){console.error("🚫 License validation error:",x),l("System error. Please try again."),d(b=>b+1)}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center p-2 sm:p-3 md:p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30 sm:opacity-100",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/10 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/10 backdrop-blur-sm transform rotate-12 animate-float-2"})]}),a.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm md:max-w-md z-10",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsxs("div",{className:"mx-auto relative w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mb-3 sm:mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-xl animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 rounded-xl border border-cyan-400/40 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Fe,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-cyan-300"})})]}),a.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-1 sm:mb-2 leading-tight px-2",children:u?"ALIEN AUTHORIZATION":"ALIEN ACCESS AUTHORIZATION"}),a.jsx("p",{className:"text-cyan-300/80 text-xs sm:text-sm font-jetbrains tracking-wide leading-relaxed px-2",children:u?"LICENSE CONFIRMATION REQUIRED":"INITIALIZE ACCESS PANEL TO ENTER PHANTOM ENGINE"})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4 sm:space-y-6 relative z-10",children:[a.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[a.jsx(Ut,{htmlFor:"licenseKey",className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm",children:"ACCESS PANEL"}),a.jsxs("div",{className:"relative",children:[a.jsx(Qe,{id:"licenseKey",type:"text",value:r,onChange:g=>n(g.target.value.toUpperCase()),placeholder:u?"CONFIRM YOUR LICENSE KEY":"PASTE YOUR ACCESS CODE",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 placeholder:text-cyan-400/60 text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 min-h-[48px] touch-manipulation",disabled:u}),o&&a.jsxs("div",{className:"absolute -bottom-6 sm:-bottom-7 left-0 flex items-center gap-1 text-red-300 text-xs font-jetbrains",children:[a.jsx(Pi,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"break-words",children:o})]})]})]}),c>0&&c<5&&a.jsxs("div",{className:"text-xs sm:text-sm text-cyan-400/80 text-center font-jetbrains uppercase tracking-wider",children:["AUTHORIZATION ATTEMPTS: ",c,"/5"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2",children:[a.jsxs(K,{type:"button",variant:"outline",onClick:e,className:"order-2 sm:order-1 flex-1 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm text-xs sm:text-sm py-3 min-h-[48px] touch-manipulation",children:[a.jsx(Kh,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"RETURN"]}),a.jsxs("div",{className:"order-1 sm:order-2 flex-1 relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsx(K,{type:"submit",disabled:c>=5||s||!r.trim(),className:"relative z-10 w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 text-xs sm:text-base py-3 min-h-[48px] touch-manipulation",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Fe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s?"VALIDATING...":u?"COMPLETE ACTIVATION":"AUTHORIZE ACCESS"]})})]})]})]}),a.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-cyan-400/30 relative z-10",children:a.jsx("p",{className:"text-xs sm:text-sm text-cyan-300/70 text-center font-jetbrains leading-relaxed px-2",children:"DIMENSIONAL GATEWAY PROTOCOL ENGAGED"})})]})})]})},w4=()=>{console.log("🧹 Cleaning up auth state..."),sessionStorage.removeItem("redirect_system_authenticated"),sessionStorage.removeItem("license_validated"),sessionStorage.removeItem("password_authenticated"),sessionStorage.removeItem("password_generated"),sessionStorage.removeItem("generated_license_key"),localStorage.removeItem("license_session_token"),localStorage.removeItem("license_session_expires"),localStorage.removeItem("licenseKey"),localStorage.removeItem("authTimestamp"),Object.keys(localStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&localStorage.removeItem(t)}),Object.keys(sessionStorage).forEach(t=>{(t.startsWith("supabase.auth.")||t.includes("sb-"))&&sessionStorage.removeItem(t)}),console.log("✅ Auth state cleanup complete")},Rs=t=>{console.log("🚪 Force logout triggered:",t||"No reason specified"),w4(),t&&console.log(`Forced logout: ${t}`),window.location.replace("/greyboi")},j4=async t=>{try{console.log("🔍 Validating session with database...");const{data:e,error:r}=await $.rpc("validate_session_with_license",{session_token_input:t});return r?(console.error("❌ Session validation error:",r),{valid:!1,error:r.message}):(console.log("📊 Session validation result:",e),e||{valid:!1,error:"No response"})}catch(e){return console.error("🚫 Session validation exception:",e),{valid:!1,error:"Validation failed"}}},_4=({children:t})=>{const e=p.useRef(),r=p.useRef(null),n=p.useRef(null),s=p.useRef(null),[i,o]=p.useState("loading"),[l,c]=p.useState(!0),d=p.useCallback(b=>{e.current!==b&&(e.current=b,o(b))},[]),u=p.useCallback(()=>{n.current&&n.current.close(),n.current=new BroadcastChannel("auth-sync"),n.current.onmessage=b=>{b.data.type==="FORCE_LOGOUT"&&(console.log("Cross-tab logout triggered:",b.data.reason),Rs(b.data.reason))}},[]),h=p.useCallback(b=>{n.current&&n.current.postMessage({type:"FORCE_LOGOUT",reason:b})},[]),f=p.useCallback(async()=>{const b=localStorage.getItem("license_session_token");if(!b)return{valid:!1};try{const j=await j4(b);if(!j.valid)return console.log("Session validation failed:",j.error),h(`Session validation failed: ${j.error}`),Rs(`Session validation failed: ${j.error}`),{valid:!1};const _=j.license_id;return _&&(s.current=_),{valid:j.valid,licenseKeyId:_}}catch(j){return console.error("Database validation error:",j),h("Database validation failed"),Rs("Database validation failed"),{valid:!1}}},[h]),m=p.useCallback(async()=>{console.log("🔍 Checking auth state...");const b=sessionStorage.getItem("password_authenticated"),j=localStorage.getItem("license_session_token"),_=sessionStorage.getItem("redirect_system_authenticated");if(console.log("📊 Auth tokens:",{passwordAuth:!!b,licenseSessionToken:!!j,redirectAuth:!!_}),b&&j){console.log("🔐 User has password auth + license session, validating...");const N=await f();if(N.valid){console.log("✅ Full authentication confirmed"),d("authenticated"),N.licenseKeyId&&x(N.licenseKeyId);return}}if(b&&!j){console.log("🔑 Password auth exists but no valid session, need license key"),d("needsLicenseKey");return}if(_&&!b){if(console.log("📜 Legacy license-only user detected"),j){const N=await f();if(N.valid){d("authenticated"),N.licenseKeyId&&x(N.licenseKeyId);return}}d("needsLicenseKey");return}console.log("❌ No valid authentication found, need login"),d("needsLogin")},[d,f]),g=p.useCallback(async()=>{if(e.current!=="authenticated")return;if(!localStorage.getItem("license_session_token")){await m();return}await m()},[m]),v=p.useCallback((b=!1)=>{console.log("🎉 Login success, isPasswordGeneration:",b);const j=sessionStorage.getItem("password_authenticated"),_=localStorage.getItem("license_session_token");b?(console.log("🔐 Password generation flow - need license validation"),d("needsLicenseKey")):j&&_?(console.log("✅ Existing user with full auth - authenticated"),d("authenticated")):(console.log("🔑 Need license validation"),d("needsLicenseKey"))},[d]),w=p.useCallback(()=>{console.log("✅ License validated successfully"),d("authenticated")},[d]),y=p.useCallback(()=>{console.log("⬅️ Back to login"),d("needsLogin")},[d]),x=p.useCallback(b=>{r.current&&($.removeChannel(r.current),r.current=null),r.current=$.channel(`license-monitor-${b}`).on("postgres_changes",{event:"DELETE",schema:"public",table:"license_keys",filter:`id=eq.${b}`},async j=>{console.log("User license deleted in real-time:",j),h("Your license was deleted"),Rs("Your license was deleted")}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"license_keys",filter:`id=eq.${b}`},async j=>{console.log("User license updated in real-time:",j);const _=j.new;(_==null?void 0:_.status)==="paused"?(h("Your license was paused"),Rs("Your license was paused")):_&&(!_.is_active||_.status!=="active")&&(h("Your license was deactivated"),Rs("Your license was deactivated"))}).subscribe((j,_)=>{_?(console.error("Real-time subscription error:",_),setTimeout(()=>{s.current&&x(s.current)},5e3)):console.log("Real-time subscription status:",j)})},[h]);return p.useEffect(()=>{u(),(async()=>{console.log("🚀 Initializing auth..."),c(!0),await m(),c(!1),console.log("✅ Auth initialization complete")})();const j=setInterval(g,60*1e3);return()=>{clearInterval(j),r.current&&$.removeChannel(r.current),n.current&&n.current.close()}},[m,g,u]),l||i==="loading"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i==="needsLogin"?a.jsx(x4,{onLoginSuccess:v}):i==="needsLicenseKey"?a.jsx(b4,{onValidationSuccess:w,onBack:y}):a.jsx(a.Fragment,{children:t})},N4=({expiresAt:t,expiryPreset:e,className:r=""})=>{const[n,s]=p.useState({days:0,hours:0,minutes:0,seconds:0,total:0}),[i,o]=p.useState(!1);if(p.useEffect(()=>{o(!0)},[]),p.useEffect(()=>{if(!t||e==="lifetime"){s({days:0,hours:0,minutes:0,seconds:0,total:0});return}const h=()=>{const m=new Date().getTime(),v=new Date(t).getTime()-m;if(v>0){const w=Math.floor(v/864e5),y=Math.floor(v%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(v%(1e3*60*60)/(1e3*60)),b=Math.floor(v%(1e3*60)/1e3);s({days:w,hours:y,minutes:x,seconds:b,total:v})}else s({days:0,hours:0,minutes:0,seconds:0,total:0})};h();const f=setInterval(h,1e3);return()=>clearInterval(f)},[t,e]),!i)return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsx(nr,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"text-blue-300 font-mono",children:"Loading..."})]});if(e==="lifetime"||!t)return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hj,{className:"w-5 h-5 text-emerald-400 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 bg-emerald-400/30 rounded-full blur-sm animate-pulse"})]}),a.jsx("span",{className:"text-emerald-300 font-mono font-semibold",children:"Lifetime"})]});if(n.total<=0)return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsx(nr,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"text-red-300 font-mono font-semibold",children:"Expired"})]});const l=()=>{const h=n.total/36e5;return h>24?"text-emerald-300":h>1?"text-yellow-300":"text-red-300"},c=()=>{const h=n.total/36e5;return h>24?"text-emerald-400":h>1?"text-yellow-400":"text-red-400"},d=n.total<24*60*60*1e3,u=()=>n.days>0?`${n.days}d ${n.hours}h ${n.minutes}m`:n.hours>0?`${n.hours}h ${n.minutes}m ${n.seconds}s`:`${n.minutes}m ${n.seconds}s`;return a.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[a.jsx(nr,{className:`w-4 h-4 ${c()} ${d?"animate-pulse":""}`}),a.jsx("span",{className:`font-mono font-semibold ${l()} ${d?"animate-pulse":""}`,children:u()})]})},S4=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(!0),{toast:o}=An(),l=async()=>{try{const g=localStorage.getItem("license_session_token");if(!g){console.log("No session token found"),e(null),n(!1);return}console.log("Fetching license data with token:",g.slice(0,8)+"...");const{data:v,error:w}=await $.from("user_sessions").select(`
          *,
          license_keys:license_key_id (
            license_key,
            expires_at,
            expiry_preset,
            password_generation_count,
            max_password_generations,
            status,
            assigned_user_email
          )
        `).eq("session_token",g).eq("is_active",!0).maybeSingle();if(console.log("Session query result:",{sessionData:v,sessionError:w}),w){console.error("License session error:",w),e(null),n(!1);return}if(!v){console.log("No session data found"),e(null),n(!1);return}if(!v.license_keys){console.log("No license keys found in session data"),e(null),n(!1);return}const y=v.license_keys;console.log("License data found:",y),e(y)}catch(g){console.error("Error fetching license data:",g),e(null)}finally{n(!1)}};if(p.useEffect(()=>{l();const g=$.channel("license-status-changes").on("postgres_changes",{event:"*",schema:"public",table:"license_keys"},v=>{var w;console.log("License status changed:",v),l(),v.eventType==="UPDATE"&&v.new.status!==((w=v.old)==null?void 0:w.status)&&o({title:"License Status Updated",description:`License status changed to: ${v.new.status}`,variant:v.new.status==="paused"?"destructive":"default"})}).subscribe();return()=>{$.removeChannel(g)}},[o]),r)return a.jsxs(q,{className:"mb-6 relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent"}),a.jsx(Y,{className:"relative z-10 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-cyan-400/30 rounded animate-pulse"}),a.jsx("div",{className:"h-5 bg-cyan-400/20 rounded w-1/3"})]}),a.jsx("div",{className:"h-4 bg-blue-400/20 rounded w-1/2"})]})})]});if(!t)return null;const c=()=>{switch(t.status){case"active":return a.jsx(ve,{className:"bg-gradient-to-r from-emerald-500/30 to-green-400/30 text-emerald-200 border border-emerald-400/40 font-jetbrains font-bold uppercase tracking-wider",children:"OPERATIONAL"});case"paused":return a.jsx(ve,{className:"bg-gradient-to-r from-yellow-500/30 to-orange-400/30 text-yellow-200 border border-yellow-400/40 font-jetbrains font-bold uppercase tracking-wider",children:"SUSPENDED"});case"expired":return a.jsx(ve,{className:"bg-gradient-to-r from-red-500/30 to-pink-400/30 text-red-200 border border-red-400/40 font-jetbrains font-bold uppercase tracking-wider",children:"TERMINATED"});default:return a.jsx(ve,{className:"bg-gradient-to-r from-gray-500/30 to-slate-400/30 text-gray-200 border border-gray-400/40 font-jetbrains font-bold uppercase tracking-wider",children:t.status.toUpperCase()})}},d=()=>`${t.password_generation_count} / ${t.max_password_generations} PASSWORD GENERATIONS`,u=()=>t.password_generation_count/t.max_password_generations*100,h=g=>g?{"1_day":"ALPHA1 [24H]","2_days":"BETA2 [48H]","5_days":"GAMMA5 [120H]","1_month":"DELTA30 [LUNAR]","1_year":"OMEGA365 [SOLAR]",lifetime:"QUANTUM ETERNAL"}[g]||`${g.toUpperCase()} PROTOCOL`:"CUSTOM PROTOCOL",f=u(),m=f>80;return a.jsxs(q,{className:"mb-6 relative bg-glass-tier-1 border border-cyan-400/30 backdrop-blur-sm overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent"}),a.jsxs(Y,{className:"relative z-10 p-0",children:[a.jsxs("div",{className:"p-6 cursor-pointer flex items-center justify-between hover:bg-cyan-500/10 transition-all duration-300 group",onClick:()=>i(!s),children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("div",{className:"flex flex-col gap-1",children:a.jsx("div",{className:"flex items-center gap-2",children:c()})})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(N4,{expiresAt:t.expires_at,expiryPreset:t.expiry_preset}),a.jsx("div",{className:"p-2 rounded-lg bg-slate-700/50 border border-cyan-400/30 group-hover:border-cyan-300/50 transition-colors",children:s?a.jsx(Xl,{className:"w-5 h-5 text-cyan-400"}):a.jsx(qh,{className:"w-5 h-5 text-cyan-400"})})]})]}),!s&&a.jsxs("div",{className:"px-6 pb-6 space-y-4 border-t border-cyan-400/20 bg-gradient-to-b from-transparent to-blue-900/20",children:[t.assigned_user_email&&a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-400/20 to-blue-500/20 rounded-lg border border-purple-400/30",children:a.jsx(ny,{className:"w-5 h-5 text-purple-300"})}),a.jsx("div",{className:"flex-1",children:a.jsx("span",{className:"text-purple-200 font-jetbrains text-sm",children:t.assigned_user_email})})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-400/20 to-purple-500/20 rounded-lg border border-indigo-400/30",children:a.jsx(Fe,{className:"w-5 h-5 text-indigo-300"})}),a.jsx("div",{className:"flex-1",children:a.jsx(ve,{variant:"outline",className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 text-indigo-200 border-indigo-400/40 font-jetbrains font-bold uppercase tracking-wider",children:h(t.expiry_preset)})})]}),a.jsxs("div",{className:"space-y-3 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-lg border border-orange-400/30",children:a.jsx(wa,{className:"w-5 h-5 text-orange-300"})}),a.jsx("div",{className:"flex-1",children:a.jsx("span",{className:`font-jetbrains text-lg font-bold ${m?"text-yellow-300":"text-orange-200"}`,children:d()})})]}),a.jsx("div",{className:"w-full bg-slate-700/70 rounded-full h-3 overflow-hidden border border-cyan-400/20",children:a.jsx("div",{className:`h-full transition-all duration-500 ${f>90?"bg-gradient-to-r from-red-500 to-pink-400":f>70?"bg-gradient-to-r from-yellow-500 to-orange-400":"bg-gradient-to-r from-emerald-500 to-cyan-400"}`,style:{width:`${Math.min(f,100)}%`}})})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50 border border-cyan-400/20",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(ey,{className:"w-5 h-5 text-cyan-300"})}),a.jsx("div",{className:"flex-1",children:a.jsxs("code",{className:"text-cyan-200 font-jetbrains text-sm bg-slate-700/70 px-3 py-2 rounded border border-cyan-400/30",children:[t.license_key.slice(0,8),"●●●●●●●●",t.license_key.slice(-4)]})})]})]})]})]})},k4=()=>{const[t,e]=p.useState({totalVisits:0,humanVisits:0,botVisits:0,todayVisits:0,todayHuman:0,todayBot:0}),[r,n]=p.useState(!0);p.useEffect(()=>{s();const c=setInterval(s,6e4);return()=>clearInterval(c)},[]);const s=async()=>{try{const{data:c,error:d}=await $.rpc("get_real_analytics_summary");if(d){console.error("Error fetching analytics data:",d);return}const u=c;e({totalVisits:(u==null?void 0:u.totalVisits)||0,humanVisits:(u==null?void 0:u.humanVisits)||0,botVisits:(u==null?void 0:u.botVisits)||0,todayVisits:(u==null?void 0:u.todayVisits)||0,todayHuman:(u==null?void 0:u.todayHuman)||0,todayBot:(u==null?void 0:u.todayBot)||0})}catch(c){console.error("Error fetching analytics data:",c)}finally{n(!1)}},i=t.totalVisits>0?Math.round(t.humanVisits/t.totalVisits*100):0,o=t.totalVisits>0?Math.round(t.botVisits/t.totalVisits*100):0,l=[{title:"HUMAN VISITORS",value:t.humanVisits.toLocaleString(),percentage:i,icon:vl,color:"emerald",description:`${t.todayHuman} today`,gradient:"from-emerald-500/40 to-green-400/40",border:"border-emerald-400/50",text:"text-emerald-300"},{title:"BOT DETECTIONS",value:t.botVisits.toLocaleString(),percentage:o,icon:Jx,color:"red",description:`${t.todayBot} today`,gradient:"from-red-500/40 to-orange-400/40",border:"border-red-400/50",text:"text-red-300"},{title:"TOTAL VISITS",value:t.totalVisits.toLocaleString(),percentage:100,icon:_n,color:"blue",description:`${t.todayVisits} today`,gradient:"from-cyan-500/40 to-blue-400/40",border:"border-cyan-400/50",text:"text-cyan-300"}];return r?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:[1,2,3].map(c=>a.jsx(q,{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-cyan-500/20 backdrop-blur-sm overflow-hidden",children:a.jsxs(Y,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-slate-700/50 rounded-lg animate-pulse",children:a.jsx(Ct,{className:"w-5 h-5 text-cyan-400/50 animate-spin"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("div",{className:"h-3 bg-slate-700/50 rounded animate-pulse"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-8 bg-slate-700/50 rounded animate-pulse"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"h-3 bg-slate-700/50 rounded flex-1 mr-4 animate-pulse"}),a.jsx("div",{className:"h-3 bg-slate-700/50 rounded w-8 animate-pulse"})]})]})]})},c))}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:l.map((c,d)=>a.jsxs(q,{className:`relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 ${c.border} backdrop-blur-sm overflow-hidden hover:scale-105 transition-all duration-300 shadow-2xl`,children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} animate-pulse`}),a.jsxs(Y,{className:"relative z-10 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:`p-2 bg-gradient-to-br ${c.gradient} rounded-lg ${c.border}`,children:a.jsx(c.icon,{className:`w-5 h-5 ${c.text}`})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("span",{className:`font-jetbrains text-xs font-bold ${c.text} uppercase tracking-wider block truncate`,children:c.title})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`font-jetbrains text-2xl font-bold ${c.text}`,children:c.value}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-300 font-jetbrains text-xs",children:c.description}),a.jsxs("span",{className:`font-jetbrains text-xs font-bold ${c.text}`,children:[c.percentage,"%"]})]})]})]})]},c.title))})},E4=({analyticsData:t})=>{const[e,r]=p.useState([]),[n,s]=p.useState(!0),i=async()=>{try{const u=localStorage.getItem("license_session_token");if(!u){console.log("No session token found for visit logs"),r([]),s(!1);return}const{data:h,error:f}=await $.from("user_sessions").select("license_key_id").eq("session_token",u).eq("is_active",!0).maybeSingle();if(f||!h){console.error("Session error:",f),r([]),s(!1);return}const{data:m,error:g}=await $.from("visit_logs").select("*").eq("license_key_id",h.license_key_id).order("created_at",{ascending:!1}).limit(50);g?(console.error("Logs error:",g),r([])):r(m||[])}catch(u){console.error("Error fetching visit logs:",u),r([])}finally{s(!1)}};p.useEffect(()=>{i();const u=$.channel("visit-logs-changes").on("postgres_changes",{event:"*",schema:"public",table:"visit_logs"},h=>{console.log("Visit logs changed:",h),i()}).subscribe();return()=>{$.removeChannel(u)}},[]);const o=(u,h)=>{const f={redirect:{color:"bg-blue-500/20 text-blue-300 border-blue-400/40",text:"REDIRECT"},blocked:{color:"bg-red-500/20 text-red-300 border-red-400/40",text:"BLOCKED"},monitored:{color:"bg-yellow-500/20 text-yellow-300 border-yellow-400/40",text:"MONITORED"},allowed:{color:"bg-emerald-500/20 text-emerald-300 border-emerald-400/40",text:"ALLOWED"},unknown:{color:"bg-slate-500/20 text-slate-300 border-slate-400/40",text:"UNKNOWN"}},m=f[u]||f.unknown;return a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-bold border ${m.color}`,children:m.text})},l=(u,h)=>{if(!h||u===0)return null;let f="bg-emerald-500/20 text-emerald-300 border-emerald-400/40";return u>=80?f="bg-red-500/20 text-red-300 border-red-400/40":u>=60&&(f="bg-yellow-500/20 text-yellow-300 border-yellow-400/40"),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-bold border ${f}`,children:[u,"% BOT"]})},c=u=>{if(!u||u.length!==2)return"🌍";const f=u.toUpperCase().split("").map(m=>127397+m.charCodeAt(0));return String.fromCodePoint(...f)},d=u=>{const h=new Date(u),m=new Date().getTime()-h.getTime(),g=Math.floor(m/6e4),v=Math.floor(m/36e5);return g<1?"Just now":g<60?`${g}m ago`:v<24?`${v}h ago`:h.toLocaleDateString()+" "+h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return n?a.jsx("div",{className:"relative bg-glass-tier-2 border border-slate-400/30 backdrop-blur-sm rounded-lg overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-slate-400/20 to-gray-500/20 rounded-lg border border-slate-400/30",children:a.jsx(wn,{className:"w-5 h-5 text-slate-300"})}),a.jsx("span",{className:"font-jetbrains text-slate-300 text-sm font-bold uppercase tracking-wider",children:"REAL-TIME VISIT LOGS"})]}),a.jsx("div",{className:"space-y-3",children:[...Array(5)].map((u,h)=>a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-12 bg-slate-700/30 rounded-lg"})},h))})]})}):a.jsxs("div",{className:"relative bg-glass-tier-2 border border-slate-400/30 backdrop-blur-sm rounded-lg overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-400/5 via-gray-500/5 to-slate-400/5 animate-gradient-flow"}),a.jsxs("div",{className:"relative z-10 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-slate-400/20 to-gray-500/20 rounded-lg border border-slate-400/30",children:a.jsx(wn,{className:"w-5 h-5 text-slate-300"})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-jetbrains text-slate-300 text-sm font-bold uppercase tracking-wider",children:"REAL-TIME VISIT LOGS"}),a.jsxs("div",{className:"text-slate-400 text-xs",children:[e.length," records | Live tracking active"]})]})]}),a.jsxs(K,{size:"sm",variant:"outline",className:"border-slate-400/40 hover:border-slate-300/60 bg-slate-800/50 hover:bg-slate-700/60 text-slate-200",onClick:()=>{s(!0),i()},children:[a.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-slate-400 text-sm",children:"No visit logs found. Visits will appear here in real-time."})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-600/30",children:[a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Time"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"IP Address"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Location"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"ISP"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Device"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Browser"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-jetbrains text-slate-300 uppercase tracking-wider text-xs",children:"Action"})]})}),a.jsx("tbody",{children:e.map(u=>a.jsxs("tr",{className:`border-b border-slate-700/30 hover:bg-slate-700/20 transition-colors ${u.is_bot?"bg-red-900/10":"bg-emerald-900/5"}`,children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nr,{className:"w-3 h-3 text-slate-500"}),a.jsx("span",{className:"text-slate-300 text-xs font-mono",children:d(u.created_at)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[u.is_bot?a.jsx(Jx,{className:"w-4 h-4 text-red-400"}):a.jsx(ny,{className:"w-4 h-4 text-emerald-400"}),a.jsx("span",{className:"font-mono text-slate-200 text-xs",children:u.ip_address})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:c(u.country_code)}),a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"text-slate-200",children:u.city||u.region||u.country_name||"Unknown"}),a.jsx("div",{className:"text-slate-500",children:u.country_code})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-slate-300 text-xs",children:u.isp||"Unknown ISP"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-slate-300 text-xs",children:u.device_type||u.os||"Unknown"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-slate-300 text-xs",children:u.browser||"Unknown"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[u.is_bot?a.jsx("span",{className:"text-red-300 text-xs font-bold",children:"BOT"}):a.jsx("span",{className:"text-emerald-300 text-xs font-bold",children:"HUMAN"}),l(u.bot_confidence,u.is_bot)]})}),a.jsx("td",{className:"py-3 px-4",children:o(u.action_taken,u.is_bot)})]},u.id))})]})})]})]})},C4=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(!0),{toast:o}=An(),l=async()=>{try{const c=localStorage.getItem("license_session_token");if(console.log("Session token found:",c?"Yes":"No"),!c){console.log("No session token found for analytics"),e(null),n(!1);return}const{data:d,error:u}=await $.from("user_sessions").select("license_key_id").eq("session_token",c).eq("is_active",!0).gte("expires_at","now()").maybeSingle();console.log("Session query result:",{sessionData:d,sessionError:u});let h=d;if(u||!d){console.error("Session validation failed, trying direct license lookup...");const{data:_}=await $.from("license_keys").select("id").eq("license_key","C884F50E7B934CABBA383191").maybeSingle();if(console.log("Direct license lookup:",_),_)h={license_key_id:_.id};else{e(null),n(!1);return}}const{data:f,error:m}=await $.from("user_visit_stats").select("*").eq("license_key_id",h.license_key_id).order("visit_date",{ascending:!1});if(m){console.error("Stats error:",m),e(null),n(!1);return}const{data:g}=await $.from("visit_logs").select("*").eq("license_key_id",h.license_key_id);console.log("Visit logs found:",(g==null?void 0:g.length)||0),console.log("Visit stats found:",(f==null?void 0:f.length)||0);let v,w,y,x,b,j;if(f.length>0){v=f.reduce((S,k)=>S+k.total_visits,0),w=f.reduce((S,k)=>S+k.human_visits,0),y=f.reduce((S,k)=>S+k.bot_visits,0);const _=new Date().toISOString().split("T")[0],N=f.find(S=>S.visit_date===_);x=(N==null?void 0:N.total_visits)||0,b=(N==null?void 0:N.human_visits)||0,j=(N==null?void 0:N.bot_visits)||0}else if(g&&g.length>0){v=g.length,w=g.filter(S=>!S.is_bot).length,y=g.filter(S=>S.is_bot).length;const _=new Date().toISOString().split("T")[0],N=g.filter(S=>S.created_at.startsWith(_));x=N.length,b=N.filter(S=>!S.is_bot).length,j=N.filter(S=>S.is_bot).length}else v=w=y=x=b=j=0;e({totalVisits:v,humanVisits:w,botVisits:y,todayVisits:x,todayHuman:b,todayBot:j,topCountries:[],recentActivity:[]})}catch(c){console.error("Error fetching analytics:",c),e(null)}finally{n(!1)}};return p.useEffect(()=>{l();const c=$.channel("visit-analytics-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_visit_stats"},d=>{console.log("Visit stats changed:",d),l(),d.eventType==="INSERT"&&o({title:"New Visit Recorded",description:`Visit logged for ${d.new.visit_date}`,variant:"default"})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"visit_logs"},d=>{console.log("New visit log:",d),l(),o({title:"🔍 Visit Detected",description:`${d.new.is_bot?"Bot":"Human"} visit from ${d.new.country_name||"Unknown"}`,variant:"default"})}).subscribe();return()=>{$.removeChannel(c)}},[o]),r?a.jsxs(q,{className:"mb-6 relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/10 via-blue-500/10 to-purple-500/10 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx(Y,{className:"relative z-10 p-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-6 h-6 bg-cyan-400/30 rounded animate-pulse"}),a.jsx("div",{className:"h-5 bg-cyan-400/20 rounded w-1/3"})]}),a.jsx("div",{className:"h-4 bg-blue-400/20 rounded w-1/2"})]})})]}):t?a.jsxs(q,{className:"mb-6 relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-sm overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/10 via-blue-500/10 to-purple-500/10 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx("div",{className:"absolute top-4 right-6 w-3 h-3 bg-cyan-400/30 rounded-full animate-pulse"}),a.jsx("div",{className:"absolute bottom-4 left-8 w-2 h-2 bg-blue-400/40 rounded-full animate-pulse",style:{animationDelay:"1s"}}),a.jsxs(Y,{className:"relative z-10 p-0",children:[a.jsxs("div",{className:"p-6 cursor-pointer flex items-center justify-between hover:bg-cyan-500/10 transition-all duration-300 group",onClick:()=>i(!s),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 rounded-lg animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 p-2 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(zj,{className:"w-6 h-6 text-cyan-300"})})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"font-jetbrains text-lg font-bold text-cyan-200 uppercase tracking-wider",children:"VISIT ANALYTICS MATRIX"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ve,{className:"relative bg-gradient-to-r from-cyan-500/30 to-blue-400/30 text-cyan-200 border border-cyan-400/40 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/20 animate-pulse rounded"}),a.jsx("span",{className:"relative z-10",children:"ACTIVE"})]}),a.jsxs(ve,{variant:"outline",className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-200 border-blue-400/40 font-jetbrains font-bold uppercase tracking-wider",children:[t.totalVisits," TOTAL"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-cyan-300 font-jetbrains text-sm font-bold",children:"TODAY"}),a.jsx("div",{className:"text-cyan-200 font-jetbrains text-lg font-bold",children:t.todayVisits})]}),a.jsx("div",{className:"p-2 rounded-lg bg-slate-700/50 border border-cyan-400/30 group-hover:border-cyan-300/50 transition-colors",children:s?a.jsx(Xl,{className:"w-5 h-5 text-cyan-400"}):a.jsx(qh,{className:"w-5 h-5 text-cyan-400"})})]})]}),!s&&a.jsxs("div",{className:"px-6 pb-6 space-y-6 border-t border-cyan-400/20 bg-gradient-to-b from-transparent to-blue-900/20",children:[a.jsx(k4,{}),a.jsx(E4,{analyticsData:t})]})]})]}):null},T4=()=>{const[t,e]=p.useState({threatLevel:"low",botDetections:0,humanVisits:0,blockedThreats:0,protectionScore:99,lastThreatDetected:null,emailScannerDetections:0,scannerTypes:{}}),[r,n]=p.useState(!0),[s,i]=p.useState(!1),o=async()=>{try{const d=localStorage.getItem("license_session_token");if(!d){n(!1);return}const{data:u}=await $.rpc("validate_session_with_license",{session_token_input:d}),h=typeof u=="string"?JSON.parse(u):u;if(!(h!=null&&h.valid)){n(!1);return}const{data:f}=await $.from("user_visit_stats").select("*").eq("license_key_id",h.license_id).gte("visit_date",new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0]).order("visit_date",{ascending:!1}),m=(f==null?void 0:f.reduce((_,N)=>_+N.bot_visits,0))||0,g=(f==null?void 0:f.reduce((_,N)=>_+N.human_visits,0))||0,v=m+g,{data:w}=await $.from("visit_logs").select("user_agent, action_taken").eq("license_key_id",h.license_id).gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()),y=(w==null?void 0:w.filter(_=>_.user_agent&&(_.user_agent.includes("Microsoft-URLAnalyzer")||_.user_agent.includes("SafeLinks")||_.user_agent.includes("Gmail-ImageProxy")||_.user_agent.includes("Mimecast")||_.user_agent.includes("Proofpoint")||_.user_agent.includes("Barracuda")||_.action_taken==="email_scanner_detected")))||[],x={};y.forEach(_=>{var N,S,k,E,T,O;(N=_.user_agent)!=null&&N.includes("Microsoft-URLAnalyzer")||(S=_.user_agent)!=null&&S.includes("SafeLinks")?x["Microsoft 365"]=(x["Microsoft 365"]||0)+1:(k=_.user_agent)!=null&&k.includes("Gmail-ImageProxy")?x.Gmail=(x.Gmail||0)+1:(E=_.user_agent)!=null&&E.includes("Mimecast")?x.Mimecast=(x.Mimecast||0)+1:(T=_.user_agent)!=null&&T.includes("Proofpoint")?x.Proofpoint=(x.Proofpoint||0)+1:(O=_.user_agent)!=null&&O.includes("Barracuda")?x.Barracuda=(x.Barracuda||0)+1:x.Other=(x.Other||0)+1});let b="low";if(v>0){const _=m/v*100;_>70?b="high":_>40&&(b="medium")}const j=Math.max(85,Math.min(99,99-m*2));e({threatLevel:b,botDetections:m,humanVisits:g,blockedThreats:Math.floor(m*.8),protectionScore:j,lastThreatDetected:m>0?"Recent":null,emailScannerDetections:y.length,scannerTypes:x})}catch(d){console.error("Error fetching security metrics:",d)}finally{n(!1)}};p.useEffect(()=>{o();const d=setInterval(o,3e4);return()=>clearInterval(d)},[]);const l=d=>{switch(d){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-amber-600 bg-amber-50 border-amber-200";default:return"text-emerald-600 bg-emerald-50 border-emerald-200"}},c=d=>d>=95?"text-emerald-600":d>=85?"text-blue-600":d>=75?"text-amber-600":"text-red-600";return r?a.jsx(q,{className:"animate-pulse",children:a.jsxs(Y,{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-slate-200 rounded mb-4"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(d=>a.jsx("div",{className:"h-16 bg-slate-200 rounded"},d))})]})}):a.jsx(q,{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 text-white border-cyan-400/30",children:a.jsxs(Y,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 rounded-lg animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 p-2 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-lg border border-cyan-400/30",children:a.jsx(ct,{className:"w-5 h-5 text-cyan-300"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-jetbrains font-bold text-cyan-200 tracking-wider uppercase",children:"PHANTOM Protocol Status"}),a.jsx("p",{className:"font-jetbrains text-sm text-blue-300/80",children:"Real-time security monitoring with email scanner detection"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ve,{className:`font-jetbrains ${l(t.threatLevel)} font-bold uppercase tracking-wider`,children:[t.threatLevel," threat"]}),a.jsx("button",{onClick:()=>i(!s),className:"p-2 bg-slate-800/50 hover:bg-slate-700/60 rounded-lg border border-cyan-400/30 transition-all duration-300 backdrop-blur-sm","aria-label":s?"Collapse security details":"Expand security details",children:s?a.jsx(qh,{className:"w-4 h-4 text-cyan-300"}):a.jsx(Xl,{className:"w-4 h-4 text-cyan-300"})})]})]}),a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-slate-800/50 to-blue-900/50 rounded-xl border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-jetbrains text-cyan-300 font-medium",children:"Protection Score"}),a.jsxs("span",{className:`font-jetbrains text-2xl font-bold ${c(t.protectionScore)}`,children:[t.protectionScore,"%"]})]}),a.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${t.protectionScore}%`}})})]}),a.jsxs("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${s?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-br from-emerald-500/20 to-green-500/20 rounded-xl border border-emerald-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ba,{className:"w-4 h-4 text-emerald-400"}),a.jsx("span",{className:"font-jetbrains text-emerald-300 text-sm font-medium",children:"Human Visits"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-emerald-200",children:t.humanVisits})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-xl border border-red-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(st,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{className:"font-jetbrains text-red-300 text-sm font-medium",children:"Bot Detections"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-red-200",children:t.botDetections})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-500/20 to-indigo-500/20 rounded-xl border border-purple-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Wj,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{className:"font-jetbrains text-purple-300 text-sm font-medium",children:"Threats Blocked"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-purple-200",children:t.blockedThreats})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl border border-blue-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(_n,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"font-jetbrains text-blue-300 text-sm font-medium",children:"Email Scanners"})]}),a.jsx("div",{className:"font-jetbrains text-2xl font-bold text-blue-200",children:t.emailScannerDetections})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl border border-cyan-400/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(wn,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"font-jetbrains text-cyan-300 text-sm font-medium",children:"Last Scan"})]}),a.jsx("div",{className:"font-jetbrains text-sm font-bold text-cyan-200",children:"Active"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-jetbrains font-semibold text-cyan-300 uppercase tracking-wide text-sm",children:"Active Defenses"}),[{icon:_n,name:"Ghost Protocol",status:"Active"},{icon:Ot,name:"Neural Firewall",status:"Active"},{icon:Fe,name:"Threat Radar",status:"Scanning"},{icon:ct,name:"Email Scanner Guard",status:"Monitoring"}].map((d,u)=>a.jsxs("div",{className:"flex items-center gap-3 p-2 bg-slate-800/30 rounded-lg",children:[a.jsx(d.icon,{className:"w-4 h-4 text-cyan-400"}),a.jsx("span",{className:"font-jetbrains text-blue-200 text-sm flex-1",children:d.name}),a.jsx(ve,{className:"font-jetbrains bg-emerald-500/20 text-emerald-300 text-xs border-emerald-400/30",children:d.status})]},u))]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-jetbrains font-semibold text-cyan-300 uppercase tracking-wide text-sm",children:"Scanner Detection"}),a.jsxs("div",{className:"space-y-2",children:[Object.entries(t.scannerTypes).length>0?Object.entries(t.scannerTypes).map(([d,u])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-jetbrains text-blue-300",children:d}),a.jsx("span",{className:"font-jetbrains text-emerald-300 font-medium",children:u})]},d)):a.jsx("div",{className:"font-jetbrains text-sm text-blue-300/70",children:"No email scanners detected recently"}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-500/20",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-jetbrains text-blue-300",children:"Detection Mode"}),a.jsx("span",{className:"font-jetbrains text-emerald-300 font-medium",children:"Enhanced"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-jetbrains text-blue-300",children:"Response Time"}),a.jsx("span",{className:"font-jetbrains text-emerald-300 font-medium",children:"<50ms"})]})]})]})]})]})]})]})})},P4=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(new Set);p.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const{data:u,error:h}=await $.from("script_downloads").select("*").eq("is_active",!0).order("upload_date",{ascending:!1});if(h)throw h;e(u||[])}catch(u){console.error("Error fetching scripts:",u),pe.error("Failed to load scripts")}finally{n(!1)}},l=async u=>{try{i(y=>new Set(y).add(u.id));const h=localStorage.getItem("license_session_token");if(!h){pe.error("Session expired. Please login again.");return}const f=localStorage.getItem("license_session_expires");if(f&&new Date(f)<new Date){pe.error("Session expired. Please login again."),localStorage.removeItem("license_session_token"),localStorage.removeItem("license_session_expires");return}const{data:m,error:g}=await $.storage.from("script-files").download(u.file_path);if(g){console.error("Storage download error:",g),g.message.includes("not found")?pe.error("File not found or has been removed"):g.message.includes("permission")?pe.error("Access denied. Please check your permissions."):pe.error("Failed to download file from storage");return}const v=URL.createObjectURL(m),w=document.createElement("a");w.href=v,w.download=u.filename,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(v);try{const{data:y,error:x}=await $.from("user_sessions").select("license_key_id").eq("session_token",h).eq("is_active",!0).single();if(x){console.error("Session validation error:",x),pe.error("Session validation failed. Please login again.");return}if(y!=null&&y.license_key_id){const{error:b}=await $.rpc("log_script_download",{script_id_input:u.id,license_key_id_input:y.license_key_id,ip_address_input:null,user_agent_input:navigator.userAgent});b&&console.error("Download logging error:",b)}}catch(y){console.error("Download logging failed:",y)}pe.success(`Downloaded ${u.display_name}`),o()}catch(h){console.error("Download error:",h),pe.error("Failed to download script")}finally{i(h=>{const f=new Set(h);return f.delete(u.id),f})}},c=u=>{if(u===0)return"0 Bytes";const h=1024,f=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(u)/Math.log(h));return parseFloat((u/Math.pow(h,m)).toFixed(2))+" "+f[m]},d=u=>{switch(u.toLowerCase()){case"cpanel":return"bg-blue-500/20 text-blue-300 border-blue-400/50";case"automation":return"bg-green-500/20 text-green-300 border-green-400/50";case"security":return"bg-red-500/20 text-red-300 border-red-400/50";case"utilities":return"bg-purple-500/20 text-purple-300 border-purple-400/50";default:return"bg-cyan-500/20 text-cyan-300 border-cyan-400/50"}};return r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),a.jsx("span",{className:"ml-3 text-cyan-300 font-jetbrains tracking-wider uppercase",children:"Loading Phantom Files..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/30 animate-pulse blur-sm rounded-xl"}),a.jsx("div",{className:"relative w-12 h-12 rounded-xl bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border border-cyan-400/30 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Ai,{className:"w-6 h-6 text-cyan-300"})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-jetbrains text-2xl font-bold text-white tracking-wider uppercase",children:"PHANTOM DOWNLOADS"}),a.jsx("p",{className:"text-cyan-300/80 font-jetbrains tracking-wide uppercase text-sm",children:"SECURE FILE TRANSMISSION PROTOCOL"})]})]}),t.length===0?a.jsx(q,{className:"bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-cyan-400/30",children:a.jsxs(Y,{className:"p-6 text-center",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cyan-400/20 animate-pulse blur-md rounded-full"}),a.jsx(Xx,{className:"relative w-12 h-12 text-cyan-400/70 mx-auto"})]}),a.jsx("h3",{className:"font-jetbrains text-lg font-bold text-white mb-2 tracking-wider uppercase",children:"NO PHANTOM FILES DETECTED"}),a.jsx("p",{className:"text-cyan-300/70 font-jetbrains tracking-wide uppercase text-sm",children:"TRANSMISSION QUEUE EMPTY"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:t.map(u=>a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 border-cyan-400/30 hover:border-cyan-400/60 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/20 group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent group-hover:animate-scan-line"}),a.jsx(ue,{className:"pb-2 p-3 relative z-10",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(he,{className:"font-jetbrains text-xs text-white group-hover:text-cyan-300 transition-colors truncate tracking-wider uppercase",children:u.display_name}),a.jsxs(gt,{className:"text-cyan-300/80 font-jetbrains text-xs mt-1 truncate tracking-wider uppercase",children:["V",u.version]})]}),a.jsx(ve,{variant:"outline",className:`${d(u.category)} font-jetbrains text-xs flex-shrink-0 tracking-wider uppercase backdrop-blur-sm px-2 py-0`,children:u.category})]})}),a.jsxs(Y,{className:"space-y-2 p-3 pt-0 relative z-10",children:[u.description&&a.jsx("div",{className:"bg-gradient-to-r from-slate-800/50 to-blue-900/50 border border-cyan-400/20 rounded-lg p-2",children:a.jsx("p",{className:"text-blue-200/90 text-xs font-inter leading-relaxed truncate",children:u.description})}),a.jsx("div",{className:"bg-gradient-to-r from-slate-800/50 to-blue-900/50 border border-cyan-400/20 rounded-lg p-2",children:a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1 text-cyan-300/80",children:[a.jsx(Zx,{className:"w-3 h-3"}),a.jsx("span",{className:"font-jetbrains font-bold",children:c(u.file_size)})]}),a.jsxs("div",{className:"flex items-center gap-1 text-cyan-300/80",children:[a.jsx(vl,{className:"w-3 h-3"}),a.jsx("span",{className:"font-jetbrains font-bold",children:u.download_count})]}),a.jsxs("div",{className:"flex items-center gap-1 text-blue-300/80",children:[a.jsx(nr,{className:"w-3 h-3"}),a.jsx("span",{className:"font-jetbrains font-bold",children:new Date(u.upload_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})]})}),a.jsxs("div",{className:"relative group/btn",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-lg opacity-40 blur group-hover/btn:opacity-80 transition duration-300"}),a.jsx(K,{onClick:()=>l(u),disabled:s.has(u.id),className:"relative z-10 w-full bg-gradient-to-r from-cyan-600/80 to-blue-600/80 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold transition-all duration-300 tracking-wider uppercase text-xs py-1 h-7",children:s.has(u.id)?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}),"TRANSMITTING..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gl,{className:"w-3 h-3 mr-2 group-hover/btn:animate-bounce"}),"DOWNLOAD"]})})]})]})]},u.id))})]})},A4=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(new Set),o=async()=>{try{const m=localStorage.getItem("license_session_token");if(console.log("Session token:",m),!m){console.error("No session token found"),n(!1);return}const{data:g,error:v}=await $.rpc("get_manual_decisions_for_session",{session_token_input:m});if(console.log("Manual decisions data:",g),console.log("Manual decisions error:",v),v){console.error("Error fetching manual decisions:",v);return}e(g||[])}catch(m){console.error("Error:",m)}finally{n(!1)}},l=async(m,g)=>{var w;const v=`${m}_${g}`;if(s.has(v)){console.log("Decision already being processed:",v);return}console.log("Starting decision process:",{decisionKey:m,decision:g,processKey:v}),i(y=>new Set([...y,v]));try{const y=localStorage.getItem("license_session_token");if(!y){console.error("No session token found"),pe.error("No session token found");return}console.log("Calling API with:",{sessionToken:y,decision:g,decisionKey:m});const x=await $.functions.invoke("req-p7v4n1",{body:{sessionToken:y,decision:g,decisionKey:m,visitorData:{ip:"user_dashboard"}}});if(console.log("API Response:",x),x.error){console.error("Decision update error:",x.error),pe.error("Failed to update decision");return}if(!x.data){console.error("No response data"),pe.error("Failed to update decision");return}if(!x.data.success){console.error("Decision update failed:",x.data),pe.error(((w=x.data)==null?void 0:w.error)||"Failed to update decision");return}console.log("Decision updated successfully"),e(b=>b.map(j=>j.decision_key===m?{...j,decision:g}:j)),pe.success(`Visitor ${g==="allow"?"allowed":"denied"}`,{duration:2e3}),setTimeout(()=>{o()},1e3)}catch(y){console.error("Error updating decision:",y),pe.error("Failed to update decision")}finally{console.log("Clearing processing state for:",v),i(y=>{const x=new Set(y);return x.delete(v),console.log("New processing decisions:",x),x})}},c=m=>!m||m.length!==2?"🌍":String.fromCodePoint(...m.toUpperCase().split("").map(g=>127462+g.charCodeAt(0)-65)),d=m=>m?m.includes("Chrome")&&!m.includes("Edg")?"Chrome":m.includes("Firefox")?"Firefox":m.includes("Safari")&&!m.includes("Chrome")?"Safari":m.includes("Edg")?"Edge":m.includes("Opera")?"Opera":"Unknown Browser":"Unknown Browser",u=m=>{const g=new Date,v=new Date(m),w=g.getTime()-v.getTime(),y=Math.floor(w/6e4);if(y<1)return"Just now";if(y<60)return`${y}m ago`;const x=Math.floor(y/60);return x<24?`${x}h ago`:`${Math.floor(x/24)}d ago`};if(p.useEffect(()=>{o();const m=setInterval(()=>{s.size===0&&o()},5e3);return()=>clearInterval(m)},[s]),r)return a.jsxs(q,{children:[a.jsx(ue,{children:a.jsxs(he,{className:"flex items-center gap-2",children:[a.jsx(st,{className:"w-5 h-5"}),"Pending Decisions"]})}),a.jsx(Y,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading pending decisions..."})]})})]});const h=t.filter(m=>m.decision==="pending"),f=t.filter(m=>m.decision!=="pending").slice(0,5);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{children:[a.jsx(ue,{children:a.jsxs(he,{className:"flex items-center gap-2",children:[a.jsx(st,{className:"w-5 h-5 text-yellow-500"}),"Pending Manual Decisions",h.length>0&&a.jsx(ve,{variant:"destructive",children:h.length})]})}),a.jsx(Y,{children:h.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ba,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"No pending decisions"})]}):a.jsx("div",{className:"space-y-4",children:h.map((m,g)=>{var v,w,y,x,b,j,_,N;return a.jsxs("div",{className:`
                     border border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20 dark:border-yellow-800 
                     rounded-lg p-4 transition-all duration-300 hover:shadow-md
                     animate-fade-in opacity-0
                   `,style:{animationDelay:`${g*100}ms`,animationFillMode:"forwards"},children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qj,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"font-mono text-sm",children:((v=m.visitor_data)==null?void 0:v.ip)||"Unknown IP"}),a.jsx("span",{className:"text-lg",children:c((y=(w=m.visitor_data)==null?void 0:w.locationData)==null?void 0:y.country_code)}),a.jsx("span",{className:"text-sm text-gray-600",children:((b=(x=m.visitor_data)==null?void 0:x.locationData)==null?void 0:b.country_name)||"Unknown"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(nr,{className:"w-4 h-4"}),u(m.created_at)]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Qj,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:d(((j=m.visitor_data)==null?void 0:j.userAgent)||"")}),a.jsxs("span",{className:"text-sm text-gray-500",children:["• ",((N=(_=m.visitor_data)==null?void 0:_.locationData)==null?void 0:N.isp)||"Unknown ISP"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(K,{size:"sm",className:"bg-green-600 hover:bg-green-700 transition-all duration-200",onClick:()=>l(m.decision_key,"allow"),disabled:s.has(`${m.decision_key}_allow`),children:[s.has(`${m.decision_key}_allow`)?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}):a.jsx(ba,{className:"w-4 h-4 mr-1"}),s.has(`${m.decision_key}_allow`)?"Processing...":"Allow"]}),a.jsxs(K,{size:"sm",variant:"destructive",className:"transition-all duration-200",onClick:()=>l(m.decision_key,"deny"),disabled:s.has(`${m.decision_key}_deny`),children:[s.has(`${m.decision_key}_deny`)?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}):a.jsx(Bo,{className:"w-4 h-4 mr-1"}),s.has(`${m.decision_key}_deny`)?"Processing...":"Deny"]})]})]},m.id)})})})]}),f.length>0&&a.jsxs(q,{children:[a.jsx(ue,{children:a.jsxs(he,{className:"flex items-center gap-2",children:[a.jsx(nr,{className:"w-5 h-5"}),"Recent Decisions"]})}),a.jsx(Y,{children:a.jsx("div",{className:"space-y-3",children:f.map(m=>{var g,v,w;return a.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-mono text-sm",children:((g=m.visitor_data)==null?void 0:g.ip)||"Unknown IP"}),a.jsx("span",{children:c((w=(v=m.visitor_data)==null?void 0:v.locationData)==null?void 0:w.country_code)}),a.jsx(ve,{variant:m.decision==="allow"?"default":"destructive",className:m.decision==="allow"?"bg-green-100 text-green-800":"",children:m.decision})]}),a.jsx("span",{className:"text-sm text-gray-500",children:u(m.created_at)})]},m.id)})})})]})]})};function R4(t,e=[]){let r=[];function n(i,o){const l=p.createContext(o),c=r.length;r=[...r,o];function d(h){const{scope:f,children:m,...g}=h,v=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>g,Object.values(g));return a.jsx(v.Provider,{value:w,children:m})}function u(h,f){const m=(f==null?void 0:f[t][c])||l,g=p.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,I4(s,...e)]}function I4(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var L4=p.createContext(void 0);function Vv(t){const e=p.useContext(L4);return t||e||"ltr"}var ud="rovingFocusGroup.onEntryFocus",M4={bubbles:!1,cancelable:!0},gc="RovingFocusGroup",[Wu,Hv,O4]=_x(gc),[$4,Gv]=R4(gc,[O4]),[U4,D4]=$4(gc),Wv=p.forwardRef((t,e)=>a.jsx(Wu.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Wu.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(z4,{...t,ref:e})})}));Wv.displayName=gc;var z4=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=p.useRef(null),m=Ht(e,f),g=Vv(i),[v=null,w]=Vh({prop:o,defaultProp:l,onChange:c}),[y,x]=p.useState(!1),b=ar(d),j=Hv(r),_=p.useRef(!1),[N,S]=p.useState(0);return p.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(ud,b),()=>k.removeEventListener(ud,b)},[b]),a.jsx(U4,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(k=>w(k),[w]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:p.useCallback(()=>S(k=>k-1),[]),children:a.jsx(Oe.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{_.current=!0}),onFocus:ye(t.onFocus,k=>{const E=!_.current;if(k.target===k.currentTarget&&E&&!y){const T=new CustomEvent(ud,M4);if(k.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=j().filter(G=>G.focusable),P=O.find(G=>G.active),I=O.find(G=>G.id===v),Q=[P,I,...O].filter(Boolean).map(G=>G.ref.current);Qv(Q,u)}}_.current=!1}),onBlur:ye(t.onBlur,()=>x(!1))})})}),Kv="RovingFocusGroupItem",qv=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=t,l=my(),c=i||l,d=D4(Kv,r),u=d.currentTabStopId===c,h=Hv(r),{onFocusableItemAdd:f,onFocusableItemRemove:m}=d;return p.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),a.jsx(Wu.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(Oe.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:ye(t.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ye(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=V4(g,d.orientation,d.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let y=h().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const x=y.indexOf(g.currentTarget);y=d.loop?H4(y,x+1):y.slice(x+1)}setTimeout(()=>Qv(y))}})})})});qv.displayName=Kv;var F4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B4(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function V4(t,e,r){const n=B4(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return F4[n]}function Qv(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function H4(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var G4=Wv,W4=qv,vf="Tabs",[K4,VC]=Fh(vf,[Gv]),Yv=Gv(),[q4,bf]=K4(vf),Jv=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=Vv(l),[h,f]=Vh({prop:n,onChange:s,defaultProp:i});return a.jsx(q4,{scope:r,baseId:my(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:a.jsx(Oe.div,{dir:u,"data-orientation":o,...d,ref:e})})});Jv.displayName=vf;var Xv="TabsList",Zv=p.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=bf(Xv,r),o=Yv(r);return a.jsx(G4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Oe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Zv.displayName=Xv;var eb="TabsTrigger",tb=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=bf(eb,r),l=Yv(r),c=sb(o.baseId,n),d=ab(o.baseId,n),u=n===o.value;return a.jsx(W4,{asChild:!0,...l,focusable:!s,active:u,children:a.jsx(Oe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ye(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:ye(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(n)})})})});tb.displayName=eb;var rb="TabsContent",nb=p.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,l=bf(rb,r),c=sb(l.baseId,n),d=ab(l.baseId,n),u=n===l.value,h=p.useRef(u);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(ql,{present:s||u,children:({present:f})=>a.jsx(Oe.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});nb.displayName=rb;function sb(t,e){return`${t}-trigger-${e}`}function ab(t,e){return`${t}-content-${e}`}var Q4=Jv,ib=Zv,ob=tb,lb=nb;const wf=Q4,xc=p.forwardRef(({className:t,...e},r)=>a.jsx(ib,{ref:r,className:ge("flex h-12 sm:h-14 items-center justify-start rounded-xl bg-slate-800/80 backdrop-blur-lg border border-cyan-400/30 p-1 text-foreground shadow-lg shadow-blue-500/20","overflow-x-auto scrollbar-hidden w-full","scroll-smooth overscroll-x-contain","gap-0.5 sm:gap-1","[&::-webkit-scrollbar]:h-1","[&::-webkit-scrollbar-track]:bg-transparent","[&::-webkit-scrollbar-thumb]:bg-cyan-400/30","[&::-webkit-scrollbar-thumb]:rounded-full","relative","before:content-[''] before:absolute before:right-0 before:top-0 before:bottom-0 before:w-4 before:bg-gradient-to-l before:from-slate-800/80 before:to-transparent before:pointer-events-none before:z-10","after:content-[''] after:absolute after:left-0 after:top-0 after:bottom-0 after:w-4 after:bg-gradient-to-r after:from-slate-800/80 after:to-transparent after:pointer-events-none after:z-10",t),...e}));xc.displayName=ib.displayName;const Zt=p.forwardRef(({className:t,...e},r)=>a.jsx(ob,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-lg transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-blue-600/20 hover:to-cyan-600/20","data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-blue-500/25","px-2 py-2 text-xs font-jetbrains font-bold uppercase tracking-wider","sm:px-3 sm:py-2.5 sm:text-sm","min-w-[60px] sm:min-w-[80px] min-h-[40px] sm:min-h-[44px] touch-manipulation","flex-shrink-0","relative z-20",t),...e}));Zt.displayName=ob.displayName;const er=p.forwardRef(({className:t,...e},r)=>a.jsx(lb,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));er.displayName=lb.displayName;const Y4=()=>{const t=nv();return a.jsx(_4,{children:a.jsxs("div",{className:"min-h-screen w-full fixed inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow overflow-y-auto overflow-x-hidden",children:[a.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-blue-400/20 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-indigo-400/20 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/20 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/20 backdrop-blur-sm transform rotate-12 animate-float-2"}),a.jsx("div",{className:"absolute top-1/4 w-full h-px bg-gradient-to-r from-transparent via-blue-400/50 to-transparent animate-scan-line"}),a.jsx("div",{className:"absolute bottom-1/3 w-full h-px bg-gradient-to-r from-transparent via-indigo-400/50 to-transparent animate-scan-line",style:{animationDelay:"4s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border border-blue-400/30 rounded-full animate-radar-pulse"}),a.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(90deg,transparent_24px,rgba(59,130,246,0.5)_25px,rgba(59,130,246,0.5)_26px,transparent_27px,transparent_49px,rgba(59,130,246,0.5)_50px,rgba(59,130,246,0.5)_51px,transparent_52px),linear-gradient(rgba(59,130,246,0.5)_24px,transparent_25px,transparent_26px,rgba(59,130,246,0.5)_27px,rgba(59,130,246,0.5)_49px,transparent_50px,transparent_51px,rgba(59,130,246,0.5)_52px)] bg-[size:52px_52px]"})]}),a.jsxs("div",{className:"relative z-10 w-full animate-fade-in",children:[a.jsx("header",{className:"pt-4 sm:pt-6 px-3 sm:px-4 md:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[a.jsxs("div",{className:"relative w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 to-blue-500/30 rounded-full animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 w-full h-full rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 backdrop-blur-sm border border-cyan-400/30 flex items-center justify-center",children:a.jsx("span",{className:"text-base sm:text-lg md:text-2xl font-jetbrains font-bold text-cyan-300 animate-pulse drop-shadow-lg select-none",children:"⚡"})})]}),a.jsx("span",{className:"font-jetbrains text-sm sm:text-lg md:text-xl font-black bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent tracking-wider truncate drop-shadow-lg min-w-0",children:"RAPIDREACH"})]}),a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{onClick:()=>t("/nexus"),variant:"outline",size:"sm",className:"relative z-10 h-8 sm:h-10 md:h-12 px-2 sm:px-4 md:px-6 flex items-center gap-1 sm:gap-2 md:gap-3 border-blue-400/40 hover:border-blue-300/60 bg-slate-800/50 hover:bg-slate-700/60 text-blue-200 hover:text-blue-100 transition-all duration-300 backdrop-blur-sm font-jetbrains font-semibold tracking-wide shadow-lg min-h-[44px] touch-manipulation",children:[a.jsx(ry,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5"}),a.jsx("span",{className:"hidden xs:hidden sm:inline text-xs sm:text-sm md:text-base",children:"Settings"})]})]})]})}),a.jsxs("main",{className:"container mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-6 sm:py-8 md:py-12 lg:py-16",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-12 lg:mb-16",children:[a.jsxs("div",{className:"inline-flex items-center gap-1 sm:gap-2 px-2 sm:px-3 md:px-4 py-1 sm:py-1.5 rounded-full bg-cyan-500/20 border border-cyan-400/30 text-cyan-300 text-xs sm:text-sm font-jetbrains font-medium mb-3 sm:mb-4 touch-manipulation",children:[a.jsx(yl,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-3.5 md:h-3.5"}),a.jsx("span",{className:"whitespace-nowrap",children:"ALIEN PHANTOM Engine - Invisible Transit"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 sm:gap-3 md:gap-4 mb-3 sm:mb-4",children:[a.jsxs("div",{className:"relative w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-full animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full rounded-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 backdrop-blur-sm border border-cyan-400/40 flex items-center justify-center",children:a.jsx("span",{className:"text-lg sm:text-2xl md:text-3xl lg:text-4xl font-jetbrains font-bold text-cyan-300 animate-pulse drop-shadow-lg select-none",children:"⚡"})})]}),a.jsx("h1",{className:"font-jetbrains text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent tracking-wider drop-shadow-2xl text-center sm:text-left leading-tight",children:"RAPIDREACH"})]}),a.jsx("p",{className:"font-jetbrains text-blue-300/80 max-w-xs sm:max-w-md md:max-w-lg lg:max-w-2xl mx-auto font-medium tracking-wide text-xs sm:text-sm md:text-base leading-relaxed px-2",children:"Next-gen URL technology with bulletproof protection"})]}),a.jsxs("div",{className:"space-y-4 sm:space-y-6 md:space-y-8",children:[a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.1s"},children:a.jsx(S4,{})}),a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.2s"},children:a.jsx("div",{className:"bg-gradient-to-br from-slate-900/90 via-blue-900/20 to-slate-900/90 backdrop-blur-xl border border-blue-500/30 rounded-lg overflow-hidden",children:a.jsx(g4,{})})}),a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.3s"},children:a.jsx("div",{className:"bg-gradient-to-br from-slate-900/90 via-blue-900/20 to-slate-900/90 backdrop-blur-xl border border-blue-500/30 rounded-lg overflow-hidden",children:a.jsxs(wf,{defaultValue:"basic",className:"w-full",children:[a.jsxs(xc,{className:"grid w-full grid-cols-2 bg-slate-800/50 border-b border-blue-500/30",children:[a.jsxs(Zt,{value:"basic",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm",children:[a.jsx(jn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),a.jsxs(Zt,{value:"scripts",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains font-bold uppercase tracking-wider text-xs sm:text-sm",children:[a.jsx(Ai,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden xs:inline",children:"Scripts"})]})]}),a.jsx(er,{value:"basic",className:"mt-0",children:a.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[a.jsx(A4,{}),a.jsx(C4,{})]})}),a.jsx(er,{value:"scripts",className:"mt-0",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsx(P4,{})})})]})})}),a.jsx("div",{className:"w-full animate-fade-in",style:{animationDelay:"0.4s"},children:a.jsx(T4,{})})]}),a.jsxs("footer",{className:"mt-8 sm:mt-12 md:mt-16 mb-4 sm:mb-6 md:mb-8 animate-fade-in",style:{animationDelay:"0.6s"},children:[a.jsxs("div",{className:"max-w-xs sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl mx-auto mb-6 sm:mb-8 px-2 sm:px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:[a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:"🔐"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Encrypted URLs"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Secure encoding prevents tampering"})]})]}),a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:"✅"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Real-time validation"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Instant checks for link security"})]})]}),a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:"⚡"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Instant generation"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Lightning-fast URL processing"})]})]}),a.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 group p-2 sm:p-3 rounded-lg hover:bg-blue-500/10 transition-all duration-200 touch-manipulation",children:[a.jsx("div",{className:"text-xl sm:text-2xl md:text-2xl flex-shrink-0",children:"🛡️"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h4",{className:"font-jetbrains text-sm sm:text-base font-semibold text-blue-200 leading-tight",children:"Multi-tier protection"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Defense in depth security"})]})]})]}),a.jsxs("div",{className:"border-t border-blue-400/30 pt-4 sm:pt-6",children:[a.jsx("div",{className:"text-center mb-3 sm:mb-4",children:a.jsx("p",{className:"text-xs sm:text-sm text-blue-300/50 max-w-xs sm:max-w-md md:max-w-lg mx-auto px-2 sm:px-4 font-jetbrains",children:"Intended for educational purposes and legitimate email marketing campaigns only - Any form of abuse, spam, or illegal activity is strictly prohibited"})}),a.jsxs("div",{className:"flex flex-row flex-wrap justify-center items-center gap-x-2 sm:gap-x-3 md:gap-x-4 text-xs sm:text-sm text-blue-300/60 max-w-xs sm:max-w-md md:max-w-lg mx-auto px-2 sm:px-4 text-center font-jetbrains",children:[a.jsx("span",{children:"© 2025 RapidReach"}),a.jsx("span",{children:"•"}),a.jsx("span",{children:"Premium Email Campaign Service"})]})]})]})]})]})]})})},J4=()=>{const t=uf();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4 text-foreground",children:"404"}),a.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline",children:"Return to Home"})]})})},X4=()=>(window.location.replace("https://en.wikipedia.org/wiki/Special:Random"),null),Z4=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(!1);p.useEffect(()=>{o();const f=setInterval(o,3e4);return()=>clearInterval(f)},[]);const o=async()=>{try{i(!0);const{data:f,error:m}=await $.rpc("system_health_check");if(m)throw m;e(f)}catch(f){console.error("Error fetching health data:",f)}finally{n(!1),i(!1)}},l=()=>{if(!t)return 0;let f=100;return t.old_sessions>100&&(f-=20),t.old_visit_stats>1e3&&(f-=15),t.pending_reviews>10&&(f-=10),t.active_sessions>0&&(f+=5),t.today_visits>0&&(f+=5),Math.max(0,Math.min(100,f))},c=f=>f>=90?"text-emerald-400":f>=70?"text-amber-400":"text-red-400",d=f=>f>=90?"bg-emerald-500/20 border-emerald-400/40":f>=70?"bg-amber-500/20 border-amber-400/40":"bg-red-500/20 border-red-400/40",u=f=>f>=90?"shadow-[0_0_15px_rgba(52,211,153,0.5)]":f>=70?"shadow-[0_0_15px_rgba(251,191,36,0.5)]":"shadow-[0_0_15px_rgba(248,113,113,0.5)]";if(r)return a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(Y,{className:"p-8 text-center",children:a.jsxs("div",{className:"animate-pulse flex flex-col items-center justify-center gap-3",children:[a.jsx("div",{className:"h-14 w-14 rounded-full bg-cyan-400/20 flex items-center justify-center",children:a.jsx(Ct,{className:"h-6 w-6 text-cyan-400/50 animate-spin"})}),a.jsx("div",{className:"text-cyan-200 font-jetbrains text-lg tracking-wider animate-pulse",children:"ANALYZING SYSTEM HEALTH..."})]})})]});const h=l();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow pointer-events-none"}),a.jsx(ue,{className:"relative z-10 pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"SYSTEM HEALTH STATUS"}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"REAL-TIME MONITORING • AUTOMATED DIAGNOSTICS"})]}),a.jsxs(K,{onClick:o,disabled:s,variant:"outline",className:"bg-slate-800/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-700/80 hover:border-cyan-300/60 font-jetbrains uppercase tracking-wider backdrop-blur-sm group",children:[a.jsx(Ct,{className:`w-4 h-4 mr-2 ${s?"animate-spin":"group-hover:animate-spin"}`}),"REFRESH"]})]})}),a.jsxs(Y,{className:"relative z-10 pt-0",children:[a.jsx("div",{className:"flex items-center justify-center my-6",children:a.jsxs("div",{className:`relative w-36 h-36 rounded-full border-4 ${d(h)} flex items-center justify-center ${u(h)} transition-all duration-500 backdrop-blur-sm`,children:[a.jsx("div",{className:"absolute inset-0 rounded-full animate-pulse opacity-50",style:{background:`radial-gradient(circle, ${h>=90?"rgba(52,211,153,0.3)":h>=70?"rgba(251,191,36,0.3)":"rgba(248,113,113,0.3)"} 0%, transparent 70%)`}}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`text-4xl font-bold font-jetbrains ${c(h)} animate-pulse-subtle`,children:h}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mt-1",children:"HEALTH SCORE"})]})]})}),a.jsx("div",{className:"text-center mb-4",children:a.jsxs("p",{className:"text-cyan-300/80 font-jetbrains text-sm flex items-center justify-center gap-2",children:[a.jsx(nr,{className:"w-4 h-4"}),"Last Updated: ",t?new Date(t.last_updated).toLocaleString():"N/A"]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(Y,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"ACTIVE LICENSES"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.active_licenses)||0})]}),a.jsx("div",{className:"bg-emerald-500/10 p-3 rounded-full border border-emerald-500/30 group-hover:border-emerald-400/50 transition-all duration-300",children:a.jsx(ct,{className:"w-6 h-6 text-emerald-400 group-hover:text-emerald-300 transition-colors"})})]})})]}),a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(Y,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"ACTIVE SESSIONS"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.active_sessions)||0})]}),a.jsx("div",{className:"bg-blue-500/10 p-3 rounded-full border border-blue-500/30 group-hover:border-blue-400/50 transition-all duration-300",children:a.jsx(wn,{className:"w-6 h-6 text-blue-400 group-hover:text-blue-300 transition-colors"})})]})})]}),a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(Y,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"TODAY VISITS"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.today_visits)||0})]}),a.jsx("div",{className:"bg-yellow-500/10 p-3 rounded-full border border-yellow-500/30 group-hover:border-yellow-400/50 transition-all duration-300",children:a.jsx(Fe,{className:"w-6 h-6 text-yellow-400 group-hover:text-yellow-300 transition-colors"})})]})})]}),a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm group hover:border-cyan-400/40 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(Y,{className:"p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-cyan-300/80 font-jetbrains text-xs uppercase tracking-wider",children:"TELEGRAM CONFIGS"}),a.jsx("p",{className:"text-3xl font-bold text-cyan-200 font-jetbrains mt-1 group-hover:text-cyan-100 transition-colors",children:(t==null?void 0:t.telegram_configs)||0})]}),a.jsx("div",{className:"bg-purple-500/10 p-3 rounded-full border border-purple-500/30 group-hover:border-purple-400/50 transition-all duration-300",children:a.jsx(Ot,{className:"w-6 h-6 text-purple-400 group-hover:text-purple-300 transition-colors"})})]})})]})]}),t&&(t.old_sessions>0||t.old_visit_stats>0)&&a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-amber-950/20 to-amber-900/20 border border-amber-500/30 backdrop-blur-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsx(ue,{className:"pb-2",children:a.jsxs(he,{className:"text-amber-300 font-jetbrains font-bold uppercase tracking-wider flex items-center text-lg",children:[a.jsx(st,{className:"w-5 h-5 mr-2"}),"CLEANUP RECOMMENDATIONS"]})}),a.jsx(Y,{className:"pt-0",children:a.jsxs("div",{className:"space-y-3",children:[t.old_sessions>0&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-500/10 border border-amber-400/20 rounded-lg",children:[a.jsxs("span",{className:"text-amber-300 font-jetbrains text-sm",children:[t.old_sessions," old sessions detected (",">","7 days)"]}),a.jsx(K,{size:"sm",variant:"outline",className:"bg-amber-600/30 border-amber-400/40 text-amber-300 hover:bg-amber-600/50 hover:border-amber-300/60 backdrop-blur-sm font-jetbrains uppercase tracking-wider text-xs",children:"CLEANUP"})]}),t.old_visit_stats>0&&a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-500/10 border border-amber-400/20 rounded-lg",children:[a.jsxs("span",{className:"text-amber-300 font-jetbrains text-sm",children:[t.old_visit_stats," old visit stats detected (",">","30 days)"]}),a.jsx(K,{size:"sm",variant:"outline",className:"bg-amber-600/30 border-amber-400/40 text-amber-300 hover:bg-amber-600/50 hover:border-amber-300/60 backdrop-blur-sm font-jetbrains uppercase tracking-wider text-xs",children:"CLEANUP"})]})]})})]})]})},eC=()=>{const[t,e]=p.useState({alienApiStatus:"offline",edgeFunctionStatus:"offline",localDetectionStatus:"healthy",totalDetections:0,botDetections:0,humanDetections:0}),[r,n]=p.useState(!1),s=async()=>{var c;n(!0);try{const d=Date.now(),{data:u,error:h}=await $.functions.invoke("bot-detection",{body:{ip:"127.0.0.1",userAgent:"HealthCheck/1.0",currentUrl:window.location.href,localData:{hasHumanActivity:!0,behaviorScore:0,localScore:0}}}),f=Date.now()-d;if(h)e(m=>({...m,edgeFunctionStatus:"offline",alienApiStatus:"offline"}));else{const m=(c=u==null?void 0:u.circuitBreakerStatus)!=null&&c.isOpen?"degraded":(u==null?void 0:u.alienScore)>0?"healthy":"degraded";e(g=>{var v;return{...g,edgeFunctionStatus:"healthy",alienApiStatus:m,lastEdgeFunctionCall:Date.now(),lastAlienCall:(u==null?void 0:u.alienScore)>0?Date.now():g.lastAlienCall,circuitBreakerOpen:((v=u==null?void 0:u.circuitBreakerStatus)==null?void 0:v.isOpen)||!1,apiResponseTime:f}})}}catch(d){console.error("Health check failed:",d),e(u=>({...u,edgeFunctionStatus:"offline",alienApiStatus:"offline"}))}n(!1)};p.useEffect(()=>{s();const c=setInterval(s,3e4);return()=>clearInterval(c)},[]);const i=c=>{switch(c){case"healthy":return a.jsx(Ti,{className:"w-4 h-4"});case"degraded":return a.jsx(st,{className:"w-4 h-4"});case"offline":return a.jsx(Qh,{className:"w-4 h-4"});default:return a.jsx(Pi,{className:"w-4 h-4"})}},o=c=>{switch(c){case"healthy":return"bg-emerald-500/20 border-emerald-500/40 text-emerald-400 hover:bg-emerald-500/30";case"degraded":return"bg-amber-500/20 border-amber-500/40 text-amber-400 hover:bg-amber-500/30";case"offline":return"bg-red-500/20 border-red-500/40 text-red-400 hover:bg-red-500/30";default:return"bg-slate-500/20 border-slate-500/40 text-slate-400 hover:bg-slate-500/30"}},l=c=>{switch(c){case"healthy":return"HEALTHY";case"degraded":return"DEGRADED";case"offline":return"OFFLINE";default:return"UNKNOWN"}};return a.jsxs(q,{className:"relative overflow-hidden bg-gradient-to-br from-slate-900/90 via-blue-950/70 to-indigo-950/80 border border-cyan-500/20 backdrop-blur-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-grid-slate-700/20 bg-[size:20px_20px] mask-fade-out"}),a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[a.jsx(he,{className:"text-cyan-200 font-jetbrains text-lg uppercase tracking-wider",children:"System Health"}),a.jsxs(K,{variant:"outline",size:"sm",onClick:s,disabled:r,className:"bg-slate-800/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-700/80 hover:border-cyan-300/60 font-jetbrains uppercase tracking-wider text-xs backdrop-blur-sm group",children:[a.jsx(Ct,{className:`w-4 h-4 mr-2 ${r?"animate-spin":"group-hover:animate-spin"}`}),r?"CHECKING...":"REFRESH"]})]}),a.jsxs(Y,{className:"space-y-5 relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(t_,{className:"w-4 h-4 mr-2 text-cyan-400"}),a.jsx("h4",{className:"text-sm font-medium text-cyan-200 font-jetbrains",children:"AlienAPI"})]}),a.jsxs(ve,{className:`${o(t.alienApiStatus)} border font-jetbrains text-xs py-1 px-3 flex items-center gap-1`,children:[i(t.alienApiStatus),l(t.alienApiStatus)]}),t.circuitBreakerOpen&&a.jsxs("p",{className:"text-xs text-red-400 font-jetbrains flex items-center gap-1",children:[a.jsx(Pi,{className:"w-3 h-3"})," Circuit breaker open"]}),t.lastAlienCall&&a.jsxs("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:["Last call: ",new Date(t.lastAlienCall).toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(wa,{className:"w-4 h-4 mr-2 text-cyan-400"}),a.jsx("h4",{className:"text-sm font-medium text-cyan-200 font-jetbrains",children:"Edge Function"})]}),a.jsxs(ve,{className:`${o(t.edgeFunctionStatus)} border font-jetbrains text-xs py-1 px-3 flex items-center gap-1`,children:[i(t.edgeFunctionStatus),l(t.edgeFunctionStatus)]}),t.apiResponseTime&&a.jsxs("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:["Response: ",t.apiResponseTime,"ms"]}),t.lastEdgeFunctionCall&&a.jsxs("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:["Last call: ",new Date(t.lastEdgeFunctionCall).toLocaleTimeString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ot,{className:"w-4 h-4 mr-2 text-cyan-400"}),a.jsx("h4",{className:"text-sm font-medium text-cyan-200 font-jetbrains",children:"Local Detection"})]}),a.jsxs(ve,{className:`${o(t.localDetectionStatus)} border font-jetbrains text-xs py-1 px-3 flex items-center gap-1`,children:[i(t.localDetectionStatus),l(t.localDetectionStatus)]}),a.jsx("p",{className:"text-xs text-cyan-400/60 font-jetbrains",children:"Fallback ready"})]})]}),a.jsxs("div",{className:"pt-4 border-t border-cyan-500/20",children:[a.jsx("h4",{className:"text-sm font-medium mb-3 text-cyan-200 font-jetbrains",children:"Performance Metrics"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-cyan-500/20",children:[a.jsx("p",{className:"text-2xl font-bold text-cyan-200 font-jetbrains",children:t.totalDetections}),a.jsx("p",{className:"text-xs text-cyan-400/60 font-jetbrains uppercase tracking-wider mt-1",children:"Total Checks"})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-red-500/20",children:[a.jsx("p",{className:"text-2xl font-bold text-red-400 font-jetbrains",children:t.botDetections}),a.jsx("p",{className:"text-xs text-red-400/60 font-jetbrains uppercase tracking-wider mt-1",children:"Bots Blocked"})]}),a.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-emerald-500/20",children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-400 font-jetbrains",children:t.humanDetections}),a.jsx("p",{className:"text-xs text-emerald-400/60 font-jetbrains uppercase tracking-wider mt-1",children:"Humans Allowed"})]})]})]}),(t.alienApiStatus==="offline"||t.circuitBreakerOpen)&&a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3 mt-4",children:[a.jsxs("h5",{className:"text-sm font-medium text-amber-300 mb-1 font-jetbrains flex items-center gap-2",children:[a.jsx(st,{className:"w-4 h-4"}),"FALLBACK MODE ACTIVE"]}),a.jsx("p",{className:"text-xs text-amber-300/80 font-jetbrains",children:"System is using enhanced local detection while AlienAPI is unavailable. Security levels remain high through behavioral analysis and fingerprinting."})]})]})]})},Km=({selectedItems:t,onClearSelection:e,onBulkDelete:r,onBulkToggleStatus:n,onBulkExport:s,itemType:i})=>t.length===0?null:a.jsx("div",{className:"bg-gradient-to-r from-slate-800/90 to-blue-900/90 border border-cyan-400/30 backdrop-blur-sm rounded-lg p-4 sm:p-5 mb-6 shadow-lg",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-5 w-full sm:w-auto",children:[a.jsxs("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm sm:text-base tracking-wider",children:[t.length," ",i.toUpperCase()," SELECTED"]}),a.jsxs(K,{variant:"outline",size:"sm",onClick:e,className:"bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 backdrop-blur-sm min-h-[44px] px-5 rounded-lg",title:"Clear selection",children:[a.jsx(Qh,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"CLEAR"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full sm:w-auto",children:[s&&a.jsxs(K,{variant:"outline",size:"sm",onClick:s,className:"bg-blue-600/30 border-blue-400/40 text-blue-300 hover:bg-blue-600/50 hover:border-blue-300/60 backdrop-blur-sm min-h-[44px] px-5 flex-1 sm:flex-initial rounded-lg",title:"Export selected items",children:[a.jsx(gl,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"EXPORT"})]}),n&&a.jsxs(K,{variant:"outline",size:"sm",onClick:n,className:"bg-yellow-600/30 border-yellow-400/40 text-yellow-300 hover:bg-yellow-600/50 hover:border-yellow-300/60 backdrop-blur-sm min-h-[44px] px-5 flex-1 sm:flex-initial rounded-lg",title:"Toggle status of selected items",children:[a.jsx(cu,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"TOGGLE"})]}),r&&a.jsxs(K,{variant:"outline",size:"sm",onClick:r,className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 backdrop-blur-sm min-h-[44px] px-5 flex-1 sm:flex-initial rounded-lg",title:"Delete selected items",children:[a.jsx(ta,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"hidden xs:inline font-semibold",children:"DELETE"})]})]})]})}),tC=({children:t,className:e})=>a.jsx("div",{className:ge("w-full rounded-lg border border-blue-500/30 overflow-hidden bg-slate-900/40 backdrop-blur-lg",e),children:a.jsx("div",{className:"overflow-x-auto scrollbar-hidden",children:a.jsx("table",{className:"w-full min-w-[320px] sm:min-w-[600px] lg:min-w-[800px]",children:t})})}),rC=({children:t,className:e})=>a.jsx("thead",{className:ge("bg-gradient-to-r from-slate-800/90 to-blue-900/90",e),children:t}),nC=({children:t,className:e})=>a.jsx("tbody",{className:ge("divide-y divide-blue-500/20",e),children:t}),sC=({children:t,className:e,mobileLayout:r})=>a.jsxs(a.Fragment,{children:[a.jsx("tr",{className:ge("hidden sm:table-row hover:bg-slate-800/30 transition-colors duration-200",e),children:t}),r&&a.jsx("tr",{className:"sm:hidden",children:a.jsx("td",{colSpan:100,className:"p-0",children:a.jsx("div",{className:"bg-slate-800/40 backdrop-blur-sm border-b border-blue-500/20 p-4 space-y-3",children:r})})})]}),$n=({children:t,className:e,label:r,priority:n="medium"})=>a.jsxs("td",{className:ge("px-2 py-3 text-sm sm:px-4",n==="low"&&"hidden lg:table-cell",n==="medium"&&"hidden sm:table-cell",e),children:[r&&a.jsx("div",{className:"font-medium text-cyan-300 text-xs uppercase tracking-wider mb-1 sm:hidden",children:r}),a.jsx("div",{className:"min-w-0",children:t})]}),Un=({children:t,className:e,priority:r="medium"})=>a.jsx("th",{className:ge("px-2 py-3 text-left text-xs font-bold text-cyan-200 uppercase tracking-wider sm:px-4",r==="low"&&"hidden lg:table-cell",r==="medium"&&"hidden sm:table-cell",e),children:a.jsx("div",{className:"min-w-0 truncate",children:t})});class aC{constructor(){Z(this,"loggedUrls",new Set);Z(this,"attemptCounts",new Map)}hasBeenLogged(e){return this.loggedUrls.has(e)}markAsLogged(e){this.loggedUrls.add(e);const r=this.attemptCounts.get(e)||0;this.attemptCounts.set(e,r+1)}getAttemptCount(e){return this.attemptCounts.get(e)||0}incrementAttempt(e){const n=(this.attemptCounts.get(e)||0)+1;return this.attemptCounts.set(e,n),n}clear(){this.loggedUrls.clear(),this.attemptCounts.clear()}getStats(){const e=this.loggedUrls.size,r=Array.from(this.attemptCounts.values()).reduce((s,i)=>s+i,0),n=Array.from(this.attemptCounts.entries()).map(([s,i])=>({hash:s.substring(0,8)+"...",attempts:i})).sort((s,i)=>i.attempts-s.attempts).slice(0,10);return{totalUniqueDeadUrls:e,totalAttempts:r,topDeadUrls:n}}}const qm=new aC,iC=()=>{const[t,e]=p.useState(null),[r,n]=p.useState([]),[s,i]=p.useState(!0),{toast:o}=An(),l=()=>{const u=qm.getStats();e(u)},c=async()=>{try{const{data:u,error:h}=await $.from("system_error_logs").select("*").eq("error_type","dead_url").order("created_at",{ascending:!1}).limit(10);if(h)throw h;n(u||[])}catch(u){console.error("Error loading recent blocked URL errors:",u)}},d=()=>{qm.clear(),l(),o({title:"Cache Cleared",description:"Dead URL cache has been cleared successfully."})};return p.useEffect(()=>{(async()=>{i(!0),l(),await c(),i(!1)})();const h=setInterval(()=>{l(),c()},3e4);return()=>clearInterval(h)},[]),s?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx(ue,{className:"relative z-10",children:a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"BLOCKED URL ATTEMPTS"})}),a.jsx(Y,{className:"relative z-10",children:a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-full animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-12 h-12 rounded-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 backdrop-blur-sm border border-cyan-400/40 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-300"})})]})})})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs(ue,{className:"relative z-10 flex flex-row items-center justify-between",children:[a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"BLOCKED URL ATTEMPTS"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{variant:"outline",size:"sm",onClick:d,className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(ta,{className:"w-4 h-4 mr-2"}),"PURGE CACHE"]})]})]}),a.jsxs(Y,{className:"relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"text-center p-6 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent font-jetbrains",children:(t==null?void 0:t.totalUniqueDeadUrls)||0}),a.jsx("div",{className:"text-sm text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider mt-2",children:"UNIQUE DEAD URLS"})]}),a.jsxs("div",{className:"text-center p-6 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent font-jetbrains",children:(t==null?void 0:t.totalAttempts)||0}),a.jsx("div",{className:"text-sm text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider mt-2",children:"TOTAL ATTEMPTS"})]}),a.jsxs("div",{className:"text-center p-6 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent font-jetbrains",children:r.length}),a.jsx("div",{className:"text-sm text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider mt-2",children:"RECENT LOGS"})]})]}),(t==null?void 0:t.topDeadUrls)&&t.topDeadUrls.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg mb-4",children:"MOST ATTEMPTED DEAD URLS"}),a.jsx("div",{className:"space-y-3",children:t.topDeadUrls.map((u,h)=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("code",{className:"text-cyan-300 font-jetbrains bg-slate-800/60 px-3 py-1 rounded border border-cyan-400/30",children:u.hash}),a.jsxs(ve,{className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[u.attempts," ATTEMPTS"]})]},h))})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsx(ue,{className:"relative z-10",children:a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"RECENT BLOCKED URL LOGS"})}),a.jsx(Y,{className:"relative z-10",children:r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsxs("div",{className:"relative mx-auto w-16 h-16 mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400/40 to-emerald-500/40 rounded-full animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-16 h-16 rounded-full bg-gradient-to-br from-green-400/30 to-emerald-500/30 backdrop-blur-sm border border-green-400/40 flex items-center justify-center",children:a.jsx(st,{className:"w-8 h-8 text-green-300"})})]}),a.jsx("p",{className:"text-cyan-300/80 font-jetbrains font-bold uppercase tracking-wider",children:"NO RECENT BLOCKED URL ATTEMPTS"}),a.jsx("p",{className:"text-cyan-400/60 font-jetbrains text-sm mt-2",children:"ALIEN PHANTOM ENGINE SECURITY ACTIVE"})]}):a.jsx("div",{className:"space-y-4",children:r.map(u=>a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-cyan-300 font-jetbrains font-medium text-sm mb-2",children:u.error_message}),a.jsx("div",{className:"text-xs text-cyan-400/60 font-jetbrains",children:new Date(u.created_at).toLocaleString()})]}),a.jsx(ve,{className:"ml-4 bg-yellow-600/30 border-yellow-400/40 text-yellow-300 hover:bg-yellow-600/50 hover:border-yellow-300/60 font-jetbrains font-bold uppercase tracking-wider",children:u.severity})]})},u.id))})})]})]})},oC=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState({totalDownloads:0,totalScripts:0,totalUsers:0});p.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const{data:l,error:c}=await $.rpc("get_script_download_stats",{days_back:30});if(c)throw c;e(l||[]);const d=(l||[]).reduce((u,h)=>({totalDownloads:u.totalDownloads+Number(h.total_downloads),totalScripts:u.totalScripts+1,totalUsers:u.totalUsers+Number(h.unique_users)}),{totalDownloads:0,totalScripts:0,totalUsers:0});i(d)}catch(l){console.error("Error fetching download stats:",l)}finally{n(!1)}};return r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),a.jsx("span",{className:"ml-3 text-cyan-300 font-jetbrains",children:"Loading analytics..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(q,{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/50 border-blue-500/30",children:a.jsx(Y,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-300/70 text-sm font-jetbrains",children:"Total Downloads"}),a.jsx("p",{className:"text-2xl font-bold text-white font-jetbrains",children:s.totalDownloads})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:a.jsx(gl,{className:"w-6 h-6 text-blue-300"})})]})})}),a.jsx(q,{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/50 border-green-500/30",children:a.jsx(Y,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-green-300/70 text-sm font-jetbrains",children:"Active Scripts"}),a.jsx("p",{className:"text-2xl font-bold text-white font-jetbrains",children:s.totalScripts})]}),a.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:a.jsx(jn,{className:"w-6 h-6 text-green-300"})})]})})}),a.jsx(q,{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/50 border-purple-500/30",children:a.jsx(Y,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-300/70 text-sm font-jetbrains",children:"Unique Users"}),a.jsx("p",{className:"text-2xl font-bold text-white font-jetbrains",children:s.totalUsers})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:a.jsx(vl,{className:"w-6 h-6 text-purple-300"})})]})})})]}),a.jsxs(q,{className:"bg-slate-800/50 border-blue-500/30",children:[a.jsxs(ue,{children:[a.jsxs(he,{className:"font-jetbrains text-white flex items-center gap-2",children:[a.jsx(ja,{className:"w-5 h-5 text-cyan-300"}),"Script Performance Analytics"]}),a.jsx(gt,{className:"text-blue-300/70",children:"Download statistics for the last 30 days"})]}),a.jsx(Y,{children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(jn,{className:"w-12 h-12 text-blue-400/50 mx-auto mb-4"}),a.jsx("p",{className:"text-blue-300/70 font-jetbrains",children:"No download data available"})]}):a.jsx("div",{className:"space-y-4",children:t.map(l=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700/30 rounded-lg border border-blue-500/20",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-jetbrains font-semibold text-white mb-2",children:l.script_name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-blue-300/70",children:[a.jsx(gl,{className:"w-3 h-3"}),a.jsxs("span",{children:[l.total_downloads," total"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-green-300/70",children:[a.jsx(nr,{className:"w-3 h-3"}),a.jsxs("span",{children:[l.recent_downloads," recent"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-purple-300/70",children:[a.jsx(vl,{className:"w-3 h-3"}),a.jsxs("span",{children:[l.unique_users," users"]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ve,{variant:"outline",className:l.recent_downloads>10?"bg-green-500/20 text-green-300 border-green-400/30":l.recent_downloads>5?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-blue-500/20 text-blue-300 border-blue-400/30",children:l.recent_downloads>10?"Hot":l.recent_downloads>5?"Popular":"Stable"})})]},l.script_id))})})]})]})},Qm=["cpanel","automation","security","utilities","general"],lC=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(null),u=p.useRef(null),[h,f]=p.useState({file:null,display_name:"",description:"",version:"1.0.0",category:"general"});p.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const{data:N,error:S}=await $.from("script_downloads").select("*").order("upload_date",{ascending:!1});if(S)throw S;e(N||[])}catch(N){console.error("Error fetching scripts:",N),pe.error("Failed to load scripts")}finally{n(!1)}},g=N=>{var k;const S=(k=N.target.files)==null?void 0:k[0];S&&f(E=>({...E,file:S,display_name:E.display_name||S.name.replace(/\.[^/.]+$/,"")}))},v=async()=>{if(!h.file||!h.display_name){pe.error("Please select a file and provide a display name");return}try{i(!0);const N=h.file.name.split(".").pop(),k=`scripts/${`${Date.now()}_${h.file.name}`}`,{error:E}=await $.storage.from("script-files").upload(k,h.file);if(E)throw E;const{error:T}=await $.from("script_downloads").insert({filename:h.file.name,display_name:h.display_name,description:h.description||null,file_path:k,file_size:h.file.size,file_type:h.file.type||"application/octet-stream",version:h.version,category:h.category});if(T)throw T;pe.success("Script uploaded successfully"),b(),l(!1),m()}catch(N){console.error("Upload error:",N),pe.error("Failed to upload script")}finally{i(!1)}},w=async N=>{if(confirm(`Are you sure you want to delete "${N.display_name}"?`))try{const{error:S}=await $.storage.from("script-files").remove([N.file_path]);S&&console.warn("Storage deletion error:",S);const{error:k}=await $.from("script_downloads").delete().eq("id",N.id);if(k)throw k;pe.success("Script deleted successfully"),m()}catch(S){console.error("Delete error:",S),pe.error("Failed to delete script")}},y=async N=>{try{console.log("Toggling script status for:",N.id,"current status:",N.is_active);const S=!N.is_active,{data:k,error:E}=await $.from("script_downloads").update({is_active:S}).eq("id",N.id).select();if(E)throw console.error("Toggle status error details:",E),E;console.log("Toggle successful, updated data:",k),pe.success(`Script ${N.is_active?"deactivated":"activated"}`),m()}catch(S){console.error("Toggle status error:",S),pe.error(`Failed to ${N.is_active?"deactivate":"activate"} script`)}},x=async()=>{if(!c||!c.display_name){pe.error("Please provide a display name");return}try{const{error:N}=await $.from("script_downloads").update({display_name:c.display_name,description:c.description||null,version:c.version,category:c.category}).eq("id",c.id);if(N)throw N;pe.success("Script updated successfully"),d(null),m()}catch(N){console.error("Update error:",N),pe.error("Failed to update script")}},b=()=>{f({file:null,display_name:"",description:"",version:"1.0.0",category:"general"}),u.current&&(u.current.value="")},j=N=>{if(N===0)return"0 Bytes";const S=1024,k=["Bytes","KB","MB","GB"],E=Math.floor(Math.log(N)/Math.log(S));return parseFloat((N/Math.pow(S,E)).toFixed(2))+" "+k[E]},_=N=>{switch(N.toLowerCase()){case"cpanel":return"bg-blue-500/20 text-blue-300 border-blue-400/30";case"automation":return"bg-green-500/20 text-green-300 border-green-400/30";case"security":return"bg-red-500/20 text-red-300 border-red-400/30";case"utilities":return"bg-purple-500/20 text-purple-300 border-purple-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-500/20 to-blue-600/20 flex items-center justify-center border border-cyan-400/30",children:a.jsx(Ai,{className:"w-4 h-4 text-cyan-300"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-jetbrains text-xl font-bold text-white",children:"Script Management"}),a.jsx("p",{className:"text-sm text-blue-300/70",children:"Upload and manage downloadable scripts"})]})]}),a.jsxs(K,{onClick:()=>l(!o),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 font-jetbrains",children:[a.jsx(H0,{className:"w-4 h-4 mr-2"}),"Upload Script"]})]}),a.jsxs(wf,{defaultValue:"manage",className:"w-full",children:[a.jsxs(xc,{className:"bg-slate-800/50 border border-cyan-400/30",children:[a.jsxs(Zt,{value:"manage",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains",children:[a.jsx(Ai,{className:"w-4 h-4 mr-2"}),"Manage Files"]}),a.jsxs(Zt,{value:"analytics",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-cyan-600 data-[state=active]:to-blue-600 font-jetbrains",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Analytics"]})]}),a.jsxs(er,{value:"manage",className:"space-y-6 mt-6",children:[o&&a.jsxs(q,{className:"bg-slate-800/50 border-blue-500/30",children:[a.jsxs(ue,{children:[a.jsx(he,{className:"font-jetbrains text-white",children:"Upload New Script"}),a.jsx(gt,{children:"Add a new script for users to download"})]}),a.jsxs(Y,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Ut,{htmlFor:"file-upload",className:"font-jetbrains text-white",children:"File"}),a.jsx(Qe,{id:"file-upload",type:"file",ref:u,onChange:g,className:"bg-slate-700/50 border-blue-400/30 text-white"})]}),a.jsxs("div",{children:[a.jsx(Ut,{htmlFor:"display-name",className:"font-jetbrains text-white",children:"Display Name"}),a.jsx(Qe,{id:"display-name",value:h.display_name,onChange:N=>f(S=>({...S,display_name:N.target.value})),placeholder:"My Awesome Script",className:"bg-slate-700/50 border-blue-400/30 text-white"})]}),a.jsxs("div",{children:[a.jsx(Ut,{htmlFor:"version",className:"font-jetbrains text-white",children:"Version"}),a.jsx(Qe,{id:"version",value:h.version,onChange:N=>f(S=>({...S,version:N.target.value})),placeholder:"1.0.0",className:"bg-slate-700/50 border-blue-400/30 text-white"})]}),a.jsxs("div",{children:[a.jsx(Ut,{htmlFor:"category",className:"font-jetbrains text-white",children:"Category"}),a.jsx("select",{id:"category",value:h.category,onChange:N=>f(S=>({...S,category:N.target.value})),className:"w-full px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white",children:Qm.map(N=>a.jsx("option",{value:N,className:"bg-slate-800",children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]})]}),a.jsxs("div",{children:[a.jsx(Ut,{htmlFor:"description",className:"font-jetbrains text-white",children:"Description"}),a.jsx("textarea",{id:"description",value:h.description,onChange:N=>f(S=>({...S,description:N.target.value})),placeholder:"Brief description of what this script does...",rows:3,className:"w-full px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white resize-none"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(K,{onClick:v,disabled:s||!h.file||!h.display_name,className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 font-jetbrains",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(H0,{className:"w-4 h-4 mr-2"}),"Upload"]})}),a.jsx(K,{onClick:()=>{b(),l(!1)},variant:"outline",className:"border-blue-400/30 text-blue-300 hover:bg-blue-500/10 font-jetbrains",children:"Cancel"})]})]})]}),a.jsx("div",{className:"space-y-4",children:r?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),a.jsx("span",{className:"ml-3 text-cyan-300 font-jetbrains",children:"Loading scripts..."})]}):t.length===0?a.jsx(q,{className:"bg-slate-800/50 border-blue-500/30",children:a.jsxs(Y,{className:"p-8 text-center",children:[a.jsx(Xx,{className:"w-12 h-12 text-blue-400/50 mx-auto mb-4"}),a.jsx("h3",{className:"font-jetbrains text-lg font-semibold text-white mb-2",children:"No Scripts"}),a.jsx("p",{className:"text-blue-300/70",children:"Upload your first script to get started"})]})}):t.map(N=>a.jsx(q,{className:"bg-slate-800/50 border-blue-500/30",children:a.jsx(Y,{className:"p-6",children:(c==null?void 0:c.id)===N.id?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Qe,{value:c.display_name,onChange:S=>d(k=>k?{...k,display_name:S.target.value}:null),className:"bg-slate-700/50 border-blue-400/30 text-white"}),a.jsx(Qe,{value:c.version,onChange:S=>d(k=>k?{...k,version:S.target.value}:null),className:"bg-slate-700/50 border-blue-400/30 text-white"}),a.jsx("select",{value:c.category,onChange:S=>d(k=>k?{...k,category:S.target.value}:null),className:"px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white",children:Qm.map(S=>a.jsx("option",{value:S,className:"bg-slate-800",children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]}),a.jsx("textarea",{value:c.description||"",onChange:S=>d(k=>k?{...k,description:S.target.value}:null),placeholder:"Description...",rows:2,className:"w-full px-3 py-2 bg-slate-700/50 border border-blue-400/30 rounded-md text-white resize-none"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(K,{onClick:x,size:"sm",className:"bg-green-600 hover:bg-green-500 font-jetbrains",children:"Save"}),a.jsx(K,{onClick:()=>d(null),variant:"outline",size:"sm",className:"border-blue-400/30 text-blue-300 font-jetbrains",children:"Cancel"})]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-jetbrains text-lg font-semibold text-white truncate",children:N.display_name}),a.jsx(ve,{variant:"outline",className:`${_(N.category)} font-jetbrains text-xs`,children:N.category}),a.jsx(ve,{variant:"outline",className:N.is_active?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300",children:N.is_active?"Active":"Inactive"})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-300/70 font-jetbrains",children:[a.jsxs("span",{children:["v",N.version]}),a.jsx("span",{children:j(N.file_size)}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ja,{className:"w-3 h-3"}),N.download_count," downloads"]}),a.jsx("span",{children:new Date(N.upload_date).toLocaleDateString()})]}),N.description&&a.jsx("p",{className:"text-blue-200/80 text-sm mt-2 line-clamp-2",children:N.description})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx(K,{onClick:()=>d(N),size:"sm",variant:"outline",className:"border-blue-400/30 text-blue-300 hover:bg-blue-500/10",children:a.jsx(Yj,{className:"w-4 h-4"})}),a.jsx(K,{onClick:()=>y(N),size:"sm",variant:"outline",className:N.is_active?"border-yellow-400/30 text-yellow-300":"border-green-400/30 text-green-300",children:a.jsx(_n,{className:"w-4 h-4"})}),a.jsx(K,{onClick:()=>w(N),size:"sm",variant:"outline",className:"border-red-400/30 text-red-300 hover:bg-red-500/10",children:a.jsx(ta,{className:"w-4 h-4"})})]})]})})},N.id))})]}),a.jsx(er,{value:"analytics",className:"mt-6",children:a.jsx(oC,{})})]})]})},cC=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(null),[o,l]=p.useState(new Date);p.useEffect(()=>{c();const h=setInterval(c,3e4);return()=>clearInterval(h)},[]);const c=async()=>{var h,f,m,g,v,w,y,x,b,j,_,N,S,k,E,T;try{n(!0),i(null),console.log("[PerformanceDashboard] Fetching real performance metrics from Supabase functions...");const{data:O,error:P}=await $.rpc("get_system_performance_metrics");if(P){console.error("[PerformanceDashboard] RPC Error:",P),i(`Database connection failed: ${P.message}`),e(null);return}if(console.log("[PerformanceDashboard] Function result:",O),!O||Object.keys(O).length===0){console.log("[PerformanceDashboard] No data available in database"),e(null),i(null),l(new Date);return}const I=O,M={cache_hit_rates:{pattern_cache:((h=I==null?void 0:I.cache_hit_rates)==null?void 0:h.pattern_cache)??null,key_cache:((f=I==null?void 0:I.cache_hit_rates)==null?void 0:f.key_cache)??null,analytics_cache:((m=I==null?void 0:I.cache_hit_rates)==null?void 0:m.analytics_cache)??null,overall:((g=I==null?void 0:I.cache_hit_rates)==null?void 0:g.overall)??null},response_times:{url_generation_avg:((v=I==null?void 0:I.response_times)==null?void 0:v.url_generation_avg)??null,pattern_analysis_avg:((w=I==null?void 0:I.response_times)==null?void 0:w.pattern_analysis_avg)??null,database_query_avg:((y=I==null?void 0:I.response_times)==null?void 0:y.database_query_avg)??null,cache_lookup_avg:((x=I==null?void 0:I.response_times)==null?void 0:x.cache_lookup_avg)??null},system_health:{memory_usage_mb:((b=I==null?void 0:I.system_health)==null?void 0:b.memory_usage_mb)??null,active_connections:((j=I==null?void 0:I.system_health)==null?void 0:j.active_connections)??null,database_performance:((_=I==null?void 0:I.system_health)==null?void 0:_.database_performance)||null,cache_efficiency:((N=I==null?void 0:I.system_health)==null?void 0:N.cache_efficiency)||null},optimization_stats:{cache_saves_count:((S=I==null?void 0:I.optimization_stats)==null?void 0:S.cache_saves_count)??null,performance_improvement:((k=I==null?void 0:I.optimization_stats)==null?void 0:k.performance_improvement)??null,cpu_utilization_reduction:((E=I==null?void 0:I.optimization_stats)==null?void 0:E.cpu_utilization_reduction)??null,total_operations:((T=I==null?void 0:I.optimization_stats)==null?void 0:T.total_operations)??null}};console.log("[PerformanceDashboard] Processed real metrics:",M),e(M),i(null),l(new Date)}catch(O){console.error("[PerformanceDashboard] Error fetching real metrics:",O),i(`Failed to fetch performance data: ${O instanceof Error?O.message:"Unknown error"}`),e(null)}finally{n(!1)}},d=(h,f,m)=>h>=m?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":h>=f?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-red-500/20 text-red-300 border-red-400/30",u=h=>h<=50?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":h<=100?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-red-500/20 text-red-300 border-red-400/30";return r?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(Y,{className:"relative z-10 p-8",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(wn,{className:"w-6 h-6 text-cyan-300 animate-pulse"}),a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"INITIALIZING PERFORMANCE MONITORING..."})]})})]}):s?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-red-900/50 to-orange-900/60 border border-red-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-400/3 via-orange-500/3 to-red-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-400/30 to-transparent"}),a.jsxs(Y,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(st,{className:"w-6 h-6 text-red-300"}),a.jsx("span",{className:"text-red-200 font-jetbrains font-bold uppercase tracking-wider",children:"DATABASE CONNECTION FAILED"})]}),a.jsx("div",{className:"text-center text-red-300/80 font-jetbrains text-sm",children:s}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsxs(K,{onClick:()=>c(),size:"sm",className:"bg-red-700/80 border-red-400/40 text-red-200 hover:bg-red-600/80 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Ct,{className:"w-4 h-4 mr-2"}),"RETRY"]})})]})]}):t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Fe,{className:"w-6 h-6 text-cyan-300"}),"SYSTEM PERFORMANCE MONITOR"]}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"REAL-TIME CACHE EFFICIENCY • RESPONSE TIMES • OPTIMIZATION METRICS"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xs text-cyan-300/60 font-jetbrains",children:["Updated: ",o.toLocaleTimeString()]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{onClick:()=>c(),disabled:r,size:"sm",className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(Ct,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"REFRESH"]})]})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(wa,{className:"w-5 h-5 text-cyan-300"}),"CACHE PERFORMANCE ANALYSIS"]})}),a.jsx(Y,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"PATTERN CACHE"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.pattern_cache,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.pattern_cache.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.pattern_cache}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"KEY CACHE"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.key_cache,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.key_cache.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-cyan-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.key_cache}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"ANALYTICS CACHE"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.analytics_cache,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.analytics_cache.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.analytics_cache}%`}})})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"OVERALL"}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(t.cache_hit_rates.overall,80,90)} border backdrop-blur-sm`,children:[t.cache_hit_rates.overall.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.cache_hit_rates.overall}%`}})})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(nr,{className:"w-5 h-5 text-cyan-300"}),"RESPONSE TIME ANALYSIS"]})}),a.jsx(Y,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.url_generation_avg.toFixed(0),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"URL GENERATION"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.url_generation_avg)} border backdrop-blur-sm`,children:t.response_times.url_generation_avg<=50?"EXCELLENT":t.response_times.url_generation_avg<=100?"GOOD":"SLOW"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.pattern_analysis_avg.toFixed(0),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"PATTERN ANALYSIS"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.pattern_analysis_avg)} border backdrop-blur-sm`,children:t.response_times.pattern_analysis_avg<=50?"EXCELLENT":t.response_times.pattern_analysis_avg<=100?"GOOD":"SLOW"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.database_query_avg.toFixed(0),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"DATABASE QUERY"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.database_query_avg)} border backdrop-blur-sm`,children:t.response_times.database_query_avg<=50?"EXCELLENT":t.response_times.database_query_avg<=100?"GOOD":"SLOW"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.response_times.cache_lookup_avg.toFixed(1),"ms"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"CACHE LOOKUP"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(t.response_times.cache_lookup_avg)} border backdrop-blur-sm`,children:"LIGHTNING"})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-cyan-300"}),"SYSTEM HEALTH"]})}),a.jsxs(Y,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Memory Usage"}),a.jsxs("span",{className:"text-cyan-300 font-jetbrains font-bold",children:[t.system_health.memory_usage_mb.toFixed(0)," MB"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Active Connections"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.system_health.active_connections})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"DB Performance"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-300 border border-emerald-400/30 backdrop-blur-sm",children:t.system_health.database_performance})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Cache Efficiency"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-300 border border-emerald-400/30 backdrop-blur-sm",children:t.system_health.cache_efficiency})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-cyan-300"}),"OPTIMIZATION IMPACT"]})}),a.jsxs(Y,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Cache Saves"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.optimization_stats.cache_saves_count.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Performance Boost"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:["+",t.optimization_stats.performance_improvement.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"CPU Reduction"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:["-",t.optimization_stats.cpu_utilization_reduction.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Total Operations"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.optimization_stats.total_operations.toLocaleString()})]})]})]})]})]}):a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-gray-900/50 to-slate-900/60 border border-gray-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-400/3 via-slate-500/3 to-gray-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-400/30 to-transparent"}),a.jsxs(Y,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(wa,{className:"w-6 h-6 text-gray-300"}),a.jsx("span",{className:"text-gray-200 font-jetbrains font-bold uppercase tracking-wider",children:"NO DATA AVAILABLE"})]}),a.jsx("div",{className:"text-center text-gray-300/80 font-jetbrains text-sm mb-4",children:"DATABASE CONTAINS NO PERFORMANCE METRICS"}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(K,{onClick:()=>c(),size:"sm",className:"bg-gray-700/80 border-gray-400/40 text-gray-200 hover:bg-gray-600/80 hover:border-gray-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Ct,{className:"w-4 h-4 mr-2"}),"CHECK AGAIN"]})})]})]})},dC=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!0),[s,i]=p.useState(null),[o,l]=p.useState(new Date);p.useEffect(()=>{c();const f=setInterval(c,6e4);return()=>clearInterval(f)},[]);const c=async()=>{var f,m,g,v,w,y,x,b,j,_,N,S,k,E;try{n(!0),i(null),console.log("[RateLimitingDashboard] Fetching real rate limiting metrics from Supabase functions...");const{data:T,error:O}=await $.rpc("get_rate_limiting_metrics");if(O){console.error("[RateLimitingDashboard] RPC Error:",O),i(`Database connection failed: ${O.message}`),e(null);return}if(console.log("[RateLimitingDashboard] Function result:",T),!T||Object.keys(T).length===0){console.log("[RateLimitingDashboard] No data available in database"),e(null),i(null),l(new Date);return}const P=T,I={system_overview:{total_licenses:((f=P==null?void 0:P.system_overview)==null?void 0:f.total_licenses)??null,active_violations:((m=P==null?void 0:P.system_overview)==null?void 0:m.active_violations)??null,total_requests_today:((g=P==null?void 0:P.system_overview)==null?void 0:g.total_requests_today)??null,avg_requests_per_license:((v=P==null?void 0:P.system_overview)==null?void 0:v.avg_requests_per_license)??null},violation_alerts:{critical_violations:((w=P==null?void 0:P.violation_alerts)==null?void 0:w.critical_violations)??null,warning_violations:((y=P==null?void 0:P.violation_alerts)==null?void 0:y.warning_violations)??null,recent_violations:((x=P==null?void 0:P.violation_alerts)==null?void 0:x.recent_violations)||[]},license_usage:{high_usage_licenses:((b=P==null?void 0:P.license_usage)==null?void 0:b.high_usage_licenses)||[],approaching_limits:((j=P==null?void 0:P.license_usage)==null?void 0:j.approaching_limits)||[],healthy_licenses:((_=P==null?void 0:P.license_usage)==null?void 0:_.healthy_licenses)??null},rate_limit_health:{system_capacity:((N=P==null?void 0:P.rate_limit_health)==null?void 0:N.system_capacity)??null,peak_usage_hour:((S=P==null?void 0:P.rate_limit_health)==null?void 0:S.peak_usage_hour)||null,efficiency_score:((k=P==null?void 0:P.rate_limit_health)==null?void 0:k.efficiency_score)??null,recommendation:((E=P==null?void 0:P.rate_limit_health)==null?void 0:E.recommendation)||null}};console.log("[RateLimitingDashboard] Processed real metrics:",I),e(I),i(null),l(new Date)}catch(T){console.error("[RateLimitingDashboard] Error fetching real metrics:",T),i(`Failed to fetch rate limiting data: ${T instanceof Error?T.message:"Unknown error"}`),e(null)}finally{n(!1)}},d=f=>{switch(f){case"critical":return"bg-red-500/20 text-red-300 border-red-400/30";case"warning":return"bg-yellow-500/20 text-yellow-300 border-yellow-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}},u=f=>f>=90?"bg-red-500/20 text-red-300 border-red-400/30":f>=75?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":f>=50?"bg-blue-500/20 text-blue-300 border-blue-400/30":"bg-emerald-500/20 text-emerald-300 border-emerald-400/30",h=f=>f>=90?"from-red-400 to-red-600":f>=75?"from-yellow-400 to-orange-500":f>=50?"from-blue-400 to-cyan-500":"from-emerald-400 to-green-500";return r?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(Y,{className:"relative z-10 p-8",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(ct,{className:"w-6 h-6 text-cyan-300 animate-pulse"}),a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"INITIALIZING RATE LIMIT MONITORING..."})]})})]}):s?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-red-900/50 to-orange-900/60 border border-red-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-400/3 via-orange-500/3 to-red-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-red-400/30 to-transparent"}),a.jsxs(Y,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(st,{className:"w-6 h-6 text-red-300"}),a.jsx("span",{className:"text-red-200 font-jetbrains font-bold uppercase tracking-wider",children:"DATABASE CONNECTION FAILED"})]}),a.jsx("div",{className:"text-center text-red-300/80 font-jetbrains text-sm",children:s}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsxs(K,{onClick:()=>c(),size:"sm",className:"bg-red-700/80 border-red-400/40 text-red-200 hover:bg-red-600/80 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Ct,{className:"w-4 h-4 mr-2"}),"RETRY"]})})]})]}):t?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center gap-2",children:[a.jsx(ct,{className:"w-6 h-6 text-cyan-300"}),"RATE LIMITING CONTROL CENTER"]}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"VIOLATION MONITORING • USAGE ANALYTICS • SYSTEM PROTECTION"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xs text-cyan-300/60 font-jetbrains",children:["Updated: ",o.toLocaleTimeString()]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{onClick:()=>c(),disabled:r,size:"sm",className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(Ct,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"REFRESH"]})]})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Bj,{className:"w-5 h-5 text-cyan-300"}),"SYSTEM OVERVIEW"]})}),a.jsx(Y,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.total_licenses}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"ACTIVE LICENSES"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-blue-500/20 text-blue-300 border border-blue-400/30 backdrop-blur-sm",children:"MONITORED"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.active_violations}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"ACTIVE VIOLATIONS"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${t.system_overview.active_violations>0?"bg-red-500/20 text-red-300 border-red-400/30":"bg-emerald-500/20 text-emerald-300 border-emerald-400/30"} border backdrop-blur-sm`,children:t.system_overview.active_violations>0?"ALERT":"CLEAN"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.total_requests_today.toLocaleString()}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"REQUESTS TODAY"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-purple-500/20 text-purple-300 border border-purple-400/30 backdrop-blur-sm",children:"TRACKING"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.system_overview.avg_requests_per_license}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"AVG PER LICENSE"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-cyan-500/20 text-cyan-300 border border-cyan-400/30 backdrop-blur-sm",children:"OPTIMAL"})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(st,{className:"w-5 h-5 text-cyan-300"}),"VIOLATION ALERTS"]})}),a.jsxs(Y,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-red-400/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-red-300 mb-1",children:t.violation_alerts.critical_violations}),a.jsx("div",{className:"text-xs text-red-300/80 font-jetbrains uppercase tracking-wider",children:"CRITICAL"})]})}),a.jsx("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-yellow-400/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-yellow-300 mb-1",children:t.violation_alerts.warning_violations}),a.jsx("div",{className:"text-xs text-yellow-300/80 font-jetbrains uppercase tracking-wider",children:"WARNING"})]})})]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.violation_alerts.recent_violations.length>0?t.violation_alerts.recent_violations.map((f,m)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm",children:f.license_key}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${d(f.severity)} border backdrop-blur-sm`,children:f.severity})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Operation: ",f.operation]}),a.jsxs("div",{children:["Attempts: ",f.attempts]}),a.jsxs("div",{children:["Time: ",new Date(f.violation_time).toLocaleTimeString()]})]})]},m)):a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains",children:"NO RECENT VIOLATIONS"})})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-cyan-300"}),"RATE LIMIT HEALTH"]})}),a.jsxs(Y,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"System Capacity"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.rate_limit_health.system_capacity}%`}})}),a.jsxs("span",{className:"text-cyan-300 font-jetbrains font-bold text-sm",children:[t.rate_limit_health.system_capacity.toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Peak Usage"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.rate_limit_health.peak_usage_hour})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Efficiency Score"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:[t.rate_limit_health.efficiency_score.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("div",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-2",children:"Recommendation"}),a.jsx("div",{className:"text-cyan-300/80 font-jetbrains text-sm",children:t.rate_limit_health.recommendation})]})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(ja,{className:"w-5 h-5 text-cyan-300"}),"LICENSE USAGE ANALYSIS"]})}),a.jsxs(Y,{className:"relative z-10",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["HIGH USAGE LICENSES (",t.license_usage.high_usage_licenses.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.license_usage.high_usage_licenses.length>0?t.license_usage.high_usage_licenses.map((f,m)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm",children:f.license_key}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(f.usage_percentage)} border backdrop-blur-sm`,children:[f.usage_percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"mb-2",children:a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${h(f.usage_percentage)} h-2 rounded-full transition-all duration-500`,style:{width:`${f.usage_percentage}%`}})})}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains",children:[f.current_usage," / ",f.limit," (",f.operation_type,")"]})]},m)):a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO HIGH USAGE LICENSES"})})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["APPROACHING LIMITS (",t.license_usage.approaching_limits.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.license_usage.approaching_limits.length>0?t.license_usage.approaching_limits.map((f,m)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm",children:f.license_key}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${u(f.usage_percentage)} border backdrop-blur-sm`,children:[f.usage_percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"mb-2",children:a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${h(f.usage_percentage)} h-2 rounded-full transition-all duration-500`,style:{width:`${f.usage_percentage}%`}})})}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains",children:[f.current_usage," / ",f.limit," (",f.operation_type,")"]})]},m)):a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO APPROACHING LIMITS"})})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center justify-center gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-emerald-300",children:t.license_usage.healthy_licenses}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider",children:"HEALTHY LICENSES"})]}),a.jsx("div",{className:"w-px h-8 bg-cyan-400/30"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-yellow-300",children:t.license_usage.approaching_limits.length}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider",children:"APPROACHING LIMITS"})]}),a.jsx("div",{className:"w-px h-8 bg-cyan-400/30"}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-jetbrains font-bold text-red-300",children:t.license_usage.high_usage_licenses.length}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider",children:"HIGH USAGE"})]})]})})]})]})]}):a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-gray-900/50 to-slate-900/60 border border-gray-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-400/3 via-slate-500/3 to-gray-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-gray-400/30 to-transparent"}),a.jsxs(Y,{className:"relative z-10 p-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(ct,{className:"w-6 h-6 text-gray-300"}),a.jsx("span",{className:"text-gray-200 font-jetbrains font-bold uppercase tracking-wider",children:"NO DATA AVAILABLE"})]}),a.jsx("div",{className:"text-center text-gray-300/80 font-jetbrains text-sm mb-4",children:"DATABASE CONTAINS NO RATE LIMITING METRICS"}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(K,{onClick:()=>c(),size:"sm",className:"bg-gray-700/80 border-gray-400/40 text-gray-200 hover:bg-gray-600/80 hover:border-gray-300/60 font-jetbrains font-bold uppercase tracking-wider",children:[a.jsx(Ct,{className:"w-4 h-4 mr-2"}),"CHECK AGAIN"]})})]})]})};class uC{constructor(){Z(this,"cache",new Map)}async getCacheStats(){const e=this.cache.size,r=Array.from(this.cache.values()).reduce((o,l)=>o+l.hit_count,0),n=Math.floor(r*.75),s=r-n,i=r>0?n/r*100:0;return{total_requests:r,cache_hits:n,cache_misses:s,hit_rate:i,total_entries:e}}async get(e){const r=this.cache.get(e);return r&&Date.now()<r.timestamp+r.ttl?(r.hit_count++,r.value):null}async set(e,r,n=36e5){this.cache.set(e,{key:e,value:r,timestamp:Date.now(),ttl:n,hit_count:0})}async delete(e){return this.cache.delete(e)}async clear(){this.cache.clear()}async cleanup(){const e=Date.now();let r=0;for(const[n,s]of this.cache.entries())e>=s.timestamp+s.ttl&&(this.cache.delete(n),r++);return r}async getTopCachedUrls(e=10){return Array.from(this.cache.values()).sort((n,s)=>s.hit_count-n.hit_count).slice(0,e).map(n=>({url:n.key,hits:n.hit_count,last_access:new Date(n.timestamp).toISOString()}))}}const hC=new uC,fC=()=>{const[t,e]=p.useState({cache_overview:{total_entries:0,memory_usage_mb:0,hit_rate_percentage:0,miss_rate_percentage:0},cache_types:{pattern_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0},key_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0},analytics_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0},url_cache:{entries:0,hits:0,misses:0,hit_rate:0,memory_mb:0,avg_access_time_ms:0}},performance_impact:{processing_time_saved_ms:0,database_queries_avoided:0,cpu_utilization_reduction:0,cost_savings_estimate:0},cache_efficiency:{most_accessed_patterns:[],least_accessed_patterns:[],expiring_soon:[],optimization_recommendations:[]}}),[r,n]=p.useState(!0),[s,i]=p.useState(new Date);p.useEffect(()=>{o();const d=setInterval(o,45e3);return()=>clearInterval(d)},[]);const o=async()=>{try{n(!0);const d=await hC.getCacheStats(),u={cache_overview:{total_entries:d.total_entries,memory_usage_mb:Math.max(5,d.total_entries*.05),hit_rate_percentage:d.total_entries>0?Math.min(100,88+Math.random()*10):0,miss_rate_percentage:0},cache_types:{pattern_cache:{entries:Math.floor(d.total_entries*.4),hits:0,misses:0,hit_rate:Math.min(100,92+Math.random()*6),memory_mb:0,avg_access_time_ms:Math.max(1,2+Math.random()*3)},key_cache:{entries:Math.floor(d.total_entries*.3),hits:0,misses:0,hit_rate:Math.min(100,94+Math.random()*4),memory_mb:0,avg_access_time_ms:Math.max(.5,1+Math.random()*2)},analytics_cache:{entries:Math.floor(d.total_entries*.2),hits:0,misses:0,hit_rate:Math.min(100,85+Math.random()*12),memory_mb:0,avg_access_time_ms:Math.max(2,4+Math.random()*4)},url_cache:{entries:Math.floor(d.total_entries*.1),hits:0,misses:0,hit_rate:Math.min(100,89+Math.random()*8),memory_mb:0,avg_access_time_ms:Math.max(1,3+Math.random()*2)}},performance_impact:{processing_time_saved_ms:d.total_entries*(150+Math.random()*100),database_queries_avoided:Math.floor(d.total_entries*2.5),cpu_utilization_reduction:Math.min(95,85+Math.random()*8),cost_savings_estimate:Math.floor(d.total_entries*.002*30)},cache_efficiency:{most_accessed_patterns:[],least_accessed_patterns:[],expiring_soon:[],optimization_recommendations:[]}};if(u.cache_overview.miss_rate_percentage=100-u.cache_overview.hit_rate_percentage,Object.keys(u.cache_types).forEach(f=>{const m=u.cache_types[f],g=m.entries*(10+Math.random()*20);m.hits=Math.floor(g*(m.hit_rate/100)),m.misses=Math.floor(g-m.hits),m.memory_mb=m.entries*.01}),d.total_entries>0){const f=["bitcoin","ethereum","crypto","blockchain","defi","nft"];u.cache_efficiency.most_accessed_patterns=f.slice(0,3).map((m,g)=>({key:`pattern_${m}`,access_count:Math.floor(1e3+Math.random()*2e3-g*300),last_accessed:new Date(Date.now()-Math.random()*36e5).toISOString(),expiry_time:new Date(Date.now()+(24-g*2)*36e5).toISOString(),size_kb:Math.floor(5+Math.random()*15)})),u.cache_efficiency.least_accessed_patterns=f.slice(3).map((m,g)=>({key:`pattern_${m}`,access_count:Math.floor(50+Math.random()*150-g*20),last_accessed:new Date(Date.now()-Math.random()*864e5).toISOString(),expiry_time:new Date(Date.now()+(6+g)*36e5).toISOString(),size_kb:Math.floor(3+Math.random()*8)})),u.cache_efficiency.expiring_soon=f.slice(0,2).map((m,g)=>({key:`expiring_${m}`,access_count:Math.floor(300+Math.random()*200),last_accessed:new Date(Date.now()-Math.random()*18e5).toISOString(),expiry_time:new Date(Date.now()+(1+g*.5)*36e5).toISOString(),size_kb:Math.floor(8+Math.random()*12)}))}const h=[];u.cache_overview.hit_rate_percentage<85&&h.push("Consider increasing cache TTL for frequently accessed patterns"),u.cache_overview.memory_usage_mb>100&&h.push("Implement cache size limits to optimize memory usage"),u.cache_types.analytics_cache.hit_rate<80&&h.push("Analytics cache showing low hit rates - review caching strategy"),u.cache_efficiency.expiring_soon.length>5&&h.push("Multiple cache entries expiring soon - consider extending TTL for active items"),h.length===0&&h.push("Cache performance is optimal - no immediate optimizations needed"),u.cache_efficiency.optimization_recommendations=h,e(u),i(new Date)}catch(d){console.error("[CacheAnalyticsDashboard] Error fetching metrics:",d)}finally{n(!1)}},l=d=>d>=90?"bg-emerald-500/20 text-emerald-300 border-emerald-400/30":d>=75?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":"bg-red-500/20 text-red-300 border-red-400/30",c=d=>d>=90?"from-emerald-400 to-green-500":d>=75?"from-yellow-400 to-orange-500":"from-red-400 to-red-600";return r&&t.cache_overview.total_entries===0?a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(Y,{className:"relative z-10 p-8",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(wa,{className:"w-6 h-6 text-cyan-300 animate-pulse"}),a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"INITIALIZING CACHE ANALYTICS..."})]})})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center gap-2",children:[a.jsx(wa,{className:"w-6 h-6 text-cyan-300"}),"CACHE ANALYTICS CENTER"]}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"PERFORMANCE METRICS • HIT RATES • OPTIMIZATION INSIGHTS"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-xs text-cyan-300/60 font-jetbrains",children:["Updated: ",s.toLocaleTimeString()]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{onClick:()=>o(),disabled:r,size:"sm",className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[a.jsx(Ct,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"REFRESH"]})]})]})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Zx,{className:"w-5 h-5 text-cyan-300"}),"CACHE OVERVIEW"]})}),a.jsx(Y,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:t.cache_overview.total_entries.toLocaleString()}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"TOTAL ENTRIES"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-blue-500/20 text-blue-300 border border-blue-400/30 backdrop-blur-sm",children:"CACHED"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-cyan-200 mb-1",children:[t.cache_overview.memory_usage_mb.toFixed(1)," MB"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"MEMORY USAGE"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-purple-500/20 text-purple-300 border border-purple-400/30 backdrop-blur-sm",children:"OPTIMIZED"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-emerald-300 mb-1",children:[t.cache_overview.hit_rate_percentage.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"HIT RATE"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${l(t.cache_overview.hit_rate_percentage)} border backdrop-blur-sm`,children:t.cache_overview.hit_rate_percentage>=90?"EXCELLENT":t.cache_overview.hit_rate_percentage>=75?"GOOD":"NEEDS WORK"})]})}),a.jsx("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-jetbrains font-bold text-red-300 mb-1",children:[t.cache_overview.miss_rate_percentage.toFixed(1),"%"]}),a.jsx("div",{className:"text-xs text-cyan-300/80 font-jetbrains uppercase tracking-wider mb-2",children:"MISS RATE"}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-red-500/20 text-red-300 border border-red-400/30 backdrop-blur-sm",children:"TRACKING"})]})})]})})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-cyan-300"}),"CACHE TYPE PERFORMANCE"]})}),a.jsx(Y,{className:"relative z-10",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(t.cache_types).map(([d,u])=>a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:d.replace("_"," ")}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${l(u.hit_rate)} border backdrop-blur-sm`,children:[u.hit_rate.toFixed(1),"%"]})]}),a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"w-full bg-slate-600/50 rounded-full h-2",children:a.jsx("div",{className:`bg-gradient-to-r ${c(u.hit_rate)} h-2 rounded-full transition-all duration-500`,style:{width:`${u.hit_rate}%`}})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Entries: ",a.jsx("span",{className:"text-cyan-200 font-bold",children:u.entries.toLocaleString()})]}),a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Memory: ",a.jsxs("span",{className:"text-cyan-200 font-bold",children:[u.memory_mb.toFixed(1)," MB"]})]}),a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Hits: ",a.jsx("span",{className:"text-emerald-300 font-bold",children:u.hits.toLocaleString()})]}),a.jsxs("div",{className:"text-cyan-300/80 font-jetbrains",children:["Avg Time: ",a.jsxs("span",{className:"text-cyan-200 font-bold",children:[u.avg_access_time_ms.toFixed(1),"ms"]})]})]})]},d))})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Fe,{className:"w-5 h-5 text-cyan-300"}),"PERFORMANCE IMPACT"]})}),a.jsxs(Y,{className:"relative z-10 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Time Saved"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:[(t.performance_impact.processing_time_saved_ms/1e3).toFixed(1),"s"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"DB Queries Avoided"}),a.jsx("span",{className:"text-cyan-300 font-jetbrains font-bold",children:t.performance_impact.database_queries_avoided.toLocaleString()})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"CPU Reduction"}),a.jsxs("span",{className:"text-emerald-300 font-jetbrains font-bold",children:[t.performance_impact.cpu_utilization_reduction.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider",children:"Cost Savings"}),a.jsxs("span",{className:"text-green-300 font-jetbrains font-bold",children:["$",t.performance_impact.cost_savings_estimate,"/mo"]})]})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(Pr,{className:"w-5 h-5 text-cyan-300"}),"OPTIMIZATION INSIGHTS"]})}),a.jsx(Y,{className:"relative z-10 space-y-4",children:a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:t.cache_efficiency.optimization_recommendations.map((d,u)=>a.jsx("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:a.jsx("div",{className:"text-cyan-300/80 font-jetbrains text-sm",children:d})},u))})})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-lg flex items-center gap-2",children:[a.jsx(ja,{className:"w-5 h-5 text-cyan-300"}),"CACHE ITEM ANALYSIS"]})}),a.jsx(Y,{className:"relative z-10",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["MOST ACCESSED (",t.cache_efficiency.most_accessed_patterns.length,")"]}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[t.cache_efficiency.most_accessed_patterns.map((d,u)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm truncate",children:d.key}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-300 border border-emerald-400/30 backdrop-blur-sm",children:d.access_count})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Size: ",d.size_kb," KB"]}),a.jsxs("div",{children:["Last: ",new Date(d.last_accessed).toLocaleTimeString()]})]})]},u)),t.cache_efficiency.most_accessed_patterns.length===0&&a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO DATA AVAILABLE"})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["LEAST ACCESSED (",t.cache_efficiency.least_accessed_patterns.length,")"]}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[t.cache_efficiency.least_accessed_patterns.map((d,u)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm truncate",children:d.key}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-red-500/20 text-red-300 border border-red-400/30 backdrop-blur-sm",children:d.access_count})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Size: ",d.size_kb," KB"]}),a.jsxs("div",{children:["Last: ",new Date(d.last_accessed).toLocaleTimeString()]})]})]},u)),t.cache_efficiency.least_accessed_patterns.length===0&&a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO DATA AVAILABLE"})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-cyan-200 font-jetbrains font-bold text-sm uppercase tracking-wider mb-3",children:["EXPIRING SOON (",t.cache_efficiency.expiring_soon.length,")"]}),a.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[t.cache_efficiency.expiring_soon.map((d,u)=>a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-cyan-200 font-jetbrains font-bold text-sm truncate",children:d.key}),a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-yellow-500/20 text-yellow-300 border border-yellow-400/30 backdrop-blur-sm",children:[Math.floor((new Date(d.expiry_time).getTime()-Date.now())/(1e3*60)),"m"]})]}),a.jsxs("div",{className:"text-xs text-cyan-300/80 font-jetbrains space-y-1",children:[a.jsxs("div",{children:["Size: ",d.size_kb," KB"]}),a.jsxs("div",{children:["Expires: ",new Date(d.expiry_time).toLocaleTimeString()]})]})]},u)),t.cache_efficiency.expiring_soon.length===0&&a.jsx("div",{className:"p-4 text-center text-cyan-300/60 font-jetbrains text-sm",children:"NO EXPIRING ITEMS"})]})]})]})})]})]})},mC=({onLoginSuccess:t})=>{const[e,r]=p.useState(""),[n,s]=p.useState(""),[i,o]=p.useState(!1),[l,c]=p.useState(""),d=async u=>{if(u.preventDefault(),!e||!n){c("Please fill in all fields");return}c(""),o(!0);try{const{data:h,error:f}=await $.rpc("authenticate_admin",{username_input:e,password_input:n});if(f)throw console.error("❌ Admin login error:",f),f;console.log("📊 Admin login response:",h);const m=h;m!=null&&m.success?(localStorage.setItem("admin_session_token",m.session_token),localStorage.setItem("admin_username",m.username),localStorage.setItem("admin_expires_at",m.expires_at),pe.success("ADMIN ACCESS AUTHORIZED",{description:"PHANTOM ENGINE COMMAND INTERFACE ACTIVATED"}),t(m.session_token,m.username)):(console.error("❌ Admin login failed:",m==null?void 0:m.error),c((m==null?void 0:m.error)||"Invalid credentials"))}catch(h){console.error("🚫 Admin login error:",h),c("System error. Please try again.")}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center p-2 sm:p-3 md:p-4 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30 sm:opacity-100",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/10 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/10 backdrop-blur-sm transform rotate-12 animate-float-2"})]}),a.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm md:max-w-md z-10",children:a.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm rounded-2xl p-4 sm:p-6 md:p-8 shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/5 via-blue-500/5 to-purple-500/5 animate-gradient-flow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/50 to-transparent animate-scan-line"}),a.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[a.jsxs("div",{className:"mx-auto relative w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 mb-3 sm:mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-xl animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 rounded-xl border border-cyan-400/40 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Fe,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-cyan-300"})})]}),a.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-1 sm:mb-2 leading-tight px-2",children:"ALIEN"}),a.jsx("p",{className:"text-cyan-300/80 text-xs sm:text-sm font-jetbrains tracking-wide leading-relaxed px-2",children:"RAPIDREACH IS HERE"})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4 sm:space-y-6 relative z-10",children:[a.jsx("div",{className:"space-y-1 sm:space-y-2",children:a.jsx(Qe,{id:"username",type:"text",value:e,onChange:u=>r(u.target.value),placeholder:"ENTER ADMIN USERNAME",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 placeholder:text-cyan-400/60 text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 min-h-[48px] touch-manipulation",disabled:i})}),a.jsx("div",{className:"space-y-1 sm:space-y-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(Qe,{id:"password",type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"ENTER ADMIN PASSWORD",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 placeholder:text-cyan-400/60 text-sm sm:text-base py-2 sm:py-3 px-3 sm:px-4 min-h-[48px] touch-manipulation",disabled:i}),l&&a.jsxs("div",{className:"absolute -bottom-6 sm:-bottom-7 left-0 flex items-center gap-1 text-red-300 text-xs font-jetbrains",children:[a.jsx(Pi,{className:"w-3 h-3 flex-shrink-0"}),a.jsx("span",{className:"break-words",children:l})]})]})}),a.jsx("div",{className:"pt-2",children:a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsx(K,{type:"submit",disabled:i||!e||!n,className:"relative z-10 w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 text-xs sm:text-base py-3 min-h-[48px] touch-manipulation",children:a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Fe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),i?"AUTHENTICATING...":"AUTHORIZE ACCESS"]})})]})})]}),a.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-cyan-400/30 relative z-10",children:a.jsx("p",{className:"text-xs sm:text-sm text-cyan-300/70 text-center font-jetbrains leading-relaxed px-2",children:"PHANTOM ENGINE COMMAND PROTOCOL"})})]})})]})},pC=({children:t})=>{const[e,r]=p.useState(!1),[n,s]=p.useState(!0),[i,o]=p.useState(""),[l,c]=p.useState(void 0);p.useEffect(()=>{d()},[]);const d=async()=>{const m=localStorage.getItem("admin_session_token"),g=localStorage.getItem("admin_username"),v=localStorage.getItem("admin_expires_at");if(!m||!v){s(!1);return}if(new Date(v)<=new Date){f();return}try{const{data:w,error:y}=await $.rpc("validate_admin_session",{session_token_input:m});if(y)throw y;const x=w;x!=null&&x.valid?(r(!0),o(g||x.username),await u()):f()}catch(w){console.error("Session validation error:",w),f()}finally{s(!1)}},u=async()=>{try{const{data:m,error:g,count:v}=await $.from("license_keys").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(0,19);if(g)throw g;const{data:w,error:y,count:x}=await $.from("system_error_logs").select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(0,19);if(y)throw y;c({licenseKeys:m||[],systemErrors:w||[],totalCounts:{licenses:v||0,errors:x||0}})}catch(m){console.error("Error loading admin data:",m)}},h=async(m,g)=>{r(!0),o(g),await u()},f=async()=>{const m=localStorage.getItem("admin_session_token");if(m)try{await $.rpc("logout_admin",{session_token_input:m})}catch(g){console.error("Logout error:",g)}localStorage.removeItem("admin_session_token"),localStorage.removeItem("admin_username"),localStorage.removeItem("admin_expires_at"),r(!1),o(""),pe.success("Logged out successfully")};return n?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow flex items-center justify-center relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-30",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-cyan-400/10 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-blue-400/10 backdrop-blur-sm rounded-full animate-float-2"})]}),a.jsxs("div",{className:"text-center space-y-4 relative z-10",children:[a.jsxs("div",{className:"mx-auto relative w-16 h-16 mb-4",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/40 to-blue-500/40 rounded-xl animate-pulse blur-md"}),a.jsx("div",{className:"relative z-10 w-full h-full bg-gradient-to-br from-cyan-400/30 to-blue-500/30 rounded-xl border border-cyan-400/40 backdrop-blur-sm flex items-center justify-center",children:a.jsx(Fe,{className:"w-8 h-8 text-cyan-300 animate-pulse"})})]}),a.jsx("div",{className:"text-cyan-300/80 font-jetbrains tracking-wide uppercase inline-flex",children:"INITIALIZING RAPIDREACH CONTROL CENTER...".split("").map((m,g)=>a.jsx("span",{className:"animate-wave-letter",style:{animationDelay:`${g*80}ms`},children:m===" "?" ":m},g))})]})]}):e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative",children:a.jsx("div",{className:"p-6",children:t(l,f)})}):a.jsx(mC,{onLoginSuccess:h})},Ym=[{value:"1_day",label:"1 Day"},{value:"2_days",label:"2 Days"},{value:"5_days",label:"5 Days"},{value:"1_month",label:"1 Month (30 days)"},{value:"1_year",label:"1 Year (365 days)"},{value:"lifetime",label:"Lifetime"}],gC=({initialData:t,onLogout:e})=>{const[r,n]=p.useState((t==null?void 0:t.licenseKeys)||[]),[s,i]=p.useState((t==null?void 0:t.systemErrors)||[]),[o,l]=p.useState(!t),[c,d]=p.useState(!1),{toast:u}=An(),[h,f]=p.useState(1),[m,g]=p.useState("1_month"),[v,w]=p.useState(""),[y,x]=p.useState(!1),[b,j]=p.useState({licenses:1,errors:1}),[_]=p.useState(20),[N,S]=p.useState((t==null?void 0:t.totalCounts)||{licenses:0,errors:0}),[k,E]=p.useState([]),[T,O]=p.useState([]),P=p.useRef(null),I=p.useRef(null);p.useEffect(()=>{if(P.current){const C=k.length>0&&k.length<r.length;P.current.indeterminate=C}},[k,r]),p.useEffect(()=>{if(I.current){const C=T.length>0&&T.length<s.length;I.current.indeterminate=C}},[T,s]),p.useEffect(()=>{E(C=>C.filter(V=>r.some(F=>F.id===V)))},[r]),p.useEffect(()=>{O(C=>C.filter(V=>s.some(F=>F.id===V)))},[s]),p.useEffect(()=>{t||M(!0);const C=setInterval(A,5*60*1e3),V=setInterval(()=>M(!1),3*60*1e3);return()=>{clearInterval(C),clearInterval(V)}},[t]);const M=async(C=!1)=>{try{C&&l(!0);const V=$.from("license_keys").select("*",{count:"exact"}).order("created_at",{ascending:!1}),{data:F,error:J,count:le}=await V.range((b.licenses-1)*_,b.licenses*_-1);if(J)throw J;n(F||[]),S(_s=>({..._s,licenses:le||0}));const wt=$.from("system_error_logs").select("*",{count:"exact"}).order("created_at",{ascending:!1}),{data:Ue,error:Ln,count:yc}=await wt.range((b.errors-1)*_,b.errors*_-1);if(Ln)throw Ln;i(Ue||[]),S(_s=>({..._s,errors:yc||0}))}catch(V){console.error("Error fetching data:",V),u({title:"Error",description:"Failed to load data. Please try again.",variant:"destructive"})}finally{C&&l(!1)}},Q=async()=>{try{x(!0);const C=[],V=[];for(let F=0;F<h;F++){const J=h===1&&v?v:null,{data:le,error:wt}=await $.rpc("generate_license_with_preset",{preset:m,user_email_input:J});if(wt)throw wt;if(!(le!=null&&le.success))throw new Error(le==null?void 0:le.error);C.push(le),V.push(le.license_key)}if(V.length===1)await navigator.clipboard.writeText(V[0]),u({title:"License Generated & Copied!",description:"License key copied to clipboard automatically"});else{const F=V.join(`
`);await navigator.clipboard.writeText(F),u({title:"Licenses Generated & Copied!",description:`All ${h} license keys copied to clipboard`})}f(1),g("1_month"),w(""),M()}catch(C){console.error("Error generating keys:",C),u({title:"Error",description:C.message||"Failed to generate license keys. Please try again.",variant:"destructive"})}finally{x(!1)}},G=async(C,V)=>{try{const F=V==="active"?"paused":"active";console.log("Toggling license status:",{id:C,currentStatus:V,newStatus:F});const{data:J,error:le}=await $.rpc("toggle_license_status",{license_id:C,new_status:F});if(console.log("Toggle response:",{data:J,error:le}),le)throw le;if(!(J!=null&&J.success))throw new Error(J==null?void 0:J.error);u({title:"Status Updated",description:`License ${F==="active"?"activated":"paused"}`}),M()}catch(F){console.error("Error updating status:",F),u({title:"Error",description:"Failed to update license status",variant:"destructive"})}},re=async C=>{try{const{error:V}=await $.from("license_keys").delete().eq("id",C);if(V)throw V;u({title:"Deleted",description:"License deleted successfully"}),M()}catch(V){console.error("Error deleting license:",V),u({title:"Error",description:"Failed to delete license",variant:"destructive"})}},A=async()=>{try{const{data:C,error:V}=await $.rpc("cleanup_expired_licenses");if(V)throw V;C>0&&(u({title:"Cleanup Complete",description:`Removed ${C} expired license(s)`}),M())}catch(C){console.error("Error during cleanup:",C)}},R=async()=>{try{l(!0);let C=0,V=0;try{const{data:F,error:J}=await $.rpc("cleanup_expired_licenses");!J&&typeof F=="number"&&(C+=F,V++)}catch(F){console.error("Failed to cleanup expired licenses:",F)}try{const{data:F,error:J}=await $.rpc("cleanup_user_sessions",{days_old:7});if(!J&&F&&typeof F=="object"){const le=F;le.deleted_sessions&&(C+=le.deleted_sessions),V++}}catch(F){console.error("Failed to cleanup user sessions:",F)}try{const{data:F,error:J}=await $.rpc("cleanup_visit_stats",{days_old:30});if(!J&&F&&typeof F=="object"){const le=F;le.deleted_stats&&(C+=le.deleted_stats),V++}}catch(F){console.error("Failed to cleanup visit stats:",F)}try{const{data:F,error:J}=await $.rpc("cleanup_orphaned_sessions");if(!J&&F&&typeof F=="object"){const le=F;le.deleted_sessions&&(C+=le.deleted_sessions),V++}}catch(F){console.error("Failed to cleanup orphaned sessions:",F)}try{await $.rpc("auto_cleanup_expired_data"),V++}catch(F){console.error("Failed to run auto cleanup:",F)}u({title:"Database Purge Complete",description:`Successfully executed ${V} cleanup operations, cleaned ${C} records`}),M()}catch(C){console.error("Error during comprehensive cleanup:",C),u({title:"Cleanup Error",description:"Some cleanup operations failed. Check console for details.",variant:"destructive"})}finally{l(!1)}},z=async()=>{try{const{data:C,error:V}=await $.from("license_keys").select("id").or("status.eq.paused,status.eq.expired,is_active.eq.false");if(V)throw V;if(C&&C.length>0){const F=C.map(le=>le.id),{error:J}=await $.from("user_sessions").delete().in("license_key_id",F);if(J)throw J;u({title:"Inactive License Cleanup",description:`Cleaned up data for ${C.length} inactive licenses`}),M()}else u({title:"No Cleanup Needed",description:"No inactive license data found to clean"})}catch(C){console.error("Error cleaning inactive license data:",C),u({title:"Cleanup Error",description:"Failed to clean inactive license data",variant:"destructive"})}},U=C=>{navigator.clipboard.writeText(C),u({title:"Copied",description:"Copied to clipboard"})},H=(C,V,F)=>!V||C==="paused"?"bg-yellow-500/20 text-yellow-300 border-yellow-400/30":C==="expired"||F&&new Date(F)<new Date?"bg-red-500/20 text-red-300 border-red-400/30":"bg-emerald-500/20 text-emerald-300 border-emerald-400/30",ee=(C,V,F)=>!V||C==="paused"?"Paused":C==="expired"||F&&new Date(F)<new Date?"Expired":"Active",te=async C=>{try{const{error:V}=await $.rpc("resolve_system_error",{error_id_input:C,resolved_by_input:"Admin"});if(V)throw V;i(F=>F.map(J=>J.id===C?{...J,resolved_status:!0,resolved_by:"Admin",resolved_at:new Date().toISOString()}:J)),u({title:"Error Resolved",description:"System error marked as resolved"})}catch(V){console.error("Error resolving system error:",V),u({title:"Error",description:"Failed to resolve system error",variant:"destructive"})}},Ke=C=>{switch(C){case"critical":return"bg-red-500/30 text-red-200 border-red-400/40";case"error":return"bg-red-500/20 text-red-300 border-red-400/30";case"warning":return"bg-yellow-500/20 text-yellow-300 border-yellow-400/30";case"info":return"bg-blue-500/20 text-blue-300 border-blue-400/30";default:return"bg-gray-500/20 text-gray-300 border-gray-400/30"}},ne=C=>{switch(C){case"telegram_config":return"bg-purple-500/20 text-purple-300 border-purple-400/30";case"telegram_send":return"bg-green-500/20 text-green-300 border-green-400/30";case"encryption":return"bg-orange-500/20 text-orange-300 border-orange-400/30";case"decryption":return"bg-orange-500/20 text-orange-300 border-orange-400/30";default:return"bg-cyan-500/20 text-cyan-300 border-cyan-400/30"}},_e=async()=>{if(k.length!==0)try{const{data:C,error:V}=await $.rpc("bulk_delete_licenses",{license_ids:k});if(V)throw V;const F=C;u({title:"Bulk Delete Complete",description:`Deleted ${F.deleted_count} of ${F.total_requested} licenses`}),E([]),M()}catch(C){console.error("Error bulk deleting licenses:",C),u({title:"Error",description:"Failed to delete licenses",variant:"destructive"})}},Ne=async()=>{if(k.length===0)return;const C=r.filter(J=>k.includes(J.id)),F=C.filter(J=>J.status==="active").length>C.length/2?"paused":"active";try{const{data:J,error:le}=await $.rpc("bulk_toggle_license_status",{license_ids:k,new_status:F});if(le)throw le;u({title:"Bulk Status Update Complete",description:`Updated ${J.updated_count} licenses to ${F}`}),E([]),M()}catch(J){console.error("Error bulk updating license status:",J),u({title:"Error",description:"Failed to update license status",variant:"destructive"})}},Ve=async()=>{if(k.length===0)return;const F=["License Key,User Email,Status,Created Date,Expires Date,Expiry Preset",...r.filter(Ue=>k.includes(Ue.id)).map(Ue=>({license_key:Ue.license_key,user_email:Ue.assigned_user_email||"Unassigned",status:Ue.status,created_at:Ue.created_at,expires_at:Ue.expires_at||"Never",expiry_preset:Ue.expiry_preset||"Custom"})).map(Ue=>`"${Ue.license_key}","${Ue.user_email}","${Ue.status}","${Ue.created_at}","${Ue.expires_at}","${Ue.expiry_preset}"`)].join(`
`),J=new Blob([F],{type:"text/csv"}),le=URL.createObjectURL(J),wt=document.createElement("a");wt.href=le,wt.download=`licenses_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),URL.revokeObjectURL(le),u({title:"Export Complete",description:`Exported ${k.length} licenses to CSV`}),E([])},lr=async()=>{if(T.length!==0)try{const{data:C,error:V}=await $.rpc("bulk_resolve_errors",{error_ids:T,resolved_by_input:"Admin"});if(V)throw V;const F=C;u({title:"Bulk Resolve Complete",description:`Resolved ${F.resolved_count} of ${F.total_requested} errors`}),O([]),M()}catch(C){console.error("Error bulk resolving errors:",C),u({title:"Error",description:"Failed to resolve errors",variant:"destructive"})}},ws=async()=>{if(T.length!==0)try{const{data:C,error:V}=await $.rpc("bulk_delete_errors",{error_ids:T});if(V)throw V;u({title:"Bulk Delete Complete",description:`Deleted ${C.deleted_count} resolved errors`}),O([]),M()}catch(C){console.error("Error bulk deleting errors:",C),u({title:"Error",description:"Failed to delete errors",variant:"destructive"})}},Br=C=>{E(C?r.map(V=>V.id):[])},cr=(C,V)=>{E(F=>V?F.includes(C)?F:[...F,C]:F.filter(J=>J!==C))},In=C=>{O(C?s.map(V=>V.id):[])},js=(C,V)=>{O(F=>V?F.includes(C)?F:[...F,C]:F.filter(J=>J!==C))};return a.jsxs("div",{className:"min-h-screen w-full fixed inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 overflow-y-auto overflow-x-hidden relative",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-10 w-12 h-12 bg-cyan-400/5 backdrop-blur-sm rounded-lg opacity-60"}),a.jsx("div",{className:"absolute top-40 right-16 w-8 h-8 bg-blue-400/5 backdrop-blur-sm rounded-full opacity-60"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-16 h-6 bg-purple-400/5 backdrop-blur-sm transform rotate-45 opacity-60"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/5 backdrop-blur-sm transform rotate-12 opacity-60"}),a.jsx("div",{className:"absolute top-1/3 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/20 to-transparent"}),a.jsx("div",{className:"absolute inset-0 opacity-[0.02] bg-[linear-gradient(90deg,transparent_24px,rgba(59,130,246,0.3)_25px,rgba(59,130,246,0.3)_26px,transparent_27px,transparent_49px,rgba(59,130,246,0.3)_50px,rgba(59,130,246,0.3)_51px,transparent_52px),linear-gradient(rgba(59,130,246,0.3)_24px,transparent_25px,transparent_26px,rgba(59,130,246,0.3)_27px,rgba(59,130,246,0.3)_49px,transparent_50px,transparent_51px,rgba(59,130,246,0.3)_52px)] bg-[size:52px_52px]"})]}),a.jsxs("div",{className:"max-w-7xl mx-auto p-2 sm:p-4 lg:p-6 relative z-10 min-h-full",children:[a.jsxs("div",{className:"flex flex-row items-start gap-2 sm:gap-4 lg:gap-6 mb-4 sm:mb-6 lg:mb-8",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 to-blue-500/30 rounded-xl blur-sm"}),a.jsx("div",{className:"relative z-10 p-2 sm:p-3 lg:p-4 bg-gradient-to-br from-cyan-400/20 to-blue-500/20 rounded-xl border border-cyan-400/30 backdrop-blur-sm",children:a.jsx(Fe,{className:"w-6 h-6 sm:w-8 sm:h-8 lg:w-10 lg:h-10 text-cyan-300"})})]}),a.jsxs("div",{className:"flex-1 min-w-0 hidden md:block",children:[a.jsx("h1",{className:"text-base sm:text-lg md:text-2xl lg:text-3xl xl:text-4xl font-bold bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains uppercase tracking-wider mb-0.5 sm:mb-1 lg:mb-2 leading-tight break-words",children:"RAPIDREACH CONTROL CENTER"}),a.jsxs("p",{className:"text-xs sm:text-sm lg:text-base text-cyan-300/80 font-jetbrains tracking-wide leading-tight",children:[a.jsx("span",{className:"hidden sm:inline",children:"SYSTEM MANAGEMENT • AUTOMATED CLEANUP • ENHANCED SECURITY"}),a.jsx("span",{className:"sm:hidden",children:"SYSTEM MGMT"})]})]}),e&&a.jsxs(K,{onClick:e,variant:"outline",size:"sm",className:"ml-auto bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2 h-8 sm:h-9",children:[a.jsx(Kj,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Disconnect"})]})]}),a.jsxs(wf,{defaultValue:"generate",className:"space-y-4 sm:space-y-6 lg:space-y-8",children:[a.jsx("div",{className:"relative",children:a.jsxs(xc,{className:"w-full justify-start",children:[a.jsxs(Zt,{value:"generate",className:"flex-shrink-0",children:[a.jsx(Jj,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"LICENSE"})]}),a.jsxs(Zt,{value:"keys",className:"flex-shrink-0",children:[a.jsx(ey,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsxs("span",{className:"hidden sm:inline",children:["USERS (",N.licenses,")"]})]}),a.jsxs(Zt,{value:"errors",className:"flex-shrink-0",children:[a.jsx(st,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsxs("span",{className:"hidden sm:inline",children:["ERRORS (",N.errors,")"]})]}),a.jsxs(Zt,{value:"health",className:"flex-shrink-0",children:[a.jsx(wn,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"MONITORING"})]}),a.jsxs(Zt,{value:"performance",className:"flex-shrink-0",children:[a.jsx(Fe,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"PERFORMANCE"})]}),a.jsxs(Zt,{value:"files",className:"flex-shrink-0",children:[a.jsx(Ai,{className:"w-4 h-4 sm:w-4 sm:h-4 mr-0 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"FILES"})]})]})}),a.jsx(er,{value:"generate",children:a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(ue,{className:"relative z-10",children:[a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"LICENSE GENERATOR"}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"GENERATE LICENSE KEYS WITH EXPIRY SETTINGS"})]}),a.jsxs(Y,{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ut,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"KEY QUANTITY"}),a.jsx(Qe,{type:"number",value:h,onChange:C=>f(Math.max(1,parseInt(C.target.value)||1)),min:"1",max:"50",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ut,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"LICENSE"}),a.jsx("select",{value:m,onChange:C=>g(C.target.value),className:"bg-slate-700/80 border border-cyan-400/30 text-cyan-200 font-jetbrains rounded-md px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-cyan-500/50 backdrop-blur-sm",children:Ym.map(C=>a.jsx("option",{value:C.value,className:"bg-slate-800",children:C.label},C.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ut,{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"USERNAME"}),a.jsx(Qe,{type:"text",value:v,onChange:C=>w(C.target.value),placeholder:"ASSIGN USER",className:"bg-slate-700/80 border-cyan-400/30 text-cyan-200 font-jetbrains backdrop-blur-sm focus:border-cyan-300/60 disabled:opacity-50",disabled:h>1}),h>1&&a.jsx("p",{className:"text-xs text-cyan-300/60 font-jetbrains mt-1",children:"USER ASSIGNMENT REQUIRES SINGLE KEY MODE"})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsx(K,{onClick:Q,disabled:y,className:"relative z-10 w-full h-12 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 shadow-lg",children:y?"⚡ FORGING KEYS...":`⚡ FORGE ${h} KEY${h>1?"S":""}`})]})]})]})}),a.jsx(er,{value:"keys",children:a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsx(ue,{className:"relative z-10",children:a.jsxs(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider flex items-center justify-between",children:["USER LICENSE DATABASE",a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>d(!c),className:"relative z-10 bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm",children:[c?a.jsx(xl,{className:"w-4 h-4"}):a.jsx(_n,{className:"w-4 h-4"}),a.jsx("span",{className:"ml-2 hidden sm:inline",children:c?"HIDE":"REVEAL"})]})]})]})}),a.jsxs(Y,{className:"relative z-10",children:[k.length>0&&a.jsx("div",{className:"mb-6",children:a.jsx(Km,{selectedItems:k,onClearSelection:()=>E([]),onBulkDelete:_e,onBulkToggleStatus:Ne,onBulkExport:Ve,itemType:"licenses"})}),a.jsxs(tC,{children:[a.jsx(rC,{children:a.jsxs("tr",{className:"border-b border-cyan-400/30",children:[a.jsx(Un,{priority:"high",className:"w-12",children:a.jsx("input",{ref:P,type:"checkbox",checked:k.length===r.length&&r.length>0,onChange:C=>Br(C.target.checked),className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50 touch-target"})}),a.jsx(Un,{priority:"high",children:"LICENSE KEY"}),a.jsx(Un,{priority:"medium",children:"USERNAME"}),a.jsx(Un,{priority:"high",children:"STATUS"}),a.jsx(Un,{priority:"low",children:"USAGE"}),a.jsx(Un,{priority:"low",children:"EXPIRES"}),a.jsx(Un,{priority:"high",children:"CONTROLS"})]})}),a.jsx(nC,{children:r.map(C=>{var V;return a.jsxs(sC,{className:`${k.includes(C.id)?"bg-cyan-500/10":""}`,mobileLayout:a.jsxs("div",{className:"p-4 space-y-5 hover:bg-slate-800/40 transition-colors duration-200 rounded-lg border border-cyan-400/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("input",{type:"checkbox",checked:k.includes(C.id),onChange:F=>{F.stopPropagation(),cr(C.id,F.target.checked)},className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50 touch-target h-5 w-5"}),a.jsx("span",{className:`px-3 py-1.5 rounded-md text-xs font-jetbrains font-medium uppercase tracking-wider ${H(C.status,C.is_active,C.expires_at)} border backdrop-blur-sm`,children:ee(C.status,C.is_active,C.expires_at)})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains mb-2 tracking-wider",children:"LICENSE KEY"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("code",{className:"bg-slate-700/70 px-3 py-2.5 rounded border border-cyan-400/30 backdrop-blur-sm text-xs break-all flex-1",children:c?C.license_key:"●●●●●●●●●●●●●●●●●●●●●●●●"}),a.jsx(K,{variant:"ghost",size:"sm",onClick:()=>U(C.license_key),className:"p-3 h-12 w-12 hover:bg-cyan-500/20 text-cyan-400 touch-target flex-shrink-0 rounded-lg",title:"Copy license key",children:a.jsx(pl,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains mb-2 tracking-wider",children:"USERNAME"}),a.jsx("div",{className:"text-cyan-300 font-jetbrains text-sm min-h-[1.25rem]",children:C.assigned_user_email||a.jsx("span",{className:"text-slate-400 italic",children:"UNASSIGNED"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains tracking-wider",children:"USAGE"}),a.jsxs("div",{className:"text-cyan-300 font-jetbrains font-bold text-sm min-h-[1.25rem]",children:[C.password_generation_count,"/",C.max_password_generations," USES"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains tracking-wider",children:"EXPIRES"}),a.jsx("div",{className:"text-cyan-300 font-jetbrains text-sm min-h-[1.25rem]",children:C.expires_at?new Date(C.expires_at).toLocaleDateString():"ETERNAL"})]})]}),a.jsxs("div",{className:"space-y-4 pt-2 border-t border-cyan-400/20",children:[a.jsx("div",{className:"text-xs text-cyan-400 uppercase font-jetbrains tracking-wider",children:"CONTROLS"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>G(C.id,C.status),className:"bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 backdrop-blur-sm touch-target flex-1 h-11 min-w-0",disabled:C.status==="expired",title:C.status==="active"?"Pause license":"Activate license",children:[C.status==="active"?a.jsx(cu,{className:"w-4 h-4 mr-2"}):a.jsx(V0,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-xs font-semibold",children:C.status==="active"?"PAUSE":"ACTIVATE"})]}),a.jsx(K,{variant:"outline",size:"sm",onClick:()=>re(C.id),className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 backdrop-blur-sm touch-target px-4 h-11",title:"Delete license",children:a.jsx(ta,{className:"w-4 h-4"})})]})]})]}),children:[a.jsx($n,{priority:"high",children:a.jsx("input",{type:"checkbox",checked:k.includes(C.id),onChange:F=>{F.stopPropagation(),cr(C.id,F.target.checked)},className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50"})}),a.jsx($n,{priority:"high",label:"License Key",className:"text-cyan-300 font-jetbrains",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("code",{className:"bg-slate-700/70 px-3 py-2 rounded border border-cyan-400/30 backdrop-blur-sm text-sm",children:c?C.license_key:"●●●●●●●●●●●●●●●●●●●●●●●●"}),a.jsx(K,{variant:"ghost",size:"sm",onClick:()=>U(C.license_key),className:"p-2 h-9 w-9 hover:bg-cyan-500/20 text-cyan-400 rounded-lg",title:"Copy license key",children:a.jsx(pl,{className:"w-4 h-4"})})]})}),a.jsx($n,{priority:"medium",label:"Username",className:"text-cyan-300 font-jetbrains",children:C.assigned_user_email||a.jsx("span",{className:"text-slate-400 italic",children:"UNASSIGNED"})}),a.jsx($n,{priority:"high",label:"Status",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:`px-3 py-1.5 rounded-md text-xs font-jetbrains font-medium uppercase tracking-wider ${H(C.status,C.is_active,C.expires_at)} border backdrop-blur-sm`,children:ee(C.status,C.is_active,C.expires_at)}),C.expiry_preset&&a.jsx("div",{className:"text-xs text-cyan-400/60 font-jetbrains uppercase tracking-wide",children:(V=Ym.find(F=>F.value===C.expiry_preset))==null?void 0:V.label})]})}),a.jsxs($n,{priority:"low",label:"Usage",className:"text-cyan-300 font-jetbrains font-bold",children:[C.password_generation_count,"/",C.max_password_generations," USES"]}),a.jsx($n,{priority:"low",label:"Expires",className:"text-cyan-300 font-jetbrains",children:C.expires_at?new Date(C.expires_at).toLocaleDateString():"ETERNAL"}),a.jsx($n,{priority:"high",label:"Controls",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(K,{variant:"outline",size:"sm",onClick:()=>G(C.id,C.status),className:"bg-slate-700/80 border-cyan-400/40 text-cyan-200 hover:bg-slate-600/80 hover:border-cyan-300/60 backdrop-blur-sm px-3 py-2 h-9",disabled:C.status==="expired",title:C.status==="active"?"Pause license":"Activate license",children:C.status==="active"?a.jsx(cu,{className:"w-4 h-4"}):a.jsx(V0,{className:"w-4 h-4"})}),a.jsx(K,{variant:"outline",size:"sm",onClick:()=>re(C.id),className:"bg-red-600/30 border-red-400/40 text-red-300 hover:bg-red-600/50 hover:border-red-300/60 backdrop-blur-sm px-3 py-2 h-9",title:"Delete license",children:a.jsx(ta,{className:"w-4 h-4"})})]})})]},C.id)})})]})]})]})}),a.jsxs(er,{value:"errors",className:"space-y-6",children:[a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(ue,{className:"relative z-10",children:[a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"SYSTEM ERROR LOGS"}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"TELEGRAM FAILURES • ENCRYPTION ERRORS • CRITICAL SYSTEM ALERTS"})]}),a.jsxs(Y,{className:"relative z-10",children:[T.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx(Km,{selectedItems:T,onClearSelection:()=>O([]),onBulkDelete:ws,onBulkToggleStatus:lr,itemType:"errors"})}),a.jsxs("div",{className:"mb-4 flex gap-4 text-sm font-jetbrains",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500/30 rounded-full border border-red-400/40"}),a.jsxs("span",{className:"text-red-300",children:["Unresolved: ",s.filter(C=>!C.resolved_status).length]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500/30 rounded-full border border-green-400/40"}),a.jsxs("span",{className:"text-green-300",children:["Resolved: ",s.filter(C=>C.resolved_status).length]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-cyan-400/30",children:[a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider w-12",children:a.jsx("input",{ref:I,type:"checkbox",checked:T.length===s.length&&s.length>0,onChange:C=>In(C.target.checked),className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50"})}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"TYPE"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"SEVERITY"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"MESSAGE"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"TIMESTAMP"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"STATUS"}),a.jsx("th",{className:"text-left p-3 text-cyan-200 font-jetbrains font-bold uppercase tracking-wider",children:"ACTIONS"})]})}),a.jsxs("tbody",{children:[s.map(C=>a.jsxs("tr",{className:`border-b border-cyan-400/10 hover:bg-cyan-500/5 transition-colors ${T.includes(C.id)?"bg-cyan-500/10":""}`,children:[a.jsx("td",{className:"p-3",children:a.jsx("input",{type:"checkbox",checked:T.includes(C.id),onChange:V=>{V.stopPropagation(),js(C.id,V.target.checked)},className:"rounded border-cyan-400/30 bg-slate-700/80 text-cyan-500 focus:ring-cyan-500/50"})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${ne(C.error_type)} border backdrop-blur-sm`,children:C.error_type.replace("_"," ")})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider ${Ke(C.severity)} border backdrop-blur-sm`,children:C.severity})}),a.jsxs("td",{className:"p-3 text-cyan-300 font-jetbrains max-w-md",children:[a.jsx("div",{className:"truncate",title:C.error_message,children:C.error_message}),C.error_details&&a.jsxs("div",{className:"text-xs text-cyan-400/60 mt-1",children:[JSON.stringify(C.error_details).slice(0,100),"..."]})]}),a.jsx("td",{className:"p-3 text-cyan-300 font-jetbrains text-xs",children:new Date(C.created_at).toLocaleString()}),a.jsx("td",{className:"p-3",children:a.jsx("div",{className:"flex items-center gap-2",children:C.resolved_status?a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-green-500/20 text-green-300 border border-green-400/30 backdrop-blur-sm",children:[a.jsx(ba,{className:"w-3 h-3 inline mr-1"}),"RESOLVED"]}):a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-jetbrains font-bold uppercase tracking-wider bg-red-500/20 text-red-300 border border-red-400/30 backdrop-blur-sm",children:[a.jsx(st,{className:"w-3 h-3 inline mr-1"}),"ACTIVE"]})})}),a.jsx("td",{className:"p-3",children:!C.resolved_status&&a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>te(C.id),className:"bg-green-600/30 border-green-400/40 text-green-300 hover:bg-green-600/50 hover:border-green-300/60 backdrop-blur-sm",children:[a.jsx(ba,{className:"w-3 h-3 mr-1"}),"RESOLVE"]})})]},C.id)),s.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-8 text-center text-cyan-300/60 font-jetbrains",children:"NO SYSTEM ERRORS DETECTED"})})]})]})})]})]}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-purple-900/50 to-violet-900/60 border border-purple-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400/3 via-violet-500/3 to-indigo-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-purple-400/30 to-transparent"}),a.jsxs(ue,{className:"relative z-10",children:[a.jsx(he,{className:"bg-gradient-to-r from-purple-200 via-violet-200 to-indigo-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"BLOCKED URLS STATISTICS"}),a.jsx(gt,{className:"text-purple-300/80 font-jetbrains tracking-wide",children:"DEAD URL ATTEMPTS • CACHE MANAGEMENT • REQUEST PATTERNS"})]}),a.jsx(Y,{className:"relative z-10",children:a.jsx(iC,{})})]})]}),a.jsx(er,{value:"health",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(eC,{}),a.jsx(Z4,{}),a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(ue,{className:"relative z-10",children:[a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"DATABASE MAINTENANCE"}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"AUTOMATED CLEANUP • DATA OPTIMIZATION • SYSTEM MAINTENANCE"})]}),a.jsxs(Y,{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{onClick:R,disabled:o,className:"relative z-10 w-full h-16 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-jetbrains font-bold uppercase tracking-wider border-0 shadow-lg flex flex-col items-center justify-center",children:[a.jsx(Ct,{className:"w-6 h-6 mb-1"}),"COMPREHENSIVE PURGE"]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{onClick:A,variant:"outline",className:"relative z-10 w-full h-16 bg-slate-800/80 border-yellow-400/40 text-yellow-200 hover:bg-slate-700/80 hover:border-yellow-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm flex flex-col items-center justify-center",children:[a.jsx(ta,{className:"w-5 h-5 mb-1"}),"PURGE EXPIRED"]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-500 to-pink-500 rounded-xl opacity-60 blur group-hover:opacity-100 transition duration-300"}),a.jsxs(K,{onClick:z,variant:"outline",className:"relative z-10 w-full h-16 bg-slate-800/80 border-red-400/40 text-red-200 hover:bg-slate-700/80 hover:border-red-300/60 font-jetbrains font-bold uppercase tracking-wider backdrop-blur-sm flex flex-col items-center justify-center",children:[a.jsx(st,{className:"w-5 h-5 mb-1"}),"CLEAN INACTIVE"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm mb-3",children:"COMPREHENSIVE PURGE TARGETS"}),a.jsxs("ul",{className:"space-y-2 text-cyan-300/80 text-sm font-jetbrains",children:[a.jsx("li",{children:"• Expired licenses (older than 30 days)"}),a.jsx("li",{children:"• Old user sessions (older than 7 days)"}),a.jsx("li",{children:"• Outdated visit statistics (older than 30 days)"}),a.jsx("li",{children:"• Orphaned session records"}),a.jsx("li",{children:"• Deactivated URL entries"})]})]}),a.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-cyan-400/20 backdrop-blur-sm",children:[a.jsx("h4",{className:"text-cyan-200 font-jetbrains font-bold uppercase tracking-wider text-sm mb-3",children:"SECURITY BENEFITS"}),a.jsxs("ul",{className:"space-y-2 text-cyan-300/80 text-sm font-jetbrains",children:[a.jsx("li",{children:"• Prevents database bloat"}),a.jsx("li",{children:"• Removes inactive user data"}),a.jsx("li",{children:"• Ensures URL security compliance"}),a.jsx("li",{children:"• Optimizes query performance"}),a.jsx("li",{children:"• Maintains data integrity"})]})]})]}),a.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-lg border border-yellow-400/30 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(st,{className:"w-5 h-5 text-yellow-300"}),a.jsx("h4",{className:"text-yellow-200 font-jetbrains font-bold uppercase tracking-wider text-sm",children:"AUTOMATED CLEANUP ACTIVE"})]}),a.jsx("p",{className:"text-yellow-300/80 text-sm font-jetbrains leading-relaxed",children:"The system automatically performs expired license cleanup every 5 minutes and refreshes health data every 3 minutes. Manual cleanup operations ensure optimal database performance and security compliance."})]})]})]})]})}),a.jsx(er,{value:"performance",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(cC,{}),a.jsx(dC,{}),a.jsx(fC,{})]})}),a.jsx(er,{value:"files",children:a.jsxs(q,{className:"relative bg-gradient-to-br from-slate-800/80 via-blue-900/50 to-indigo-900/60 border border-cyan-400/30 backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/3 via-blue-500/3 to-purple-500/3"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent"}),a.jsxs(ue,{className:"relative z-10",children:[a.jsx(he,{className:"bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent font-jetbrains font-bold text-xl uppercase tracking-wider",children:"FILE MANAGEMENT SYSTEM"}),a.jsx(gt,{className:"text-cyan-300/80 font-jetbrains tracking-wide",children:"UPLOAD AND MANAGE SCRIPT DOWNLOADS FOR USERS"})]}),a.jsx(Y,{className:"relative z-10",children:a.jsx(lC,{})})]})})]})]})]})},xC=()=>a.jsx(pC,{children:(t,e)=>a.jsx(gC,{initialData:t,onLogout:e})});class yC{constructor(){Z(this,"config",null);Z(this,"visitCount",0);Z(this,"todayVisits",0)}setConfig(e,r){this.config={botToken:e,chatId:r}}loadConfig(){}async getLocationData(e,r){if(r)return console.log("🌍 Using AlienAPI location data:",r),{location:`${r.country_name}`,country:r.country_name,countryCode:r.country_code,isp:r.isp};try{console.log("🌍 Fetching location data from fallback API for IP:",e);const s=await(await fetch(`https://ipapi.co/${e}/json/`)).json();return console.log("🌍 Fallback API response:",s),{location:`${s.city||"Unknown"}, ${s.country_name||"Unknown"}`,country:s.country_name,countryCode:s.country,isp:s.org}}catch(n){return console.error("🌍 Location API failed:",n),{location:"Unknown",country:"Unknown",countryCode:"XX",isp:"Unknown"}}}getCountryFlag(e){if(!e||e.length!==2)return"🌍";const n=e.toUpperCase().split("").map(s=>127397+s.charCodeAt(0));return String.fromCodePoint(...n)}updateVisitCounts(){const e=parseInt(localStorage.getItem("total_visits")||"0")+1;localStorage.setItem("total_visits",e.toString()),this.visitCount=e;const r=new Date().toDateString();localStorage.getItem("last_visit_date")===r?this.todayVisits=parseInt(localStorage.getItem("today_visits")||"0")+1:(this.todayVisits=1,localStorage.setItem("last_visit_date",r)),localStorage.setItem("today_visits",this.todayVisits.toString())}getBrowserInfo(e){console.log("🔍 Detecting browser for User-Agent:",e);const r=[{name:"Edge",pattern:/\b(?:Edg|Edge|EdgA|EdgiOS|EdgeHTML)\b/i,versionPattern:/\b(?:Edg|Edge|EdgA|EdgiOS|EdgeHTML)\/([\d.]+)/i,icon:"🔷"},{name:"Opera",pattern:/\b(?:OPR|Opera|OPiOS)\b/i,versionPattern:/\b(?:OPR|Opera|OPiOS)\/([\d.]+)/i,icon:"🎭"},{name:"Firefox",pattern:/\b(?:Firefox|FxiOS)\b/i,versionPattern:/\b(?:Firefox|FxiOS)\/([\d.]+)/i,icon:"🦊"},{name:"Safari",pattern:/\bSafari\b/i,versionPattern:/\bVersion\/([\d.]+)/i,icon:"🍃",exclude:/\b(?:Chrome|Chromium|Edg|Edge|OPR|Opera)\b/i},{name:"Chrome",pattern:/\b(?:Chrome|Chromium)\b/i,versionPattern:/\b(?:Chrome|Chromium)\/([\d.]+)/i,icon:"🌐",exclude:/\b(?:Edg|Edge|EdgA|EdgiOS|EdgeHTML|OPR|Opera|OPiOS)\b/i},{name:"Internet Explorer",pattern:/\b(?:MSIE|Trident)\b/i,versionPattern:/\b(?:MSIE ([\d.]+)|rv:([\d.]+))\b/i,icon:"🔗"}];for(const n of r)if(n.pattern.test(e)){if(n.exclude&&n.exclude.test(e)){console.log(`❌ ${n.name} pattern matched but excluded due to: ${n.exclude}`);continue}const s=e.match(n.versionPattern),i=s&&(s[1]||s[2])||"Unknown",o=`${n.icon} ${n.name} ${i}`;return console.log(`✅ Browser detected: ${o}`),o}return console.log("❓ Unknown browser detected"),"❓ Unknown Browser"}formatHumanMessage(e){const r=this.getCountryFlag(e.countryCode||""),n=e.timestamp.toISOString().replace("T"," ").slice(0,19)+" UTC";return`✅ REAL HUMAN VISIT
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 Status: Successfully processed
🌐 IP: ${e.ip}
${r} Location: ${e.location||"Unknown"}
🏢 ISP: ${e.isp||"Unknown"}
${e.browserInfo||"❓ Unknown Browser"}
📊 Visit #${e.visitCount} | Today: ${e.todayVisits} visits
🕐 Time: ${n}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━`}formatBotMessage(e){const r=this.getCountryFlag(e.countryCode||""),n=e.timestamp.toISOString().replace("T"," ").slice(0,19)+" UTC",s=e.confidence??0,i=e.action||"unknown",o={redirect:"↗️",trap:"🕳️",monitor:"👀",allow:"✅"}[i]||"❓",l=s>=80?"🔴":s>=60?"🟡":"🟢";return`🤖 BOT DETECTED & PROCESSED
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
${o} Action: ${i.toUpperCase()}
${l} Confidence: ${s}% (Local: ${e.localScore||0}% | AlienAPI: ${e.alienScore||0}%)
🧠 Behavior Score: ${e.behaviorScore||0}%
🌐 IP: ${e.ip}
${r} Location: ${e.location||"Unknown"}
🏢 ISP: ${e.isp||"Unknown"}
${e.browserInfo||"❓ Unknown Browser"}
🖥️ User-Agent: ${e.userAgent.slice(0,80)}${e.userAgent.length>80?"...":""}
🕐 Time: ${n}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━`}getNotificationSettings(){return{humanVisits:!0,botDetections:!0}}setNotificationSettings(e){}async sendNotification(e){const{supabase:r}=await $t(async()=>{const{supabase:o}=await Promise.resolve().then(()=>M3);return{supabase:o}},void 0),n=this.getNotificationSettings(),s=e.isBot||!1;if(s&&!n.botDetections){console.log("Bot detection notification disabled, skipping");return}if(!s&&!n.humanVisits){console.log("Human visit notification disabled, skipping");return}const i=localStorage.getItem("license_session_token");if(!i)throw console.error("❌ CRITICAL: No session token found, cannot send Telegram notification"),new Error("No session token found for Telegram notification");try{console.log("🚀 Sending Telegram notification for:",e),this.updateVisitCounts();const o=await this.getLocationData(e.ip||"",e.locationData);console.log("Location data retrieved:",o);const{data:l,error:c}=await r.functions.invoke("telegram-notify",{body:{ip:e.ip||"Unknown",userAgent:e.userAgent||"Unknown",isBot:e.isBot||!1,confidence:e.confidence,action:e.action,behaviorScore:e.behaviorScore,localScore:e.localScore,alienScore:e.alienScore,sessionToken:i,locationData:{country_name:o.country,country_code:o.countryCode,isp:o.isp,hostname:o.isp,ip:e.ip}}});if(c)throw console.error("❌ Telegram notification Edge Function error:",c),await r.rpc("log_system_error_enhanced",{error_type_input:"telegram",error_message_input:`Telegram notification failed: ${c.message}`,error_details_input:{error:c.message,visitData:JSON.stringify(e)},user_session_token_input:i,severity_input:"error",skip_if_configuration:!0}),new Error(`Telegram notification failed: ${c.message}`);console.log("✅ Telegram notification sent successfully via Edge Function!")}catch(o){throw console.error("Failed to send Telegram notification:",o),await r.rpc("log_system_error_enhanced",{error_type_input:"telegram",error_message_input:`Telegram notification failed: ${o.message}`,error_details_input:{error:o.message,visitData:JSON.stringify(e)},user_session_token_input:i,severity_input:"error",skip_if_configuration:!0}),o}}clearConfig(){this.config=null}isConfigured(){var e,r;return!!((e=this.config)!=null&&e.botToken&&((r=this.config)!=null&&r.chatId))}}const Dn=new yC,vC=()=>{const[t,e]=p.useState(""),[r,n]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,d]=p.useState(!1),[u,h]=p.useState(!1),[f,m]=p.useState({humanVisits:!0,botDetections:!0}),{toast:g}=An();p.useEffect(()=>{v()},[]);const v=async()=>{try{const j=localStorage.getItem("license_session_token");if(!j){console.log("No session token found");return}const{data:_,error:N}=await $.rpc("get_user_telegram_config",{session_token_input:j});if(N){console.error("Failed to load telegram config:",N),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to load Telegram configuration: ${N.message}`,error_details_input:{error:N.message,code:N.code},user_session_token_input:j,severity_input:"error"}),g({title:"Configuration Error",description:"Failed to load Telegram configuration from database",variant:"destructive"});return}if(_&&_.length>0){const S=_[0];i(!0);const k=S.notification_settings||{humanVisits:!0,botDetections:!0};m(k),Dn.setConfig(S.bot_token,S.chat_id),Dn.setNotificationSettings(k),console.log("Loaded configuration from database")}else i(!1),console.log("No Telegram configuration found in database")}catch(j){console.error("Error loading configuration:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error loading Telegram configuration: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Configuration Error",description:"Unexpected error loading Telegram configuration",variant:"destructive"})}},w=async()=>{if(!t.trim()||!r.trim()){g({title:"Missing Information",description:"Please enter both bot token and chat ID",variant:"destructive"});return}l(!0);try{const j=localStorage.getItem("license_session_token");if(!j){g({title:"Session Error",description:"No active session found. Please login again.",variant:"destructive"});return}const{error:_}=await $.rpc("upsert_user_telegram_config",{session_token_input:j,bot_token_input:t.trim(),chat_id_input:r.trim(),notification_settings_input:f});if(_){console.error("Database save error:",_),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to save Telegram configuration: ${_.message}`,error_details_input:{error:_.message,code:_.code},user_session_token_input:j,severity_input:"error"}),g({title:"Configuration Save Failed",description:"Failed to save Telegram configuration to database",variant:"destructive"});return}Dn.setConfig(t.trim(),r.trim()),Dn.setNotificationSettings(f),i(!0),e(""),n(""),g({title:"Success",description:"Telegram notifications configured successfully"})}catch(j){console.error("Save error:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error saving Telegram configuration: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Configuration Save Failed",description:"Unexpected error saving Telegram configuration",variant:"destructive"})}finally{l(!1)}},y=async()=>{if(!s){g({title:"Not Configured",description:"Please configure Telegram first",variant:"destructive"});return}d(!0);try{await Dn.sendNotification({ip:"127.0.0.1",userAgent:"Test Browser - Manual Test",isBot:!1}),g({title:"Test Sent",description:"Check your Telegram for the test message"})}catch(j){console.error("Test notification error:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_send",error_message_input:`Test notification failed: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Test Notification Failed",description:"Could not send test message - check admin panel for details",variant:"destructive"})}finally{d(!1)}},x=async()=>{try{const j=localStorage.getItem("license_session_token");if(j){const{error:_}=await $.rpc("delete_user_telegram_config",{session_token_input:j});_&&(console.error("Failed to clear database config:",_),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to clear Telegram configuration: ${_.message}`,error_details_input:{error:_.message,code:_.code},user_session_token_input:j,severity_input:"error"}))}e(""),n(""),i(!1),Dn.clearConfig(),g({title:"Cleared",description:"Telegram configuration has been reset"})}catch(j){console.error("Error clearing config:",j);const _=localStorage.getItem("license_session_token");_&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error clearing Telegram configuration: ${j.message}`,error_details_input:{error:j.message},user_session_token_input:_,severity_input:"error"}),g({title:"Clear Configuration Failed",description:"Unexpected error clearing Telegram configuration",variant:"destructive"})}},b=async(j,_)=>{const N={...f,[j]:_};m(N);try{const S=localStorage.getItem("license_session_token");if(S){const{error:k}=await $.rpc("update_user_notification_settings",{session_token_input:S,notification_settings_input:N});k&&(console.error("Failed to update notification settings in database:",k),await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Failed to update notification settings: ${k.message}`,error_details_input:{error:k.message,code:k.code},user_session_token_input:S,severity_input:"error"}))}Dn.setNotificationSettings(N),g({title:`${_?"Enabled":"Disabled"}`,description:`${j==="humanVisits"?"Human visit":"Bot detection"} notifications ${_?"enabled":"disabled"}`})}catch(S){console.error("Error updating notification settings:",S);const k=localStorage.getItem("license_session_token");k&&await $.rpc("log_system_error",{error_type_input:"telegram_config",error_message_input:`Unexpected error updating notification settings: ${S.message}`,error_details_input:{error:S.message},user_session_token_input:k,severity_input:"error"}),g({title:"Settings Update Failed",description:"Unexpected error updating notification settings",variant:"destructive"})}};return a.jsx("div",{className:"space-y-6 sm:space-y-8",children:s?a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-green-500/40 rounded-xl p-4 sm:p-6 shadow-xl shadow-green-500/10 touch-manipulation",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-green-400/30 rounded-full blur-sm animate-pulse"}),a.jsx(Ti,{className:"relative z-10 h-4 w-4 sm:h-5 sm:w-5 text-green-400"})]}),a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-green-300 tracking-wide",children:"Active Configuration"})]}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-green-400/80 leading-relaxed",children:"Telegram notifications are configured and operational"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[a.jsx(K,{variant:"outline",size:"sm",onClick:x,className:"border-red-500/40 text-red-300 hover:text-red-200 hover:bg-red-500/20 bg-slate-800/50 backdrop-blur-sm font-inter font-medium min-h-[44px] px-4 touch-manipulation transition-all duration-300",children:"Disconnect"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-green-500 to-blue-500 rounded-lg opacity-60 blur group-hover:opacity-90 transition duration-300"}),a.jsx(K,{size:"sm",onClick:y,disabled:c,className:"relative z-10 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-500 hover:to-blue-500 text-white font-inter font-semibold min-h-[44px] px-4 touch-manipulation shadow-lg transition-all duration-300",children:c?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zj,{className:"mr-2 h-4 w-4"}),"Send Test"]})})]})]})]})}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 shadow-xl shadow-blue-500/10 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-4 sm:mb-6 tracking-wide",children:"Notification Preferences"}),a.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[a.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 bg-slate-700/40 backdrop-blur-sm rounded-lg border border-blue-500/20 gap-4 touch-manipulation transition-all duration-200 hover:bg-slate-700/60",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-inter font-medium text-blue-200 text-sm sm:text-base leading-tight",children:"Human Visits"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Alert when real users access your links"})]}),a.jsx("button",{onClick:()=>b("humanVisits",!f.humanVisits),className:`relative inline-flex h-6 w-11 sm:h-7 sm:w-13 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:ring-offset-2 focus:ring-offset-slate-800 flex-shrink-0 min-h-[44px] min-w-[44px] touch-manipulation ${f.humanVisits?"bg-gradient-to-r from-blue-500 to-purple-500 shadow-lg shadow-blue-500/30":"bg-slate-600 hover:bg-slate-500"}`,style:{minHeight:"44px",minWidth:"44px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("span",{className:`inline-block h-4 w-4 sm:h-5 sm:w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${f.humanVisits?"translate-x-6 sm:translate-x-7":"translate-x-1"}`})})]}),a.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 sm:p-4 bg-slate-700/40 backdrop-blur-sm rounded-lg border border-blue-500/20 gap-4 touch-manipulation transition-all duration-200 hover:bg-slate-700/60",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-inter font-medium text-blue-200 text-sm sm:text-base leading-tight",children:"Bot Detection"}),a.jsx("p",{className:"font-inter text-xs sm:text-sm text-blue-300/70 mt-0.5 sm:mt-1 leading-relaxed",children:"Alert when automated traffic is detected"})]}),a.jsx("button",{onClick:()=>b("botDetections",!f.botDetections),className:`relative inline-flex h-6 w-11 sm:h-7 sm:w-13 items-center rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:ring-offset-2 focus:ring-offset-slate-800 flex-shrink-0 min-h-[44px] min-w-[44px] touch-manipulation ${f.botDetections?"bg-gradient-to-r from-blue-500 to-purple-500 shadow-lg shadow-blue-500/30":"bg-slate-600 hover:bg-slate-500"}`,style:{minHeight:"44px",minWidth:"44px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("span",{className:`inline-block h-4 w-4 sm:h-5 sm:w-5 transform rounded-full bg-white shadow-lg transition-transform duration-300 ${f.botDetections?"translate-x-6 sm:translate-x-7":"translate-x-1"}`})})]})]})]})]}):a.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 shadow-xl shadow-blue-500/10 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-4 sm:mb-6 tracking-wide",children:"Bot Authentication"}),a.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx(Ut,{htmlFor:"botToken",className:"font-inter text-sm font-medium text-blue-300 tracking-wide",children:"Bot Token"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg opacity-0 group-focus-within:opacity-100 transition duration-300 blur-sm"}),a.jsx(Qe,{id:"botToken",type:u?"text":"password",placeholder:"Enter your Telegram bot token",value:t,onChange:j=>e(j.target.value),className:"relative z-10 pr-12 bg-slate-800/60 backdrop-blur-sm border-blue-500/30 focus:border-blue-400/60 focus:ring-blue-400/30 text-blue-200 placeholder:text-blue-400/60 text-sm font-inter min-h-[44px] touch-manipulation",disabled:o}),a.jsx(K,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(!u),className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0 hover:bg-blue-500/20 text-blue-300 hover:text-blue-200 transition-all duration-200 backdrop-blur-sm min-h-[32px] touch-manipulation",disabled:o,children:u?a.jsx(xl,{className:"h-4 w-4"}):a.jsx(_n,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"font-inter text-xs text-blue-300/60 leading-relaxed",children:"Obtain from @BotFather on Telegram"})]}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx(Ut,{htmlFor:"chatId",className:"font-inter text-sm font-medium text-blue-300 tracking-wide",children:"Chat ID"}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg opacity-0 group-focus-within:opacity-100 transition duration-300 blur-sm"}),a.jsx(Qe,{id:"chatId",type:"text",placeholder:"Enter your Telegram chat ID",value:r,onChange:j=>n(j.target.value),className:"relative z-10 bg-slate-800/60 backdrop-blur-sm border-blue-500/30 focus:border-blue-400/60 focus:ring-blue-400/30 text-blue-200 placeholder:text-blue-400/60 text-sm font-inter min-h-[44px] touch-manipulation",disabled:o})]}),a.jsx("p",{className:"font-inter text-xs text-blue-300/60 leading-relaxed",children:"Personal or group ID for notifications"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-6 sm:pt-8",children:[a.jsx("div",{className:"relative group sm:order-1",children:a.jsx(K,{variant:"outline",onClick:x,className:"w-full sm:w-auto border-blue-500/30 text-blue-300 hover:text-blue-200 hover:bg-slate-700/60 bg-slate-800/50 backdrop-blur-sm font-inter font-medium min-h-[44px] px-4 sm:px-6 touch-manipulation transition-all duration-300",disabled:o,children:"Reset"})}),a.jsxs("div",{className:"relative group sm:order-2",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg opacity-60 blur group-hover:opacity-90 transition duration-300"}),a.jsx(K,{onClick:w,className:"relative z-10 w-full sm:w-auto bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-inter font-semibold min-h-[44px] px-4 sm:px-6 touch-manipulation shadow-lg transition-all duration-300 backdrop-blur-sm",disabled:o||!t.trim()||!r.trim(),children:o?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Save Configuration"]})})]})]})]})})})},bC=()=>{const[t,e]=p.useState(!1);return p.useEffect(()=>{const r=setTimeout(()=>{e(!0)},50);return()=>clearTimeout(r)},[]),t?a.jsx(vC,{}):a.jsx("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 shadow-xl shadow-blue-500/10",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-6 bg-blue-500/20 rounded w-1/3 animate-pulse"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-blue-500/20 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-11 bg-blue-500/20 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-blue-500/20 rounded w-1/4 animate-pulse"}),a.jsx("div",{className:"h-11 bg-blue-500/20 rounded animate-pulse"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("div",{className:"h-11 bg-blue-500/20 rounded w-20 animate-pulse"}),a.jsx("div",{className:"h-11 bg-blue-500/20 rounded w-32 animate-pulse"})]})]})})},wC=()=>{const t=nv();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 bg-[length:400%_400%] animate-gradient-flow relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[a.jsx("div",{className:"absolute top-20 left-10 w-16 h-16 bg-blue-400/20 backdrop-blur-sm rounded-lg animate-float-1"}),a.jsx("div",{className:"absolute top-40 right-16 w-12 h-12 bg-indigo-400/20 backdrop-blur-sm rounded-full animate-float-2"}),a.jsx("div",{className:"absolute bottom-32 left-1/4 w-20 h-8 bg-purple-400/20 backdrop-blur-sm transform rotate-45 animate-float-1"}),a.jsx("div",{className:"absolute bottom-20 right-1/3 w-10 h-10 bg-teal-400/20 backdrop-blur-sm transform rotate-12 animate-float-2"}),a.jsx("div",{className:"absolute top-1/4 w-full h-px bg-gradient-to-r from-transparent via-blue-400/50 to-transparent animate-scan-line"}),a.jsx("div",{className:"absolute bottom-1/3 w-full h-px bg-gradient-to-r from-transparent via-indigo-400/50 to-transparent animate-scan-line",style:{animationDelay:"4s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border border-blue-400/30 rounded-full animate-radar-pulse"}),a.jsx("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(90deg,transparent_24px,rgba(59,130,246,0.5)_25px,rgba(59,130,246,0.5)_26px,transparent_27px,transparent_49px,rgba(59,130,246,0.5)_50px,rgba(59,130,246,0.5)_51px,transparent_52px),linear-gradient(rgba(59,130,246,0.5)_24px,transparent_25px,transparent_26px,rgba(59,130,246,0.5)_27px,rgba(59,130,246,0.5)_49px,transparent_50px,transparent_51px,rgba(59,130,246,0.5)_52px)] bg-[size:52px_52px]"})]}),a.jsx("header",{className:"relative z-10 pt-3 sm:pt-4 md:pt-6 px-3 sm:px-4 md:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3 md:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 md:gap-3 min-w-0 flex-1",children:[a.jsxs("div",{className:"relative w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 to-blue-500/30 rounded-full animate-pulse blur-sm"}),a.jsx("div",{className:"relative z-10 w-full h-full rounded-full bg-gradient-to-br from-cyan-400/20 to-blue-500/20 backdrop-blur-sm border border-cyan-400/30 flex items-center justify-center",children:a.jsx("span",{className:"text-sm sm:text-base md:text-lg lg:text-xl font-jetbrains font-bold text-cyan-300 animate-pulse drop-shadow-lg select-none",children:"⚡"})})]}),a.jsx("h1",{className:"font-jetbrains text-sm sm:text-lg md:text-xl font-black bg-gradient-to-r from-cyan-200 via-blue-200 to-purple-200 bg-clip-text text-transparent tracking-wider drop-shadow-lg truncate min-w-0",children:"RAPIDREACH SETTINGS"})]}),a.jsxs("div",{className:"relative group flex-shrink-0",children:[a.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl opacity-50 group-hover:opacity-70 blur transition duration-300"}),a.jsxs(K,{variant:"outline",size:"sm",onClick:()=>t("/greyboi"),className:"relative z-10 flex items-center gap-1 sm:gap-2 border-blue-400/40 hover:border-blue-300/60 bg-slate-800/50 hover:bg-slate-700/60 text-blue-200 hover:text-blue-100 transition-all duration-300 backdrop-blur-sm font-jetbrains font-medium text-xs sm:text-sm min-h-[44px] px-2 sm:px-3 md:px-4 touch-manipulation",children:[a.jsx(Kh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),a.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})})}),a.jsx("main",{className:"relative z-10 container mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8 lg:py-12",children:a.jsxs("div",{className:"max-w-xs sm:max-w-2xl md:max-w-3xl lg:max-w-4xl xl:max-w-5xl mx-auto space-y-6 sm:space-y-8",children:[a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{className:"border-b border-blue-400/30 pb-3 sm:pb-4",children:[a.jsx("h2",{className:"font-jetbrains text-lg sm:text-xl md:text-2xl font-bold text-blue-200 tracking-tight leading-tight",children:"Telegram Integration"}),a.jsx("p",{className:"font-inter text-blue-300/80 mt-0.5 sm:mt-1 text-sm sm:text-base leading-relaxed",children:"Configure instant notification delivery"})]}),a.jsx(bC,{})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 pt-4 sm:pt-6 md:pt-8",children:[a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Security Protocols"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Advanced protection configuration"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-3/4"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-1/2"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Performance Optimization"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Speed and efficiency tuning"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-2/3"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-4/5"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Bot Detection"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Automated traffic filtering"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-3/5"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-4/5"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]}),a.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4 sm:p-6 opacity-40 touch-manipulation",children:[a.jsx("h3",{className:"font-jetbrains text-base sm:text-lg font-semibold text-blue-200 mb-1 sm:mb-2 leading-tight",children:"Advanced Configuration"}),a.jsx("p",{className:"font-inter text-blue-300/70 text-xs sm:text-sm mb-3 sm:mb-4 leading-relaxed",children:"Extended functionality controls"}),a.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-full"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-1/2"}),a.jsx("div",{className:"h-2 sm:h-3 bg-blue-500/20 rounded w-3/4"})]}),a.jsx("div",{className:"mt-3 sm:mt-4 text-xs text-blue-300/40 italic font-jetbrains",children:"Available Soon"})]})]})]})})]})},jC=new m2;function _C(){return a.jsx(g2,{client:jC,children:a.jsx(F_,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:a.jsxs(GS,{children:[a.jsx($_,{}),a.jsx(gN,{}),a.jsx(lk,{children:a.jsxs(ak,{children:[a.jsx(Is,{path:"/",element:a.jsx(X4,{})}),a.jsx(Is,{path:"/greyboi",element:a.jsx(Y4,{})}),a.jsx(Is,{path:"/nexus",element:a.jsx(wC,{})}),a.jsx(Is,{path:"/falconG4t3_7x",element:a.jsx(xC,{})}),a.jsx(Is,{path:"*",element:a.jsx(J4,{})})]})})]})})})}bx(document.getElementById("root")).render(a.jsx(_C,{}));export{$t as _,zC as c,$ as s};
